var f,aa,ba=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},ca=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:ba(a)}},m="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,da=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(b.call(c,g,e,a))return{i:e,v:g}}return{i:-1,v:void 0}},ea="function"==typeof Object.defineProperties?
Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},n=function(a,b){if(b){var c=m;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ea(c,a,{configurable:!0,writable:!0,value:b})}};n("Array.prototype.findIndex",function(a){return a?a:function(b,c){return da(this,b,c).i}},"es6","es3");n("Array.prototype.find",function(a){return a?a:function(b,c){return da(this,b,c).v}},"es6","es3");
n("String.prototype.repeat",function(a){return a?a:function(b){if(null==this)throw new TypeError("The 'this' value for String.prototype.repeat must not be null or undefined");var c=this+"";if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var d="";b;)if(b&1&&(d+=c),b>>>=1)c+=c;return d}},"es6","es3");
n("Array.from",function(a){return a?a:function(b,c,d){c=null!=c?c:function(k){return k};var e=[],g="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof g){b=g.call(b);for(var h=0;!(g=b.next()).done;)e.push(c.call(d,g.value,h++))}else for(g=b.length,h=0;h<g;h++)e.push(c.call(d,b[h],h));return e}},"es6","es3");var fa=function(){fa=function(){};m.Symbol||(m.Symbol=ha)},ia=function(a,b){this.$jscomp$symbol$id_=a;ea(this,"description",{configurable:!0,writable:!0,value:b})};
ia.prototype.toString=function(){return this.$jscomp$symbol$id_};
var ha=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ia("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}(),ka=function(){fa();var a=m.Symbol.iterator;a||(a=m.Symbol.iterator=m.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&ea(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ja(ba(this))}});ka=function(){}},ja=function(a){ka();a={next:a};a[m.Symbol.iterator]=function(){return this};return a},
la=function(a,b){ka();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};n("Array.prototype.values",function(a){return a?a:function(){return la(this,function(b,c){return c})}},"es8","es3");
n("Promise",function(a){function b(){this.batch_=null}function c(h){return h instanceof e?h:new e(function(k){k(h)})}if(a)return a;b.prototype.asyncExecute=function(h){if(null==this.batch_){this.batch_=[];var k=this;this.asyncExecuteFunction(function(){k.executeBatch_()})}this.batch_.push(h)};var d=m.setTimeout;b.prototype.asyncExecuteFunction=function(h){d(h,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var h=this.batch_;this.batch_=[];for(var k=0;k<h.length;++k){var l=
h[k];h[k]=null;try{l()}catch(p){this.asyncThrow_(p)}}}this.batch_=null};b.prototype.asyncThrow_=function(h){this.asyncExecuteFunction(function(){throw h;})};var e=function(h){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var k=this.createResolveAndReject_();try{h(k.resolve,k.reject)}catch(l){k.reject(l)}};e.prototype.createResolveAndReject_=function(){function h(p){return function(q){l||(l=!0,p.call(k,q))}}var k=this,l=!1;return{resolve:h(this.resolveTo_),reject:h(this.reject_)}};
e.prototype.resolveTo_=function(h){if(h===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof e)this.settleSameAsPromise_(h);else{a:switch(typeof h){case "object":var k=null!=h;break a;case "function":k=!0;break a;default:k=!1}k?this.resolveToNonPromiseObj_(h):this.fulfill_(h)}};e.prototype.resolveToNonPromiseObj_=function(h){var k=void 0;try{k=h.then}catch(l){this.reject_(l);return}"function"==typeof k?this.settleSameAsThenable_(k,h):this.fulfill_(h)};e.prototype.reject_=
function(h){this.settle_(2,h)};e.prototype.fulfill_=function(h){this.settle_(1,h)};e.prototype.settle_=function(h,k){if(0!=this.state_)throw Error("Cannot settle("+h+", "+k+"): Promise already settled in state"+this.state_);this.state_=h;this.result_=k;this.executeOnSettledCallbacks_()};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var h=0;h<this.onSettledCallbacks_.length;++h)g.asyncExecute(this.onSettledCallbacks_[h]);this.onSettledCallbacks_=null}};var g=
new b;e.prototype.settleSameAsPromise_=function(h){var k=this.createResolveAndReject_();h.callWhenSettled_(k.resolve,k.reject)};e.prototype.settleSameAsThenable_=function(h,k){var l=this.createResolveAndReject_();try{h.call(k,l.resolve,l.reject)}catch(p){l.reject(p)}};e.prototype.then=function(h,k){function l(x,U){return"function"==typeof x?function(ib){try{p(x(ib))}catch(jb){q(jb)}}:U}var p,q,u=new e(function(x,U){p=x;q=U});this.callWhenSettled_(l(h,p),l(k,q));return u};e.prototype["catch"]=function(h){return this.then(void 0,
h)};e.prototype.callWhenSettled_=function(h,k){function l(){switch(p.state_){case 1:h(p.result_);break;case 2:k(p.result_);break;default:throw Error("Unexpected state: "+p.state_);}}var p=this;null==this.onSettledCallbacks_?g.asyncExecute(l):this.onSettledCallbacks_.push(l)};e.resolve=c;e.reject=function(h){return new e(function(k,l){l(h)})};e.race=function(h){return new e(function(k,l){for(var p=ca(h),q=p.next();!q.done;q=p.next())c(q.value).callWhenSettled_(k,l)})};e.all=function(h){var k=ca(h),
l=k.next();return l.done?c([]):new e(function(p,q){function u(ib){return function(jb){x[ib]=jb;U--;0==U&&p(x)}}var x=[],U=0;do x.push(void 0),U++,c(l.value).callWhenSettled_(u(x.length-1),q),l=k.next();while(!l.done)})};return e},"es6","es3");n("Promise.prototype.finally",function(a){return a?a:function(b){return this.then(function(c){return Promise.resolve(b()).then(function(){return c})},function(c){return Promise.resolve(b()).then(function(){throw c;})})}},"es9","es3");
n("Array.prototype.keys",function(a){return a?a:function(){return la(this,function(b){return b})}},"es6","es3");n("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}},"es6","es3");n("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var g=d[c];if(g===b||Object.is(g,b))return!0}return!1}},"es7","es3");
var ma="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a};n("Object.assign",function(a){return a||ma},"es6","es3");
var na=this||self,r=function(a){return void 0!==a},t=function(a,b,c){a=a.split(".");c=c||na;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&r(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}},v=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&
"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},oa=function(a,b,c){return a.call.apply(a.bind,arguments)},pa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,
2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}},qa=function(a,b,c){qa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oa:pa;return qa.apply(null,arguments)},ra=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,g){for(var h=Array(arguments.length-2),
k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};angular.module("ddmLocalization",[]);var sa=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,sa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.reportErrorToServer=!0};ra(sa,Error);sa.prototype.name="CustomError";var ta=function(a,b){for(var c=a.split("%s"),d="",e=c.length-1,g=0;g<e;g++)d+=c[g]+(g<b.length?b[g]:"%s");sa.call(this,d+c[e]);this.messagePattern=a};ra(ta,sa);ta.prototype.name="AssertionError";
var ua=function(a,b,c,d){var e="Assertion failed";if(c){e+=": "+c;var g=d}else a&&(e+=": "+a,g=b);throw new ta(""+e,g||[]);},w=function(a,b,c){a||ua("",null,b,Array.prototype.slice.call(arguments,2));return a},y=function(a,b){throw new ta("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},va=function(a,b,c){"string"==typeof a||ua("Expected string but got %s: %s.",[v(a),a],b,Array.prototype.slice.call(arguments,2));return a},wa=function(a,b,c){"array"==v(a)||ua("Expected array but got %s: %s.",
[v(a),a],b,Array.prototype.slice.call(arguments,2));return a};var za=function(a,b){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=a===xa&&b||"";this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=ya};za.prototype.implementsGoogStringTypedString=!0;za.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};za.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"};
var Aa=function(a){if(a instanceof za&&a.constructor===za&&a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===ya)return a.stringConstValueWithSecurityContract__googStringSecurityPrivate_;y("expected object of type Const, got '"+a+"'");return"type_error:Const"},ya={},xa={};var z=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="";this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Ba};z.prototype.implementsGoogStringTypedString=!0;var Ba={};z.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()};z.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"};
var Ca=function(a){if(a instanceof z&&a.constructor===z&&a.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Ba)return a.privateDoNotAccessOrElseSafeScriptWrappedValue_;y("expected object of type SafeScript, got '"+a+"' of type "+v(a));return"type_error:SafeScript"};z.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeScriptWrappedValue_=a;return this};(new z).initSecurityPrivateDoNotAccessOrElse_("");var Da=/<[^>]*>|&[^;]+;/g,Ea=function(a,b){return b?a.replace(Da,""):a},Fa=/[\u0591-\u06ef\u06fa-\u08ff\u200f\ud802-\ud803\ud83a-\ud83b\ufb1d-\ufdff\ufe70-\ufefc]/;var Ha=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="";this.trustedURL_=null;this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Ga};f=Ha.prototype;f.implementsGoogStringTypedString=!0;f.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()};f.implementsGoogI18nBidiDirectionalString=!0;f.getDirection=function(){return 1};
f.cloneWithParams=function(a,b){var c=Ia(this).toString();c=Ja.exec(c);var d=c[3]||"";a=c[1]+Ka("?",c[2]||"",a)+Ka("#",d,b);b=new Ha;b.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=a;return b};f.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"};
var Ia=function(a){if(a instanceof Ha&&a.constructor===Ha&&a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Ga)return a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;y("expected object of type TrustedResourceUrl, got '"+a+"' of type "+v(a));return"type_error:TrustedResourceUrl"},Ja=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,Ga={},Ka=function(a,b,c){if(null==c)return b;if("string"==typeof c)return c?a+encodeURIComponent(c):"";for(var d in c){var e=c[d];e="array"==v(e)?e:[e];for(var g=
0;g<e.length;g++){var h=e[g];null!=h&&(b||(b=a),b+=(b.length>a.length?"&":"")+encodeURIComponent(d)+"="+encodeURIComponent(String(h)))}}return b};var La=/&/g,Ma=/</g,Na=/>/g,Oa=/"/g,Pa=/'/g,Qa=/\x00/g,Ra=/[\x00&<>"']/;var A=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="";this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Sa};f=A.prototype;f.implementsGoogStringTypedString=!0;f.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()};f.implementsGoogI18nBidiDirectionalString=!0;f.getDirection=function(){return 1};f.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"};
var Ta=function(a){if(a instanceof A&&a.constructor===A&&a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Sa)return a.privateDoNotAccessOrElseSafeUrlWrappedValue_;y("expected object of type SafeUrl, got '"+a+"' of type "+v(a));return"type_error:SafeUrl"},Ua=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,Va=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,
Wa=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Ya=function(a,b){if(a instanceof A)return a;a="object"==typeof a&&a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);if(b&&/^data:/i.test(a)){b=a.replace(/(%0A|%0D)/g,"");var c=b.match(Va);c=c&&Ua.test(c[1]);b=Xa(c?b:"about:invalid#zClosurez");if(b.getTypedStringValue()==a)return b}w(Wa.test(a),"%s does not match the safe URL pattern",a)||(a="about:invalid#zClosurez");return Xa(a)},Sa={},Xa=function(a){var b=new A;b.privateDoNotAccessOrElseSafeUrlWrappedValue_=
a;return b};Xa("about:blank");var B=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="";this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Za};B.prototype.implementsGoogStringTypedString=!0;var Za={};B.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};B.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"};
var $a=function(a){if(a instanceof B&&a.constructor===B&&a.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Za)return a.privateDoNotAccessOrElseSafeStyleWrappedValue_;y("expected object of type SafeStyle, got '"+a+"' of type "+v(a));return"type_error:SafeStyle"};B.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=a;return this};(new B).initSecurityPrivateDoNotAccessOrElse_("");var bb=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="";this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=ab};bb.prototype.implementsGoogStringTypedString=!0;var ab={};bb.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_};bb.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"};
bb.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=a;return this};(new bb).initSecurityPrivateDoNotAccessOrElse_("");var C=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=cb;this.dir_=null};f=C.prototype;f.implementsGoogI18nBidiDirectionalString=!0;f.getDirection=function(){return this.dir_};f.implementsGoogStringTypedString=!0;f.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()};f.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"};
var db=function(a){if(a instanceof C&&a.constructor===C&&a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===cb)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;y("expected object of type SafeHtml, got '"+a+"' of type "+v(a));return"type_error:SafeHtml"},cb={};C.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a,b){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;this.dir_=b;return this};(new C).initSecurityPrivateDoNotAccessOrElse_("<!DOCTYPE html>",0);
(new C).initSecurityPrivateDoNotAccessOrElse_("",0);(new C).initSecurityPrivateDoNotAccessOrElse_("<br>",0);var eb={COMPACT_DECIMAL_SHORT_PATTERN:{1E3:{other:"0K"},1E4:{other:"00K"},1E5:{other:"000K"},1E6:{other:"0M"},1E7:{other:"00M"},1E8:{other:"000M"},1E9:{other:"0B"},1E10:{other:"00B"},1E11:{other:"000B"},1E12:{other:"0T"},1E13:{other:"00T"},1E14:{other:"000T"}},COMPACT_DECIMAL_LONG_PATTERN:{1E3:{other:"0 thousand"},1E4:{other:"00 thousand"},1E5:{other:"000 thousand"},1E6:{other:"0 million"},1E7:{other:"00 million"},1E8:{other:"000 million"},1E9:{other:"0 billion"},1E10:{other:"00 billion"},1E11:{other:"000 billion"},
1E12:{other:"0 trillion"},1E13:{other:"00 trillion"},1E14:{other:"000 trillion"}}},fb=eb;fb=eb;var hb=function(a,b){var c=["0"];b=gb[b];if(!b)return a;b=b[0]&7;if(0<b){c.push(".");for(var d=0;d<b;d++)c.push("0")}return a.replace(/0.00/g,c.join(""))},gb={AED:[2,"dh","\u062f.\u0625."],ALL:[0,"Lek","Lek"],AUD:[2,"$","AU$"],BDT:[2,"\u09f3","Tk"],BGN:[2,"lev","lev"],BRL:[2,"R$","R$"],CAD:[2,"$","C$"],CDF:[2,"FrCD","CDF"],CHF:[2,"CHF","CHF"],CLP:[0,"$","CL$"],CNY:[2,"\u00a5","RMB\u00a5"],COP:[32,"$","COL$"],CRC:[0,"\u20a1","CR\u20a1"],CZK:[50,"K\u010d","K\u010d"],DKK:[50,"kr.","kr."],DOP:[2,"RD$",
"RD$"],EGP:[2,"\u00a3","LE"],ETB:[2,"Birr","Birr"],EUR:[2,"\u20ac","\u20ac"],GBP:[2,"\u00a3","GB\u00a3"],HKD:[2,"$","HK$"],HRK:[2,"kn","kn"],HUF:[34,"Ft","Ft"],IDR:[0,"Rp","Rp"],ILS:[34,"\u20aa","IL\u20aa"],INR:[2,"\u20b9","Rs"],IRR:[0,"Rial","IRR"],ISK:[0,"kr","kr"],JMD:[2,"$","JA$"],JPY:[0,"\u00a5","JP\u00a5"],KRW:[0,"\u20a9","KR\u20a9"],LKR:[2,"Rs","SLRs"],LTL:[2,"Lt","Lt"],MNT:[0,"\u20ae","MN\u20ae"],MVR:[2,"Rf","MVR"],MXN:[2,"$","Mex$"],MYR:[2,"RM","RM"],NOK:[50,"kr","NOkr"],PAB:[2,"B/.","B/."],
PEN:[2,"S/.","S/."],PHP:[2,"\u20b1","PHP"],PKR:[0,"Rs","PKRs."],PLN:[50,"z\u0142","z\u0142"],RON:[2,"RON","RON"],RSD:[0,"din","RSD"],RUB:[50,"\u20bd","RUB"],SAR:[2,"Rial","Rial"],SEK:[50,"kr","kr"],SGD:[2,"$","S$"],THB:[2,"\u0e3f","THB"],TRY:[2,"\u20ba","TRY"],TWD:[2,"NT$","NT$"],TZS:[0,"TSh","TSh"],UAH:[2,"\u0433\u0440\u043d.","UAH"],USD:[2,"$","US$"],UYU:[2,"$","$U"],VND:[48,"\u20ab","VN\u20ab"],YER:[0,"Rial","Rial"],ZAR:[2,"R","ZAR"]};var kb={DECIMAL_SEP:".",GROUP_SEP:",",PERCENT:"%",ZERO_DIGIT:"0",PLUS_SIGN:"+",MINUS_SIGN:"-",EXP_SYMBOL:"E",PERMILL:"\u2030",INFINITY:"\u221e",NAN:"NaN",DECIMAL_PATTERN:"#,##0.###",SCIENTIFIC_PATTERN:"#E0",PERCENT_PATTERN:"#,##0%",CURRENCY_PATTERN:"\u00a4#,##0.00",DEF_CURRENCY_CODE:"USD"},lb=kb;lb=kb;var D=function(a,b){b?a=a.replace(La,"&amp;").replace(Ma,"&lt;").replace(Na,"&gt;").replace(Oa,"&quot;").replace(Pa,"&#39;").replace(Qa,"&#0;"):Ra.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(La,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(Ma,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(Na,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(Oa,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(Pa,"&#39;")),-1!=a.indexOf("\x00")&&(a=a.replace(Qa,"&#0;")));return a},mb=String.prototype.repeat?function(a,b){return a.repeat(b)}:
function(a,b){return Array(b+1).join(a)};var E=function(a,b,c,d){var e;if(e=b){a:if(b&&3===b.length){for(e=0;3>e;e++){var g=b[e];if("A">g||"Z"<g&&"a">g||"z"<g){e=!1;break a}}e=!0}else e=!1;e=!e}if(e)throw new TypeError("Currency must be valid ISO code");this.intlCurrencyCode_=b?b.toUpperCase():null;this.currencyStyle_=c||0;this.overrideNumberFormatSymbols_=d||null;this.maximumIntegerDigits_=40;this.minimumIntegerDigits_=1;this.significantDigits_=0;this.maximumFractionDigits_=3;this.minExponentDigits_=this.minimumFractionDigits_=0;this.showTrailingZeros_=
this.useSignForPositiveExponent_=!1;this.positiveSuffix_=this.positivePrefix_="";this.negativePrefix_=this.getNumberFormatSymbols_().MINUS_SIGN;this.negativeSuffix_="";this.multiplier_=1;this.negativePercentSignExpected_=!1;this.groupingArray_=[];this.useExponentialNotation_=this.decimalSeparatorAlwaysShown_=!1;this.compactStyle_=0;this.baseFormattingNumber_=null;"number"==typeof a?this.applyStandardPattern_(a):this.applyPattern_(a)};f=E.prototype;
f.getNumberFormatSymbols_=function(){return this.overrideNumberFormatSymbols_||lb};f.getCurrencyCode_=function(){return this.intlCurrencyCode_||this.getNumberFormatSymbols_().DEF_CURRENCY_CODE};f.setMinimumFractionDigits=function(a){if(0<this.significantDigits_&&0<a)throw Error("Can't combine significant digits and minimum fraction digits");this.minimumFractionDigits_=a;return this};f.getMinimumFractionDigits=function(){return this.minimumFractionDigits_};
f.setMaximumFractionDigits=function(a){if(308<a)throw Error("Unsupported maximum fraction digits: "+a);this.maximumFractionDigits_=a;return this};f.getMaximumFractionDigits=function(){return this.maximumFractionDigits_};f.setSignificantDigits=function(a){if(0<this.minimumFractionDigits_&&0<=a)throw Error("Can't combine significant digits and minimum fraction digits");this.significantDigits_=a;return this};f.getSignificantDigits=function(){return this.significantDigits_};
f.setShowTrailingZeros=function(a){this.showTrailingZeros_=a;return this};f.setBaseFormatting=function(a){w(null===a||isFinite(a));this.baseFormattingNumber_=a;return this};f.getBaseFormatting=function(){return this.baseFormattingNumber_};
f.applyPattern_=function(a){this.pattern_=a.replace(/ /g,"\u00a0");var b=[0];this.positivePrefix_=this.parseAffix_(a,b);var c=b[0];this.parseTrunk_(a,b);c=b[0]-c;this.positiveSuffix_=this.parseAffix_(a,b);b[0]<a.length&&";"==a.charAt(b[0])?(b[0]++,1!=this.multiplier_&&(this.negativePercentSignExpected_=!0),this.negativePrefix_=this.parseAffix_(a,b),b[0]+=c,this.negativeSuffix_=this.parseAffix_(a,b)):(this.negativePrefix_+=this.positivePrefix_,this.negativeSuffix_+=this.positiveSuffix_)};
f.applyStandardPattern_=function(a){switch(a){case 1:this.applyPattern_(this.getNumberFormatSymbols_().DECIMAL_PATTERN);break;case 2:this.applyPattern_(this.getNumberFormatSymbols_().SCIENTIFIC_PATTERN);break;case 3:this.applyPattern_(this.getNumberFormatSymbols_().PERCENT_PATTERN);break;case 4:this.applyPattern_(hb(this.getNumberFormatSymbols_().CURRENCY_PATTERN,this.getCurrencyCode_()));break;case 5:this.applyCompactStyle_(1);break;case 6:this.applyCompactStyle_(2);break;default:throw Error("Unsupported pattern type.");
}};f.applyCompactStyle_=function(a){this.compactStyle_=a;this.applyPattern_(this.getNumberFormatSymbols_().DECIMAL_PATTERN);this.setMinimumFractionDigits(0);this.setMaximumFractionDigits(2);this.setSignificantDigits(2)};
f.parse=function(a,b){b=b||[0];if(0!=this.compactStyle_)throw Error("Parsing of compact numbers is unimplemented");a=a.replace(/ |\u202f/g,"\u00a0");var c=a.indexOf(this.positivePrefix_,b[0])==b[0],d=a.indexOf(this.negativePrefix_,b[0])==b[0];c&&d&&(this.positivePrefix_.length>this.negativePrefix_.length?d=!1:this.positivePrefix_.length<this.negativePrefix_.length&&(c=!1));c?b[0]+=this.positivePrefix_.length:d&&(b[0]+=this.negativePrefix_.length);if(a.indexOf(this.getNumberFormatSymbols_().INFINITY,
b[0])==b[0]){b[0]+=this.getNumberFormatSymbols_().INFINITY.length;var e=Infinity}else e=this.parseNumber_(a,b);if(c){if(a.indexOf(this.positiveSuffix_,b[0])!=b[0])return NaN;b[0]+=this.positiveSuffix_.length}else if(d){if(a.indexOf(this.negativeSuffix_,b[0])!=b[0])return NaN;b[0]+=this.negativeSuffix_.length}return d?-e:e};
f.parseNumber_=function(a,b){var c=!1,d=!1,e=!1,g=-1,h=1,k=this.getNumberFormatSymbols_().DECIMAL_SEP,l=this.getNumberFormatSymbols_().GROUP_SEP,p=this.getNumberFormatSymbols_().EXP_SYMBOL;if(0!=this.compactStyle_)throw Error("Parsing of compact style numbers is not implemented");l=l.replace(/\u202f/g,"\u00a0");for(var q="";b[0]<a.length;b[0]++){var u=a.charAt(b[0]),x=this.getDigit_(u);if(0<=x&&9>=x)q+=x,e=!0;else if(u==k.charAt(0)){if(c||d)break;q+=".";c=!0}else if(u==l.charAt(0)&&("\u00a0"!=l.charAt(0)||
b[0]+1<a.length&&0<=this.getDigit_(a.charAt(b[0]+1)))){if(c||d)break}else if(u==p.charAt(0)){if(d)break;q+="E";d=!0;g=b[0]}else if("+"==u||"-"==u){if(e&&g!=b[0]-1)break;q+=u}else if(1==this.multiplier_&&u==this.getNumberFormatSymbols_().PERCENT.charAt(0)){if(1!=h)break;h=100;if(e){b[0]++;break}}else if(1==this.multiplier_&&u==this.getNumberFormatSymbols_().PERMILL.charAt(0)){if(1!=h)break;h=1E3;if(e){b[0]++;break}}else break}1!=this.multiplier_&&(h=this.multiplier_);return parseFloat(q)/h};
f.format=function(a){if(isNaN(a))return this.getNumberFormatSymbols_().NAN;var b=[],c=this.getUnitAfterRounding_(null===this.baseFormattingNumber_?a:this.baseFormattingNumber_,a);a=F(a,-c.divisorBase);b.push(c.prefix);var d=0>a||0==a&&0>1/a;b.push(d?this.negativePrefix_:this.positivePrefix_);isFinite(a)?(a=a*(d?-1:1)*this.multiplier_,this.useExponentialNotation_?this.subformatExponential_(a,b):this.subformatFixed_(a,this.minimumIntegerDigits_,b)):b.push(this.getNumberFormatSymbols_().INFINITY);b.push(d?
this.negativeSuffix_:this.positiveSuffix_);b.push(c.suffix);return b.join("")};f.roundNumber_=function(a){var b=F(a,this.maximumFractionDigits_);0<this.significantDigits_&&(b=this.roundToSignificantDigits_(b,this.significantDigits_,this.maximumFractionDigits_));b=Math.round(b);isFinite(b)?(a=Math.floor(F(b,-this.maximumFractionDigits_)),b=Math.floor(b-F(a,this.maximumFractionDigits_))):b=0;return{intValue:a,fracValue:b}};
f.formatNumberGroupingRepeatingDigitsParts_=function(a,b,c,d,e){for(var g=0,h=0,k,l=this.getNumberFormatSymbols_().GROUP_SEP,p=c.length,q=0;q<p;q++)if(a.push(String.fromCharCode(b+1*Number(c.charAt(q)))),1<p-q)if(k=d[h],q<e){var u=e-q;(1===k||0<k&&1===u%k)&&a.push(l)}else h<d.length&&(q===e?h+=1:k===q-e-g+1&&(a.push(l),g+=k,h+=1));return a};
f.formatNumberGroupingNonRepeatingDigitsParts_=function(a,b,c,d){var e=this.getNumberFormatSymbols_().GROUP_SEP,g,h=c.length,k=[];for(g=d.length-1;0<=g&&0<h;g--){var l=d[g];for(var p=0;p<l&&0<=h-p-1;p++)k.push(String.fromCharCode(b+1*Number(c.charAt(h-p-1))));h-=l;0<h&&k.push(e)}a.push.apply(a,k.reverse());return a};
f.subformatFixed_=function(a,b,c){if(this.minimumFractionDigits_>this.maximumFractionDigits_)throw Error("Min value must be less than max value");c||(c=[]);a=this.roundNumber_(a);var d=a.intValue,e=a.fracValue,g=0==d?0:this.intLog10_(d)+1,h=0<this.minimumFractionDigits_||0<e||this.showTrailingZeros_&&g<this.significantDigits_;a=this.minimumFractionDigits_;h&&(a=this.showTrailingZeros_&&0<this.significantDigits_?this.significantDigits_-g:this.minimumFractionDigits_);var k="";for(g=d;1E20<g;)k="0"+
k,g=Math.round(F(g,-1));k=g+k;var l=this.getNumberFormatSymbols_().DECIMAL_SEP;g=this.getNumberFormatSymbols_().ZERO_DIGIT.charCodeAt(0);var p=k.length,q=0;if(0<d||0<b){for(d=p;d<b;d++)c.push(String.fromCharCode(g));if(2<=this.groupingArray_.length)for(b=1;b<this.groupingArray_.length;b++)q+=this.groupingArray_[b];b=p-q;c=0<b?this.formatNumberGroupingRepeatingDigitsParts_(c,g,k,this.groupingArray_,b):this.formatNumberGroupingNonRepeatingDigitsParts_(c,g,k,this.groupingArray_)}else h||c.push(String.fromCharCode(g));
(this.decimalSeparatorAlwaysShown_||h)&&c.push(l);b=String(e);e=b.split("e+");2==e.length&&(b=String(this.roundToSignificantDigits_(parseFloat(e[0]),this.significantDigits_,1)),b=b.replace(".",""),b+=mb("0",parseInt(e[1],10)-b.length+1));this.maximumFractionDigits_+1>b.length&&(b="1"+mb("0",this.maximumFractionDigits_-b.length)+b);for(e=b.length;"0"==b.charAt(e-1)&&e>a+1;)e--;for(d=1;d<e;d++)c.push(String.fromCharCode(g+1*Number(b.charAt(d))))};
f.addExponentPart_=function(a,b){b.push(this.getNumberFormatSymbols_().EXP_SYMBOL);0>a?(a=-a,b.push(this.getNumberFormatSymbols_().MINUS_SIGN)):this.useSignForPositiveExponent_&&b.push(this.getNumberFormatSymbols_().PLUS_SIGN);a=""+a;for(var c=this.getNumberFormatSymbols_().ZERO_DIGIT,d=a.length;d<this.minExponentDigits_;d++)b.push(c);b.push(a)};f.getMantissa_=function(a,b){return F(a,-b)};
f.subformatExponential_=function(a,b){if(0==a)this.subformatFixed_(a,this.minimumIntegerDigits_,b),this.addExponentPart_(0,b);else{var c=Math.log(a)/Math.log(10);w(!r(void 0)||!1);c=Math.floor(c+2E-15);a=this.getMantissa_(a,c);var d=this.minimumIntegerDigits_;1<this.maximumIntegerDigits_&&this.maximumIntegerDigits_>this.minimumIntegerDigits_?(d=c%this.maximumIntegerDigits_,0>d&&(d=this.maximumIntegerDigits_+d),a=F(a,d),c-=d,d=1):1>this.minimumIntegerDigits_?(c++,a=F(a,-1)):(c-=this.minimumIntegerDigits_-
1,a=F(a,this.minimumIntegerDigits_-1));this.subformatFixed_(a,d,b);this.addExponentPart_(c,b)}};f.getDigit_=function(a){a=a.charCodeAt(0);if(48<=a&&58>a)return a-48;var b=this.getNumberFormatSymbols_().ZERO_DIGIT.charCodeAt(0);return b<=a&&a<b+10?a-b:-1};
f.parseAffix_=function(a,b){for(var c="",d=!1,e=a.length;b[0]<e;b[0]++){var g=a.charAt(b[0]);if("'"==g)b[0]+1<e&&"'"==a.charAt(b[0]+1)?(b[0]++,c+="'"):d=!d;else if(d)c+=g;else switch(g){case "#":case "0":case ",":case ".":case ";":return c;case "\u00a4":if(b[0]+1<e&&"\u00a4"==a.charAt(b[0]+1))b[0]++,c+=this.getCurrencyCode_();else switch(this.currencyStyle_){case 0:g=this.getCurrencyCode_();c+=g in gb?gb[g][1]:g;break;case 2:g=this.getCurrencyCode_();var h=gb[g];c+=h?g==h[1]?g:g+" "+h[1]:g;break;
case 1:g=this.getCurrencyCode_(),c+=g in gb?gb[g][2]:g}break;case "%":if(!this.negativePercentSignExpected_&&1!=this.multiplier_)throw Error("Too many percent/permill");if(this.negativePercentSignExpected_&&100!=this.multiplier_)throw Error("Inconsistent use of percent/permill characters");this.multiplier_=100;this.negativePercentSignExpected_=!1;c+=this.getNumberFormatSymbols_().PERCENT;break;case "\u2030":if(!this.negativePercentSignExpected_&&1!=this.multiplier_)throw Error("Too many percent/permill");
if(this.negativePercentSignExpected_&&1E3!=this.multiplier_)throw Error("Inconsistent use of percent/permill characters");this.multiplier_=1E3;this.negativePercentSignExpected_=!1;c+=this.getNumberFormatSymbols_().PERMILL;break;default:c+=g}}return c};
f.parseTrunk_=function(a,b){for(var c=-1,d=0,e=0,g=0,h=-1,k=a.length,l=!0;b[0]<k&&l;b[0]++)switch(a.charAt(b[0])){case "#":0<e?g++:d++;0<=h&&0>c&&h++;break;case "0":if(0<g)throw Error('Unexpected "0" in pattern "'+a+'"');e++;0<=h&&0>c&&h++;break;case ",":0<h&&this.groupingArray_.push(h);h=0;break;case ".":if(0<=c)throw Error('Multiple decimal separators in pattern "'+a+'"');c=d+e+g;break;case "E":if(this.useExponentialNotation_)throw Error('Multiple exponential symbols in pattern "'+a+'"');this.useExponentialNotation_=
!0;this.minExponentDigits_=0;b[0]+1<k&&"+"==a.charAt(b[0]+1)&&(b[0]++,this.useSignForPositiveExponent_=!0);for(;b[0]+1<k&&"0"==a.charAt(b[0]+1);)b[0]++,this.minExponentDigits_++;if(1>d+e||1>this.minExponentDigits_)throw Error('Malformed exponential pattern "'+a+'"');l=!1;break;default:b[0]--,l=!1}0==e&&0<d&&0<=c&&(e=c,0==e&&e++,g=d-e,d=e-1,e=1);if(0>c&&0<g||0<=c&&(c<d||c>d+e)||0==h)throw Error('Malformed pattern "'+a+'"');a=d+e+g;this.maximumFractionDigits_=0<=c?a-c:0;0<=c&&(this.minimumFractionDigits_=
d+e-c,0>this.minimumFractionDigits_&&(this.minimumFractionDigits_=0));this.minimumIntegerDigits_=(0<=c?c:a)-d;this.useExponentialNotation_&&(this.maximumIntegerDigits_=d+this.minimumIntegerDigits_,0==this.maximumFractionDigits_&&0==this.minimumIntegerDigits_&&(this.minimumIntegerDigits_=1));this.groupingArray_.push(Math.max(0,h));this.decimalSeparatorAlwaysShown_=0==c||c==a};var nb={prefix:"",suffix:"",divisorBase:0};
E.prototype.getUnitFor_=function(a,b){var c=1==this.compactStyle_?fb.COMPACT_DECIMAL_SHORT_PATTERN:fb.COMPACT_DECIMAL_LONG_PATTERN;null==c&&(c=fb.COMPACT_DECIMAL_SHORT_PATTERN);if(3>a)return nb;a=Math.min(14,a);var d=c[F(1,a)];for(--a;!d&&3<=a;)d=c[F(1,a)],a--;if(!d)return nb;b=d[b];return b&&"0"!=b?(b=/([^0]*)(0+)(.*)/.exec(b))?{prefix:b[1],suffix:b[3],divisorBase:a+1-(b[2].length-1)}:nb:nb};
E.prototype.getUnitAfterRounding_=function(a,b){if(0==this.compactStyle_)return nb;a=Math.abs(a);b=Math.abs(b);var c=this.getUnitFor_(1>=a?0:this.intLog10_(a),this.pluralForm_(a)).divisorBase;b=F(b,-c);b=this.roundNumber_(b);a=F(a,-c);a=this.roundNumber_(a);return this.getUnitFor_(c+this.intLog10_(a.intValue),this.pluralForm_(b.intValue+b.fracValue))};E.prototype.intLog10_=function(a){if(!isFinite(a))return 0<a?a:0;for(var b=0;1<=(a/=10);)b++;return b};
var F=function(a,b){w(0==b%1,'Cannot shift by fractional digits "%s".',b);if(!a||!isFinite(a)||0==b)return a;a=String(a).split("e");return parseFloat(a[0]+"e"+(parseInt(a[1]||0,10)+b))},ob=function(a,b){w(0==b%1,'Cannot round to fractional digits "%s".',b);return a&&isFinite(a)?F(Math.round(F(a,b)),-b):a};E.prototype.roundToSignificantDigits_=function(a,b,c){if(!a)return a;b=b-this.intLog10_(a)-1;return b<-c?ob(a,-c):ob(a,b)};E.prototype.pluralForm_=function(){return"other"};
E.prototype.isCurrencyCodeBeforeValue=function(){var a=this.pattern_.indexOf("\u00a4"),b=this.pattern_.indexOf("#"),c=this.pattern_.indexOf("0"),d=Number.MAX_VALUE;0<=b&&b<d&&(d=b);0<=c&&c<d&&(d=c);return a<d};var pb=function(a){return 1==a%10&&11!=a%100?"one":2==a%10&&12!=a%100?"two":3==a%10&&13!=a%100?"few":"other"},qb=pb;qb=pb;var rb=function(a,b){if(void 0===b){b=a+"";var c=b.indexOf(".");b=Math.min(-1==c?0:b.length-c-1,3)}return 1==(a|0)&&0==b?"one":"other"},sb=rb;sb=rb;var wb=function(a){this.pattern_=a;this.parsedPattern_=this.literals_=this.initialLiterals_=null;a=lb;var b=fb;if(tb!==a||ub!==b)tb=a,ub=b,vb=new E(1);this.numberFormatter_=vb},tb=null,ub=null,vb=null,xb=/'([{}#].*?)'/g,yb=/''/g;f=wb.prototype;f.format=function(a){return this.format_(a,!1)};f.formatIgnoringPound=function(a){return this.format_(a,!0)};
f.format_=function(a,b){this.init_();if(!this.parsedPattern_||0==this.parsedPattern_.length)return"";var c=this.initialLiterals_;var d=c.length;if(0<d){for(var e=Array(d),g=0;g<d;g++)e[g]=c[g];c=e}else c=[];this.literals_=c;c=[];this.formatBlock_(this.parsedPattern_,a,b,c);a=c.join("");for(b||w(-1==a.search("#"),"Not all # were replaced.");0<this.literals_.length;)a=a.replace(this.buildPlaceholder_(this.literals_),this.literals_.pop());return a};
f.formatBlock_=function(a,b,c,d){for(var e=0;e<a.length;e++)switch(a[e].type){case 4:d.push(a[e].value);break;case 3:var g=a[e].value;this.formatSimplePlaceholder_(g,b,d);break;case 2:g=a[e].value;this.formatSelectBlock_(g,b,c,d);break;case 0:g=a[e].value;this.formatPluralOrdinalBlock_(g,b,sb,c,d);break;case 1:g=a[e].value;this.formatPluralOrdinalBlock_(g,b,qb,c,d);break;default:y("Unrecognized block type: "+a[e].type)}};
f.formatSimplePlaceholder_=function(a,b,c){b=b[a];r(b)?(this.literals_.push(b),c.push(this.buildPlaceholder_(this.literals_))):c.push("Undefined parameter - "+a)};f.formatSelectBlock_=function(a,b,c,d){var e=a.argumentIndex;r(b[e])?(e=a[b[e]],r(e)||(e=a.other,wa(e,"Invalid option or missing other option for select block.")),this.formatBlock_(e,b,c,d)):d.push("Undefined parameter - "+e)};
f.formatPluralOrdinalBlock_=function(a,b,c,d,e){var g=a.argumentIndex,h=a.argumentOffset,k=+b[g];isNaN(k)?e.push("Undefined or invalid parameter - "+g):(h=k-h,g=a[b[g]],r(g)||(w(0<=h,"Argument index smaller than offset."),c=c(h),va(c,"Invalid plural key."),g=a[c],r(g)||(g=a.other),wa(g,"Invalid option or missing other option for plural block.")),a=[],this.formatBlock_(g,b,d,a),b=a.join(""),va(b,"Empty block in plural."),d?e.push(b):(d=this.numberFormatter_.format(h),e.push(b.replace(/#/g,d))))};
f.init_=function(){if(this.pattern_){this.initialLiterals_=[];var a=this.insertPlaceholders_(this.pattern_);this.parsedPattern_=this.parseBlock_(a);this.pattern_=null}};f.insertPlaceholders_=function(a){var b=this.initialLiterals_,c=qa(this.buildPlaceholder_,this);a=a.replace(yb,function(){b.push("'");return c(b)});return a=a.replace(xb,function(d,e){b.push(e);return c(b)})};
f.extractParts_=function(a){var b=0,c=[],d=[],e=/[{}]/g;e.lastIndex=0;for(var g;g=e.exec(a);){var h=g.index;"}"==g[0]?(g=c.pop(),w(r(g)&&"{"==g,"No matching { for }."),0==c.length&&(g={type:1},g.value=a.substring(b,h),d.push(g),b=h+1)):(0==c.length&&(b=a.substring(b,h),""!=b&&d.push({type:0,value:b}),b=h+1),c.push("{"))}w(0==c.length,"There are mismatched { or } in the pattern.");b=a.substring(b);""!=b&&d.push({type:0,value:b});return d};
var zb=/^\s*(\w+)\s*,\s*plural\s*,(?:\s*offset:(\d+))?/,Ab=/^\s*(\w+)\s*,\s*selectordinal\s*,/,Bb=/^\s*(\w+)\s*,\s*select\s*,/;f=wb.prototype;f.parseBlockType_=function(a){return zb.test(a)?0:Ab.test(a)?1:Bb.test(a)?2:/^\s*\w+\s*/.test(a)?3:5};
f.parseBlock_=function(a){var b=[];a=this.extractParts_(a);for(var c=0;c<a.length;c++){var d={};if(0==a[c].type)d.type=4,d.value=a[c].value;else if(1==a[c].type)switch(this.parseBlockType_(a[c].value)){case 2:d.type=2;d.value=this.parseSelectBlock_(a[c].value);break;case 0:d.type=0;d.value=this.parsePluralBlock_(a[c].value);break;case 1:d.type=1;d.value=this.parseOrdinalBlock_(a[c].value);break;case 3:d.type=3;d.value=a[c].value;break;default:y("Unknown block type for pattern: "+a[c].value)}else y("Unknown part of the pattern.");
b.push(d)}return b};f.parseSelectBlock_=function(a){var b="";a=a.replace(Bb,function(h,k){b=k;return""});var c={};c.argumentIndex=b;a=this.extractParts_(a);for(var d=0;d<a.length;){var e=a[d].value;va(e,"Missing select key element.");d++;w(d<a.length,"Missing or invalid select value element.");var g;1==a[d].type?g=this.parseBlock_(a[d].value):y("Expected block type.");c[e.replace(/\s/g,"")]=g;d++}wa(c.other,"Missing other key in select statement.");return c};
f.parsePluralBlock_=function(a){var b="",c=0;a=a.replace(zb,function(k,l,p){b=l;p&&(c=parseInt(p,10));return""});var d={};d.argumentIndex=b;d.argumentOffset=c;a=this.extractParts_(a);for(var e=0;e<a.length;){var g=a[e].value;va(g,"Missing plural key element.");e++;w(e<a.length,"Missing or invalid plural value element.");var h;1==a[e].type?h=this.parseBlock_(a[e].value):y("Expected block type.");d[g.replace(/\s*(?:=)?(\w+)\s*/,"$1")]=h;e++}wa(d.other,"Missing other key in plural statement.");return d};
f.parseOrdinalBlock_=function(a){var b="";a=a.replace(Ab,function(h,k){b=k;return""});var c={};c.argumentIndex=b;c.argumentOffset=0;a=this.extractParts_(a);for(var d=0;d<a.length;){var e=a[d].value;va(e,"Missing ordinal key element.");d++;w(d<a.length,"Missing or invalid ordinal value element.");if(1==a[d].type)var g=this.parseBlock_(a[d].value);else y("Expected block type.");c[e.replace(/\s*(?:=)?(\w+)\s*/,"$1")]=g;d++}wa(c.other,"Missing other key in selectordinal statement.");return c};
f.buildPlaceholder_=function(a){w(0<a.length,"Literal array is empty.");return"\ufddf_"+(a.length-1).toString(10)+"_"};t("ng.safehtml.googSceHelper.isGoogHtmlType",function(a){return a&&a.implementsGoogStringTypedString?!0:!1},void 0);t("ng.safehtml.googSceHelper.isCOMPILED",function(){return!0},void 0);t("ng.safehtml.googSceHelper.unwrapAny",function(a){if(a instanceof Ha)return Ia(a).toString();if(a instanceof C)return db(a).toString();if(a instanceof A)return Ta(a).toString();if(a instanceof B)return $a(a);if(a instanceof z)return Ca(a).toString();throw Error();},void 0);
t("ng.safehtml.googSceHelper.unwrapGivenContext",function(a,b){if("html"==a)return db(b).toString();if("resourceUrl"==a||"templateUrl"==a)return Ia(b).toString();if("url"==a)return b instanceof Ha?Ia(b).toString():Ta(b).toString();if("css"==a)return $a(b);if("js"==a)return Ca(b).toString();throw Error();},void 0);angular.module("publishAppFrameworkViews",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){function c(d){return d.replace(/"/g,"&quot;").replace(/'/g,"&apos;")}b()&&(a.put("/framework/views/carousel-arrow-next.html",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'),
a.put("/framework/views/carousel-arrow-prev.html",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'),a.put("/framework/views/carousel-directive.html","<div class=\"carousel\" ng-class=\"{'is-touch': isTouch}\">\n  <button class=\"carousel-prev\" aria-label=\"Prev\" tabindex=\"-1\"\n      ng-click=\"navigate(-1)\"\n      track=\"['Widget', trackingName, (isRtl() ? 'Next' : 'Prev')]\"\n      ng-if=\"currentItemOffset > 0\"\n      ng-show=\"!hideButtons\">\n    <ng-include src=\"'/framework/views/carousel-arrow-' + (isRtl() ? 'next' : 'prev') + '.html'\"></ng-include>\n  </button>\n\n  <div class=\"carousel-wrapper\">\n    <ng-transclude\n        class=\"carousel-items\"\n        ng-class=\"{'browser-ie': isBrowserIE}\"\n        ng-style=\"{\n          'transform': 'translate(' + xTransform + 'px, 0px)',\n          '-webkit-transform': 'translate(' + xTransform + 'px, 0px)'\n        }\">\n    </ng-transclude>\n  </div>\n\n  <button class=\"carousel-next\" aria-label=\"Next\" tabindex=\"-1\"\n      ng-click=\"navigate(1)\"\n      track=\"['Widget', trackingName, (isRtl() ? 'Prev' : 'Next')]\"\n      ng-if=\"currentItemOffset < itemsCount - 1 && isBelowMaxTransform()\"\n      ng-show=\"!hideButtons\">\n    <ng-include src=\"'/framework/views/carousel-arrow-' + (isRtl() ? 'prev' : 'next') + '.html'\"></ng-include>\n  </button>\n</div>\n"),
a.put("/framework/views/embed-footer.html",'<div class="embed-footer">\n  <div class="embed-title-wrapper">\n    <div class="embed-title" bidi="getEmbedHeaderText(widgetIsCurated !== true)"></div>\n  </div>\n  <div class="embed-logo">\n    <a ng-href="/trends/{{getEmbedLogoLink()}}" target="_blank">\n      <img src="https://www.gstatic.com/images/branding/lockups/1x/lockup_trends_color_142x24dp.png" />\n    </a>\n  </div>\n</div>\n'),a.put("/framework/views/embed-header.html",'<div class="embed-header">\n  <div class="embed-title"\n       bidi="storyTitleArray && storyTitleArray.length ? storyTitleArray : storyTitle">\n  </div>\n\n  <div class="embed-subtitle" bidi="getEmbedHeaderText(widgetIsCurated !== true)"></div>\n\n  <div class="embed-logo">\n    <a ng-href="/trends/{{getEmbedLogoLink()}}" target="_blank">\n      <img src="https://www.gstatic.com/images/branding/lockups/1x/lockup_trends_color_142x24dp.png" />\n    </a>\n  </div>\n</div>\n'),
a.put("/framework/views/geo_chart_template.html",'<geo-chart ng-class="{\'chart-directive\': !isColorChart,\n                   \'fe-geo-color-chart-directive\': isColorChart,\n                   \'no-legend\': (isColorChart && showLegend),\n                   \'with-low-volume-checkbox\' : shouldDisplayLowFilterCheckbox && !isSideBySide,\n                   \'mobile\': isMobileMode}"\n           watch-options="watchOptions || isEditor"\n           options="options"\n           show-tooltip="true"\n           columns="columns"\n           data="chartRows"\n           on-region-click="onRegionClick">\n</geo-chart>\n'),
a.put("/framework/views/help_dialog.html",'<div class="help-dialog">\n  <div class="help-dialog-title">{{data.title}}</div>\n  <div class="help-dialog-cancel">\n    <md-icon class="close-dialog" ng-click="cancelDialog()"></md-icon>\n  </div>\n  <div class="help-dialog-content" ng-bind-html="data.content"></div>\n  <div class="help-dialog-link" ng-show="data.url">\n    <a href="{{data.url}}" target="_blank">\n      Learn More</a>\n  </div>\n</div>\n'),a.put("/framework/views/help_icon.html",['<button class="help-icon-button" ng-click="openDialog()"',
'   title="'+c("Help")+'">','  <i class="material-icons-extended help-icon-color">help_outline</i>\n  <div class="help-dialog-text" ng-show="showAnnotation">\n    Help\n  </div>\n</button>\n'].join("\n")),a.put("/framework/views/line_chart_directive.html",'<div class="line-chart"\n     ondrop="angular.element(this).scope().drop(event)"\n     ondragover="angular.element(this).scope().allowDrop(event)">\n</div>\n<div class="chart-cover"></div>\n<div class="chart-cover right"></div>\n<div class="grid-line l1"></div>\n<div class="grid-line l2"></div>\n<div class="grid-line l3"></div>\n<div class="grid-line l4"></div>\n<div class="chart-labels">\n  <div class="label" ng-repeat="label in displayLabels track by $index"\n       ng-style="{\'left\': label.left + \'px\'}">\n    <div class="center">\n      <div class="tick"></div>\n      <div class="text">{{ label.text }}</div>\n    </div>\n  </div>\n</div>\n'),
a.put("/framework/views/list-item-actions.html",['<md-menu md-position-mode="{{menuPosition}} target">\n  <button class="list-item" ng-click="$mdOpenMenu($event)"','          title="'+c("Actions menu")+'"',"          track=\"['Widget', 'Actions', listTitle + '-' + item]\">\n    <i md-menu-origin class=\"material-icons-extended blue\">more_vert</i>\n  </button>\n  <md-menu-content class=\"item-menu-content list-item\">\n    <md-menu-item ng-if='isExploreLinkAvailable'>\n      <a ng-href=\"{{::exploreLink}}\"\n         track=\"['List item', 'Explore', listTitle + '-' + item]\"",
'         title="'+c("Explore item")+'">','        <i class="material-icons-extended gray-dark">timeline</i>\n        <div class="item-menu-text">\n          Explore\n        </div>\n      </a>\n    </md-menu-item>\n    <md-menu-item>\n      <a ng-href="{{::searchLink}}"\n         track="[\'List item\', \'Search on google\', listTitle + \'-\' + item]"','         title="'+c("Search item")+'">','        <div>\n          <i class="material-icons-extended gray-dark">search</i>\n        </div>\n        <div class="item-menu-text">\n          Search on Google\n        </div>\n      </a>\n    </md-menu-item>\n  </md-menu-content>\n</md-menu>\n'].join("\n")),
a.put("/framework/views/low-search-volume-filter-directive.html",['<div class="fe-low-search-volume"\n     ng-class="{\'mobile\': isMobileMode}"\n     dir="{{getHeaderDirection()}}"\n     ng-if="shouldDisplayLowFilterCheckbox">\n  <md-checkbox ng-checked="isFilterVolumeChecked"\n               ng-click="onVolumeFilterChange(isFilterVolumeChecked = !isFilterVolumeChecked)"','               aria-label="'+c("Include low search volume regions")+'">',"    Include low search volume regions\n  </md-checkbox>\n</div>\n"].join("\n")),
a.put("/framework/views/pagination-directive.html",'<div class="pagination">\n  <md-button aria-label="Previous"\n             md-ink-ripple="false"\n             ng-disabled="!ctrl.hasPreviousPage()"\n             ng-click="ctrl.updateToPreviousPage()"\n             ve-tracking\n             jslog="41829; track:generic_click">\n    <md-icon ng-class="ctrl.isPageRtl ? \'arrow-right-active\' : \'arrow-left-active\'"\n             ng-if="ctrl.hasPreviousPage()">\n    </md-icon>\n    <md-icon ng-class="ctrl.isPageRtl ? \'arrow-right-disabled\' : \'arrow-left-disabled\'"\n             ng-if="!ctrl.hasPreviousPage()">\n    </md-icon>\n  </md-button>\n  <span>\n    {{ctrl.getPaginationText()}}\n  </span>\n  <md-button aria-label="Next"\n             md-ink-ripple="false"\n             ng-disabled="!ctrl.hasNextPage()"\n             ng-click="ctrl.updateToNextPage()"\n             ve-tracking\n             jslog="41828; track:generic_click">\n    <md-icon ng-class="ctrl.isPageRtl ? \'arrow-left-active\' : \'arrow-right-active\'"\n             ng-if="ctrl.hasNextPage()">\n    </md-icon>\n    <md-icon ng-class="ctrl.isPageRtl ? \'arrow-left-disabled\' : \'arrow-right-disabled\'"\n             ng-if="!ctrl.hasNextPage()">\n    </md-icon>\n  </md-button>\n</div>\n'),
a.put("/framework/views/region_tooltip.html",'<div>{{ tooltipConfig.data.name }}</div>\n\n<div class="region-tooltip-items">\n  <div class="region-tooltip-item"\n      ng-repeat="value in tooltipConfig.data.values track by $index"\n      ng-if="value >= 0">\n    <div class="region-tooltip-label">{{ legend[$index].value.caption }}</div>\n    <span class="region-tooltip-value"\n          ng-style="{\'color\': colors.getHexValue(legend[$index].value.color)}">\n      {{value}}\n    </span>\n  </div>\n</div>\n'),
a.put("/framework/views/region_tooltip_geo_chart.html",'<div>{{ tooltipConfig.data.geoName }}</div>\n\n<div class="region-tooltip-item-geo-chart"\n    ng-repeat="value in tooltipConfig.data.values track by $index"\n    ng-if="value >= 0">\n  <div>{{ tooltipText }}</div>\n  <div class="region-tooltip-value-geo-chart"\n        ng-style="{\'color\': legend[$index].value.color}">\n    {{ tooltipConfig.data.formattedValue }}\n  </div>\n</div>\n'),a.put("/framework/views/sparkline-directive.html",'<div class="sparkline-chart" ng-if="width && height && svgPath">\n  <svg ng-attr-width="{{ width }}"\n       ng-attr-height="{{ height }}"\n       viewBox="0 0 200 100"\n       preserveAspectRatio="none">\n    <g fill="transparent">\n      \x3c!-- Line path. --\x3e\n      <path ng-attr-d="M{{ ::svgPath }}"\n            ng-attr-stroke-width="{{ thickness }}"\n            stroke="{{ ::color }}"\n            vector-effect="non-scaling-stroke" />\n\n      \x3c!-- Area path. --\x3e\n      <path ng-if="drawArea !== false"\n            ng-attr-d="M1,100L{{ ::svgPath }}L200,100"\n            fill="{{ ::color }}"\n            opacity="0.2" />\n    </g>\n  </svg>\n</div>\n\n<ng-transclude ng-if="width && height && svgPath"></ng-transclude>\n'),
a.put("/framework/views/svg_map_directive.html","<div class=\"region-svg-container\" ng-style=\"{'height': options.height + 'px'}\"></div>\n\n<ng-include src=\"tooltipTemplate\"\n            class=\"region-tooltip region-tooltip-{{ tooltipConfig.position }}\"\n            ng-class=\"{'multi-heat-map': isMultiHeatMap}\"\n            ng-show=\"tooltipConfig\"\n            ng-style=\"{'top': tooltipConfig.top + 'px', 'left': tooltipConfig.left + 'px'}\">\n</ng-include>\n"),a.put("/framework/views/svg_map_template.html",
'<svg-map class="svg-map-directive-container"\n         ng-class="{\'with-low-volume-checkbox\': shouldDisplayLowFilterCheckbox && !isSideBySide,\n                    \'mobile\': isMobileMode,\n                    \'multi-heat-map\': isMultiHeatMap}"\n         map-name="france"\n         tooltip-text="{{tooltipTextLabel}}"\n         colors="colors"\n         legend="legend"\n         data="data"\n         default-color="PALETTE_COLOR_6"\n         enable-tooltip="enableTooltip"\n         center-tooltip="centerTooltip"\n         is-editor="isEditor"\n         on-region-click="onRegionClick"\n         is-multi-heat-map="isMultiHeatMap"\n         custom-tooltips="customTooltips"\n         options="options">\n</svg-map>\n'),
a.put("/framework/views/svg_multi_heat_map_tooltip.html",'\x3c!-- Compiling and attaching the given tooltip string (from the Multi heat map controller) into\n     the DOM. This way we don\'t need to create the tooltip once again from scratch when moving to\n     SVG map. --\x3e\n<div bind-html-compile="tooltipConfig.tooltip"></div>\n'),a.put("/framework/views/tv-broadcast-directive.html",'<div class="tv-wrapper">\n  <div class="tv-video">\n  </div>\n  <div class="tv-content">\n    <div class="tv-title-text">\n      <div class="topic-label tv-title" ng-bind-html="markBold(mainTitle)"></div>\n      <div class="tv-sub-title" ng-bind-html="markBold(subTitle)"></div>\n    </div>\n    <div class="tv-trends-logo"></div>\n    <div class="tv-inner-widget" ng-transclude>\n    </div>\n  </div>\n</div>\n'),
a.put("/framework/views/widget-actions-flatten-yis.html",['<div ng-if="globals.isMobileMode" class="flatten-items-wrapper">\n  <button class="widget-actions-menu more-vert-googblue"','          title="'+c("Actions menu")+'"','          track="[type, \'openYisModal\', listTitle]"\n          ng-click="genericAction(\'openYisModal\')">\n  </button>\n</div>\n\n<div ng-if="!globals.isMobileMode" class="flatten-items-wrapper">\n  <button class="flatten-item first"\n          ng-class="{\'copy-content-image-small\': ctrl.isSmallTouchDevice,\n                    \'copy-content-image-small-googblue\': !ctrl.isSmallTouchDevice}"\n          ng-click="genericAction(\'copy\')"',
'          title="'+c("Copy")+'"','          track="[type, \'Copy\', listTitle]">\n  </button>\n  <button class="flatten-item"\n          ng-class="{\'embed-image-small\': ctrl.isSmallTouchDevice,\n                    \'embed-image-small-googblue\': !ctrl.isSmallTouchDevice}"\n          ng-click="embed()"\n          ng-if="!ctrl.isSmallTouchDevice"','          title="'+c("Embed")+'"','          track="[type, \'Embed\', listTitle]">\n  </button>\n  <button class="flatten-item"\n          ng-class="{\'share-image-small\': ctrl.isSmallTouchDevice,\n                    \'share-image-small-googblue\': !ctrl.isSmallTouchDevice}"\n          ng-if="isEditor || share" ng-click="share()"',
'          title="'+c("Share")+'"','          track="[type, \'Share\', listTitle]">\n  </button>\n</div>\n<div class="translate-patch">\n  Copied to clipboard.\n</div>\n'].join("\n")),a.put("/framework/views/widget-actions-flatten.html",['<div class="widget-actions-item-flatten"\n     ng-if="showFlattenMenu(helpDialog)">\n  <button class="widget-actions-item export"','          title="'+c("CSV")+'"','          ng-if="isEditor || (export && showActionButton())"\n          ng-click="export()"\n          track="[\'Widget\', type, \'Export\']"\n          ve-tracking\n          jslog="39388; track:generic_click">\n    <i class="material-icons-extended gray">file_download</i>\n  </button>\n  <button class="widget-actions-item"',
'          title="'+c("Embed")+'"','          ng-if="showActionButton()"\n          ng-click="embed()"\n          track="[\'Widget\', type, \'Embed\']"\n          ve-tracking\n          jslog="39389; track:generic_click">\n    <i class="material-icons-extended gray">code</i>\n  </button>\n  <button class="widget-actions-item"','          title="'+c("Share")+'"','          ng-if="isEditor || share"\n          ng-click="share()"\n          track="[\'Widget\', type, \'Share\']"\n          ve-tracking\n          jslog="39390; track:generic_click">\n    <i class="material-icons-extended gray">share</i>\n  </button>\n</div>\n\n<md-menu md-position-mode="target-right target" ng-if="!showFlattenMenu(helpDialog)">\n  <md-button class="widget-action-menu-mobile" ng-click="$mdOpenMenu($event)" md-no-ink>\n    <i md-menu-origin class="material-icons-extended gray">more_vert</i>\n  </md-button>\n  <md-menu-content class="item-menu-content">\n    <md-menu-item>\n      <md-button class="widget-actions-item"\n                 ng-if="isEditor || share"\n                 ng-click="share()"',
'                 title="'+c("Share")+'"','                 track="[\'Widget\', type, \'Share\']"\n                 md-no-ink\n                 ve-tracking\n                 jslog="39390; track:generic_click">\n        <i class="material-icons-extended gray">share</i>\n        <div class="item-menu-text">Share\n        </div>\n      </md-button>\n    </md-menu-item>\n    <md-menu-item>\n      <help-dialog class="widget-actions-item" show-annotation="true" data="helpDialog">\n      </help-dialog>\n    </md-menu-item>\n  </md-menu-content>\n</md-menu>\n'].join("\n")),
a.put("/framework/views/widget-directive.html",'<scroll-to offset="widget.offset"\n           on-trigger="onScrollToBind()"\n           ng-if="!isScrolledInto">\n</scroll-to>\n\n<div class="widget-loader-wrapper fe-atoms-generic-container"\n     ng-if="widget.displayLoader || widget.errorMessage ||\n        (!isPrefetched && !isScrolledInto)">\n  <md-progress-circular class="md-default-theme ng-hide"\n                        md-diameter="30px"\n                        md-mode="indeterminate"\n                        ng-show="widget.displayLoader"\n                        aria-valuemin="0"\n                        aria-valuemax="100">\n  </md-progress-circular>\n\n  <ng-include src="widget.errorTemplateUrl"\n              ng-if="!widget.displayLoader && widget.errorMessage">\n  </ng-include>\n</div>\n\n<div class="widget-template"\n     ng-include="widget.templateUrl"\n     ng-if="(isPrefetched || isScrolledInto) && !(widget.displayLoader ||\n        widget.errorMessage) && template">\n</div>\n'),
a.put("/framework/views/widget-error.html",'\x3c!--TODO(sdimenstein): Organize different error messages in all the widgets.--\x3e\n<div class="widget-error">\n  <p class="widget-error-title">Oops! Something went wrong.</p>\n  <p class="widget-error-desc">Please try again in a bit.</p>\n</div>\n'),a.put("/framework/views/widget_loader_template.html",'<div ng-class="{\'widget-loader\': isQuerying}">\n  <widget\n      type="{{model.type}}"\n      version="{{model.version}}"\n      template="{{model.template}}"\n      fields="model.fields"\n      apis="model.external_apis"\n      on-load="onLoad({\'$scope\': $scope, \'controller\': controller})"\n      is-editor="isEditor"\n      ng-if="model">\n  </widget>\n</div>\n'))}]);var Cb=function(a,b,c,d){var e=this;this.scope_=a;this.globals_=d;this.donutChart_=null;this.donutMouseOverEvent_={};this.donutMouseOutEvent_={};this.donutSelectEvent_={};this.previousWidthRange_=null;a.$on("$destroy",function(){return e.destroy_()});a.$watch("chartData",function(){return e.renderTable_()},!0);if(a.updateOnResize){this.previousWidthRange_=this.globals_.getBreakpointRange();var g=c.throttle(function(){return e.checkWindowSize_()},100);angular.element(b).on("resize",g);a.$on("$destroy",
function(){return angular.element(b).off("resize",g)})}};f=Cb.prototype;f.drawDonutChart_=function(){var a=this;this.globals_.applyGViz(function(b){var c=b.arrayToDataTable([a.scope_.columns].concat(a.scope_.chartData));a.donutChart_=new b.PieChart(a.scope_.element[0].firstChild);a.donutChart_.draw(c,a.scope_.options)})};
f.renderTable_=function(){var a=this,b=function(){angular.element(a.scope_.element[0].querySelectorAll("svg g path:not(:first-child)")).remove()};this.globals_.applyGViz(function(c){a.destroy_();a.drawDonutChart_();a.scope_.columns&&"tooltip"===a.scope_.columns[2].role&&(a.donutMouseOverEvent_=c.events.addListener(a.donutChart_,"onmouseover",b),a.donutMouseOutEvent_=c.events.addListener(a.donutChart_,"onmouseout",b));a.donutSelectEvent_=c.events.addListener(a.donutChart_,"select",b)})};
f.destroy_=function(){var a=this;this.donutChart_&&(this.donutChart_.clearChart(),this.globals_.applyGViz(function(b){return a.destoryGvizCallback_(b)}));this.donutChart_=null};f.destoryGvizCallback_=function(a){a.events.removeListener(this.donutMouseOverEvent_);a.events.removeListener(this.donutMouseOutEvent_);a.events.removeListener(this.donutSelectEvent_)};f.checkWindowSize_=function(){var a=this.globals_.getBreakpointRange();a!==this.previousWidthRange_&&(this.previousWidthRange_=a,this.renderTable_())};
Cb.$inject=["$scope","$window","utilsService","globalsService"];var Db=function(a,b,c,d){this.scope_=a;this.windowElement=angular.element(b);this.utilsService=c;this.globalsService_=d;this.geoChart_=null};f=Db.prototype;f.redraw=function(){this.destroyScope();this.scope_.data&&this.scope_.data.length&&this.globalsService_.applyGViz(this.drawGVizGeoChartCallback_.bind(this))};
f.drawGVizGeoChartCallback_=function(a){var b=new a.DataTable;this.scope_.columns.forEach(function(c){return b.addColumn(c)});b.addRows(this.scope_.data);this.geoChart_=new a.GeoChart(this.scope_.gvizElement);this.scope_.regionClickListener=a.events.addListener(this.geoChart_,"regionClick",this.scope_.onRegionClick);this.verifyResolution_();this.geoChart_.draw(b,this.scope_.options)};
f.verifyResolution_=function(){if(this.scope_.options&&"provinces"===this.scope_.options.resolution){var a=this.scope_.options.region.toLocaleUpperCase();Eb.find(function(b){return b===a})&&(this.scope_.options.resolution=void 0)}};f.destroyScope=function(){var a=this;this.geoChart_&&(this.globalsService_.applyGViz(function(b){return b.events.removeListener(a.scope_.regionClickListener)}),this.geoChart_.clearChart());this.geoChart_=null};
f.storeContainerWidth_=function(){this.scope_.containerWidth=this.scope_.element[0].getBoundingClientRect().width;return this.scope_.containerWidth};f.resizeHandler=function(){this.scope_.containerWidth!==this.storeContainerWidth_()&&this.scope_.redrawBind()};Db.$inject=["$scope","$window","utilsService","globalsService"];var Eb=["TW"];var G=function(a,b,c,d){this.scope_=a;this.utilsService_=d;this.globalsService_=b;this.editorialsService_=c;this.graphOptions=this.captionContainer_=this.visualizationContainer_=this.legendsContainer_=null};
G.prototype.init=function(a,b,c,d,e){var g=this;this.containerElement=a;this.legendsContainer_=b;this.visualizationContainer_=c;this.captionContainer_=d;this.scope_.graphOptions=e;this.scope_.$watch(function(){return g.globalsService_.getBreakpointRange()},function(h,k){return g.setVisualizationDimensionsCallback_(h,k)});this.setVisualizationDimensions_(this.globalsService_.getBreakpointRange())};
G.prototype.setVisualizationDimensions_=function(a){var b=this.legendsContainer_.getBoundingClientRect().height,c=this.captionContainer_.getBoundingClientRect().height;a=this.getVisualizationGraphHeight_(b,c,a);this.scope_.graphOptions=this.globalsService_.immutableMerge(this.scope_.graphOptions,{height:a,chartArea:{width:"100%",height:a}})};G.prototype.setVisualizationDimensionsCallback_=function(a,b){a!==b&&this.setVisualizationDimensions_(a)};
G.prototype.getVisualizationGraphHeight_=function(a,b,c){return this.editorialsService_.getFeaturedHomePageWidgetHeight(this.scope_.isMainEditorialItem)-a-b-(c===this.globalsService_.screenSizes.SMALL?16:24)};G.$inject=["$scope","globalsService","editorialsService","utilsService"];var Fb=function(a,b,c,d){this.scope_=a;this.timeout_=b;this.compile_=c;this.globalsService_=d};f=Fb.prototype;f.resizeHandler=function(){var a=this;this.scope_.resizeTimer&&this.timeout_.cancel(this.scope_.resizeTimer);this.scope_.resizeTimer=this.timeout_(function(){return a.startPlacingLegendItems()},100)};
f.setInitialAlgorithmValues=function(){var a=this.globalsService_.isMobileMode?Infinity:3;this.maxNumberOfLines=this.scope_.maxLines||a;this.minItemsInRow=this.globalsService_.isMobileMode?1:2};f.getItemTitle_=function(a){return(a=this.scope_.items[this.scope_.topIndexes?this.scope_.topIndexes[a]:a])?a.value.text||a.value:"-"};
f.prepareItemsElements_=function(){var a=this,b=!this.globalsService_.isMobileMode,c=[];this.scope_.colors.forEach(function(d,e){c.push(a.createSafeLegendTemplate_(a.getItemTitle_(e),b,d))});return c};
f.createSafeLegendTemplate_=function(a,b,c){return"\n        <div class=\"fe-line-chart-legend-item\"'\n             ng-class=\"{'not-mobile-mode' : "+b+'}">\n          <div class="fe-line-chart-legend-circle"\n               ng-style="{\'background-color\': \''+c+'\'}">\n          </div>\n          <div class="fe-line-chart-legend-text" ng-non-bindable>\n            '+a+"\n          </div>\n        </div>"};
f.isDivOverlapping_=function(a,b){a=a[0].getBoundingClientRect();b=b[0].getBoundingClientRect();return a.right+24>b.right};f.adjustContainerHeight_=function(a){this.globalsService_.isMobileMode?a.addClass("auto-height"):a.removeClass("auto-height")};f.clearLegendItems_=function(a){Array.from(a.children()).forEach(function(b){return b.remove()})};f.createNewRow_=function(a){var b=angular.element(this.compile_('<div class="fe-line-chart-legend-row"></div>')(this.scope_));a.append(b);return b};
f.placeItems_=function(){var a=this;if(this.scope_.element.children()[0]){var b=angular.element(this.scope_.element.children()[0]);this.adjustContainerHeight_(b);this.clearLegendItems_(b);var c=0,d=this.createNewRow_(b),e=this.prepareItemsElements_();e.forEach(function(g){g=angular.element(a.compile_(g)(a.scope_));d.append(g);a.isDivOverlapping_(g,d)&&(c<a.maxNumberOfLines-1?d.children().length>a.minItemsInRow&&(g.remove(),d=a.createNewRow_(b),c++,d.append(g)):Math.ceil(e.length/a.minItemsInRow)!==
a.maxNumberOfLines&&(a.minItemsInRow++,a.placeItems_()))})}};f.startPlacingLegendItems=function(){this.setInitialAlgorithmValues();this.placeItems_()};f.destroyScope=function(){this.timeout_.cancel(this.scope_.resizeTimer);this.setInitialAlgorithmValues()};Fb.$inject=["$scope","$timeout","$compile","globalsService"];var Gb=function(a,b,c,d){this.scope_=a;this.window_=b;this.trackingService_=c;this.isPageRtl=d.isPageRtl()};f=Gb.prototype;f.hasPreviousPage=function(){return 0<this.scope_.currentPage};f.hasNextPage=function(){return this.getFirstItemIndex()+this.scope_.maxItemsPerPage<this.scope_.totalNumberOfItems};
f.updateToNextPage=function(){this.hasNextPage()&&(this.scope_.currentPage++,this.trackingService_.trackEvent((this.scope_.paginationText?this.scope_.paginationText:"items")+" navigation","Forward",this.scope_.currentPage.toString()))};f.updateToPreviousPage=function(){this.hasPreviousPage()&&(this.scope_.currentPage--,this.trackingService_.trackEvent((this.scope_.paginationText?this.scope_.paginationText:"items")+" navigation","Backward",this.scope_.currentPage.toString()))};
f.getFirstItemIndex=function(){return this.scope_.carouselBehavior?this.scope_.currentPage:this.scope_.currentPage*this.scope_.maxItemsPerPage};f.getPaginationText=function(){var a=this.getFirstItemIndex(),b=Math.min(a+this.scope_.maxItemsPerPage,this.scope_.totalNumberOfItems);return this.getPaginationMsg_(this.scope_.paginationText,{firstItemNumber:a+1,lastItemNumber:b,totalItemsNumber:this.scope_.totalNumberOfItems},a+1===b)};
f.getPaginationMsg_=function(a,b,c){switch(a){case "queries":return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+(" of "+(b.totalItemsNumber+" queries"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" queries"))),c?b:a;case "topics":return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+(" of "+(b.totalItemsNumber+" topics"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" topics"))),c?b:a;case "cities":return a="Showing "+(b.firstItemNumber+("-"+
(b.lastItemNumber+(" of "+(b.totalItemsNumber+" cities"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" cities"))),c?b:a;case "regions":return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+(" of "+(b.totalItemsNumber+" regions"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" regions"))),c?b:a;case "subregions":return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+(" of "+(b.totalItemsNumber+" subregions"))))),b="Showing "+(b.firstItemNumber+(" of "+
(b.totalItemsNumber+" subregions"))),c?b:a;case "metros":return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+(" of "+(b.totalItemsNumber+" metros"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" metros"))),c?b:a;case "examples":return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+(" of "+(b.totalItemsNumber+" examples"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" examples"))),c?b:a;default:return a="Showing "+(b.firstItemNumber+("-"+(b.lastItemNumber+
(" of "+(b.totalItemsNumber+" items"))))),b="Showing "+(b.firstItemNumber+(" of "+(b.totalItemsNumber+" items"))),c?b:a}};Gb.$inject=["$scope","$window","trackingService","bidiService"];var Hb=function(a,b,c,d,e,g,h,k){this.scope_=a;this.document=b;this.window_=c;this.http_=d;this.utilsService_=e;this.globalsService_=g;this.geometry_=h;this.countiesStaticPathPrefix_=c.countiesStaticPathPrefix||"/trends/static";this.colors_=new k.Colors(a.palette);this.isNarrator_=/\/trends\//.test(window.location.pathname)};f=Hb.prototype;
f.applyTooltip_=function(a){(this.scope_.tooltipConfig=a)&&a.data&&a.formattedValue&&Array.isArray(a.data.formattedValue)&&a.data.formattedValue.length&&(this.scope_.tooltipConfig.data.formattedValue=a.data.formattedValue[0]);this.scope_.$applyAsync()};
f.bindTooltipEvents=function(){var a=this.globalsService_.isTouchDevice(),b=this.applyTooltip_.bind(this),c=this.utilsService_.debounce(this.onTooltipEvent_.bind(this),10),d=this.onClickEvent_.bind(this),e=a?this.documentElement:this.scope_.containerElement,g=a?["click"]:["mouseover","mousemove","mouseout"];this.scope_.tooltipConfig=null;this.scope_.applyTooltip=this.utilsService_.throttle(b,50,{leading:!1});g.forEach(function(h){return e.bind(h,c)});e.bind("click",d);this.scope_.$on("$destroy",function(){g.forEach(function(h){return e.unbind(h,
c)});e.unbind("click",d)})};
f.fillColors=function(){if(this.scope_.svgContent){var a={},b=this.isFrance?Ib:Jb,c=this.colors_.getHexValue(this.scope_.defaultColor);this.scope_.isMultiHeatMap||this.scope_.isSvgMultiHeatMap?this.fillMultiHeatMap_(a,!!this.scope_.isSvgMultiHeatMap):this.scope_.data[0].value.values&&1<this.scope_.data[0].value.values.length?this.fillColorMap_(a):this.fillHeatMap_(a);this.scope_.svgContainerElement.innerHTML=this.scope_.svgContent.replace(b,function(d,e){d=a[e];return angular.isUndefined(d)?'class="region-data-less" fill="'+
c+'"':'class="region-'+d.index+'" fill="'+d.color+'"'})}};f.fillColorMap_=function(a){a=this.setDataByHighest_.bind(this,a);this.scope_.data.forEach(a)};f.fillHeatMap_=function(a){var b=this.scope_.legend[0].value.color;b=Kb.test(b)?this.colors_.getColorRange(b):this.colors_.getColorRange(this.colors_.getHexValue(b));a=this.setDataByValue_.bind(this,a,b.startColorObj,b.endColorObj);this.scope_.data.forEach(a)};
f.setDataByHighest_=function(a,b,c){var d=this.colors_.getHexValue(this.scope_.legend[b.value.maxValueIndex].value.color);a[b.value.code]={color:d,index:c}};f.setDataByValue_=function(a,b,c,d,e){b=this.colors_.getRgbRatio(b,c,(d.value.values||d.value.value)[0]/100);a[d.value.code]={color:b,index:e}};f.fillMultiHeatMap_=function(a,b){this.fillColorMap_(a);a=this.setDataByValueAndHighest_.bind(this,a,b);this.scope_.data.forEach(a)};
f.setDataByValueAndHighest_=function(a,b,c,d){var e=this.colors_.getColorRange(a[c.value.code].color);b=this.colors_.getRgbRatio(e.startColorObj,e.endColorObj,(b?c.value.values:c.value.value)[c.value.maxValueIndex]/100);a[c.value.code]={color:b,index:d}};f.getStaticMapPath_=function(a){a+=".svg";return this.isNarrator_?this.countiesStaticPathPrefix_+"/"+a:"/static/framework/images/maps/"+a};
f.getTooltipPosition_=function(a){var b=this.geometry_.createRectFromDOM(this.scope_.containerElement[0]),c=this.scope_.centerTooltip?this.geometry_.createRectFromDOM(a.target).getCenterPoint():this.geometry_.createPoint(a.clientX,a.clientY),d;b.divide().some(function(e,g){if(e.isPointInside(c))return d=g,!0});return["top-left","top-right","bottom-left","bottom-right"][3-d]};
f.loadSvg=function(){var a=this;this.http_.get(this.getStaticMapPath_(this.scope_.mapName)).then(function(b){a.scope_.svgContent=b.data;a.fillColors()})};f.getRegionIndex_=function(a){var b=angular.element(a.target).attr("class"),c=/^region-([\d]+)$/;return c.test(b)&&this.scope_.containerElement[0].contains(a.target)?b.match(c)[1]:-1};
f.onTooltipEvent_=function(a){var b=this.getRegionIndex_(a);if(-1===b||"mouseout"===a.type)this.scope_.tooltipConfig&&this.scope_.applyTooltip(null);else{a.target.parentElement.appendChild(a.target);var c=this.scope_.containerElement[0].getBoundingClientRect(),d=this.getTooltipPosition_(a);a={data:this.scope_.data[b].value,position:d,top:a.clientY-c.top-("click"===a.type?this.window_.scrollY:0),left:a.clientX-c.left-("click"===a.type?this.window_.scrollX:0)};this.scope_.isMultiHeatMap&&(a.tooltip=
this.scope_.customTooltips[b]);this.scope_.applyTooltip(a)}};f.onClickEvent_=function(a){if(this.scope_.onRegionClick&&(a=this.getRegionIndex_(a),-1!==a))this.scope_.onRegionClick({region:this.scope_.data[a].value.code})};Hb.$inject="$scope $document $window $http utilsService globalsService geometryFactory colorsFactory".split(" ");var Jb=/id="(\d+|US-[a-z]{2})"/gi,Ib=/id="(FR-\w{2})"/gi,Kb=/^#([a-f0-9]{3,4}|[a-f0-9]{4}(?:[a-f0-9]{2}){1,2})\b$/i;var Mb=function(){this.restrict="E";this.template='<div class="bar-chart-content"></div>';this.scope={data:"=?",options:"=?",watchOptions:"=?"};this.link=Lb.bind(this.link,this)},Lb,Nb,Ob;Mb.prototype.redraw_=function(a){this.scopeDestroy_(a);a.data&&a.data.length&&Nb.applyGViz(function(b){var c=google.visualization.arrayToDataTable(a.data);(a.barChart_=new b.ColumnChart(a.gvizElement)).draw(c,a.options)})};Mb.prototype.scopeDestroy_=function(a){a.barChart_&&a.barChart_.clearChart();a.barChart_=null};
Mb.prototype.link=function(a,b){var c=this,d=Lb.debounce(Lb.bindKey(this,"redraw_",a),50);a.element=b;a.gvizElement=b[0].firstChild;a.$watch("data",d);a.watchOptions&&a.$watch("options",d);Ob.bind("resize",d);a.$on("$destroy",function(){c.scopeDestroy_(a)})};var Pb=function(a,b,c,d){Ob=angular.element(a);Lb=c;Nb=d;return new Mb};t("$jscomp.scope.directiveInjector",Pb,void 0);Pb.$inject=["$window","$timeout","lodash","globalsService"];var Qb,Rb,Sb=function(){this.restrict="A";this.scope={bidi:"="};this.template='<span ng-bind="bidiText"></span>';this.link=Qb.bind(this.link,this)};Sb.prototype.link=function(a,b){b=Qb.bind(this.updateDirectionality_,this,a,b);a.$watch("bidi",b)};Sb.prototype.updateDirectionality_=function(a,b){if(Qb.isArray(a.bidi))b=Rb.arrayToWrappedTextHelper(a.bidi);else{var c=Rb.isRtlThreshold(a.bidi);b.attr("dir",c?"rtl":"ltr");b=a.bidi}a.bidiText=b};var Tb=function(a,b){Qb=a;Rb=b;return new Sb};
t("$jscomp.scope.directiveInjector$jscomp$1",Tb,void 0);Tb.$inject=["lodash","bidiService"];var Ub,Vb=function(){this.restrict="A"};Vb.prototype.link=function(a,b,c){a.$watch(function(){return a.$eval(c.bindHtmlCompile)},function(d){b.html(d);Ub(b.contents())(a)})};var Wb=function(a){Ub=a;return new Vb};Wb.$inject=["$compile"];var Xb,Yb,H,Zb,$b,ac=function(){this.restrict="E";this.templateUrl="/framework/views/carousel-directive.html";this.transclude=!0;this.scope={stepSize:"@",trackingName:"@",hideButtons:"=?",viewableItemsCount:"<"};this.replace=!0;this.isBrowserIE_=/(msie|trident)/gi.test(Xb.navigator.userAgent);this.isTouchDevice_=Yb.isTouchDevice();this.currentLastViewableItemIndex_=0;this.link=H.bind(this.link,this)};f=ac.prototype;
f.applyPagination=function(a){a.isMobile_=Yb.isMobileMode;a.isTouch=Yb.isTouchDevice();a.itemsCount=this.getItemsElements_(a,!1).length;var b=this.sumItemsWidth_(a,0,a.itemsCount);a.maxTransform=Math.max(b-a.element[0].offsetWidth,0);a.viewableItemsCount&&(a.xTransform=0,a.currentItemOffset=0)};f.applyTransform_=function(a,b,c){var d=this.isRtl()?1:-1;this.itemWidth=this.getItemsElements_(a)[0].offsetWidth;a.xTransform+=b*d*(c?this.itemWidth/2:this.itemWidth)};
f.isBelowMaxTransform=function(a){return Math.abs(a.xTransform)<a.maxTransform};
f.link=function(a,b){var c=this,d=angular.element(Xb),e=H.bindKey(this,"onResize_",a);H.defaults(a,{stepSize:1,currentItemOffset:0,xTransform:0});a.element=b;a.isBrowserIE=this.isBrowserIE_;a.isTouch=this.isTouchDevice_;a.applyPagination=H.bindKey(this,"applyPagination",a);a.isBelowMaxTransform=H.bindKey(this,"isBelowMaxTransform",a);a.navigate=H.bindKey(this,"navigate",a);d.bind("resize",e);a.isRtl=H.bindKey(this,"isRtl");a.$on("$destroy",function(){d.unbind("resize",e)});a.$watchGroup(["viewableItemsCount",
"currentItemOffset"],function(){a.viewableItemsCount&&(c.currentLastViewableItemIndex_=Math.ceil(a.viewableItemsCount)+a.currentItemOffset)});e()};f.getItemsElements_=function(a,b){var c=a.itemsElements;c&&!0!==b||(c=a.itemsElements=a.element.find("ng-transclude").children());return c};f.shouldNavigateToLastItem_=function(a,b){return this.currentLastViewableItemIndex_===a.itemsCount&&(!this.itemWidth||0===a.xTransform%this.itemWidth)&&a.viewableItemsCount<a.itemsCount&&1===b};
f.shouldNavigateToFirstItem_=function(a,b){return this.currentLastViewableItemIndex_-1===Math.ceil(a.viewableItemsCount)&&a.viewableItemsCount<a.itemsCount&&-1===b};f.navigate=function(a,b){if(0!=b)if(a.currentItemOffset+=b,H.bind(this.shouldNavigateToFirstItem_,this,a,b)())a.xTransform=0;else{var c=H.bind(this.shouldNavigateToLastItem_,this,a,b);c=a.viewableItemsCount&&c();this.applyTransform_(a,b,c)}};
f.onResize_=function(a){a.resizeTimeout&&Zb.cancel(a.resizeTimeout);a.resizeTimeout=Zb(a.applyPagination,25)};f.sumItemsWidth_=function(a,b,c){var d=this.getItemsElements_(a);a=H.range(b,c,b<c?1:-1);var e=0;H.forEach(a,function(g){e+=d[g].offsetWidth});return e};f.isRtl=function(){return"rtl"==angular.element($b[0].documentElement).attr("dir")};var bc=function(a,b,c,d,e){Xb=a;Zb=b;H=c;$b=d;Yb=e;return new ac};t("$jscomp.scope.directiveInjector$jscomp$2",bc,void 0);
bc.$inject=["$window","$timeout","lodash","$document","globalsService"];var cc=function(){return{controller:Db,controllerAs:"ctrl",restrict:"E",template:"<div></div>",scope:{columns:"=",data:"=",options:"=",watchOptions:"=",onRegionClick:"=?"},link:cc.prototype.link}};
cc.prototype.link=function(a,b){var c=a.ctrl,d=c.resizeHandler.bind(c);a.element=b;a.gvizElement=b[0].firstChild;a.redrawBind=c.utilsService.debounce(c.redraw.bind(c),50);a.$watch("data",a.redrawBind);a.$watch("options",a.redrawBind,a.watchOptions);c.windowElement.bind("resize",d);a.$on("$destroy",function(){c.destroyScope();c.windowElement.unbind("resize",d)})};var dc=function(){return{controller:G,controllerAs:"ctrl",restrict:"A",scope:{graphOptions:"=",isMainEditorialItem:"="},link:function(a,b){return dc.prototype.link(a,b)}}};
dc.prototype.link=function(a,b){var c=a.ctrl,d=ca(Array.from(b.children())),e=d.next().value,g=d.next().value,h=d.next().value,k=c.init.bind(c);a.$watch(function(){return[e,g,h].map(function(l){return l.getBoundingClientRect().height})},function(l,p){angular.equals(l,p)||k(b,e,g,h,a.graphOptions)},!0);a.$watch("isMainEditorialItem",function(){return k(b,e,g,h,a.graphOptions)})};var ec,fc,gc,hc=function(){this.restrict="E";this.templateUrl="/framework/views/help_icon.html";this.scope={showAnnotation:"=?",data:"="};this.link=ec.bind(this.link,this)};hc.prototype.showDialog_=function(a){fc._gaq.push(["_trackEvent","Open dialog","Help",a.data.title]);gc.show({clickOutsideToClose:!0,scope:a,preserveScope:!0,templateUrl:"/framework/views/help_dialog.html"})};hc.prototype.cancelDialog_=function(){gc.hide()};
hc.prototype.link=function(a){a.openDialog=ec.bindKey(this,"showDialog_",a);a.cancelDialog=ec.bindKey(this,"cancelDialog_",a)};var ic=function(a,b,c){ec=a;gc=b;fc=c;return new hc};t("$jscomp.scope.directiveInjector$jscomp$3",ic,void 0);ic.$inject=["lodash","$mdDialog","$window"];var jc=function(){return{controller:Fb,controllerAs:"ctrl",restrict:"E",template:'<div class="fe-line-chart-legend"></div>',scope:{colors:"=",items:"=",topIndexes:"=?",maxLines:"<?"},link:function(a,b){return jc.prototype.link(a,b)}}};
jc.prototype.link=function(a,b){var c=a.ctrl,d=c.startPlacingLegendItems.bind(c),e=c.resizeHandler.bind(c);a.element=b;angular.element(b).on("resize",e);d();a.$watchGroup(["items","colors"],d,!0);a.$on("$destroy",function(){c.destroyScope();angular.element(b).off("resize",e)})};var kc=function(){this.restrict="E";this.templateUrl="/framework/views/line_chart_directive.html";this.draggedTooltipElement=void 0;this.draggedTooltipInitialPosition={x:0,y:0};this.draggedTooltipDroppedPosition={x:0,y:0};this.scope={data:"=",options:"=",xaxisLabelsArray:"=",widgetCsv:"=",watchOptions:"=",tooltipRow:"=",onSelect:"&?"};this.link=I.bind(this.link,this)},I,lc,mc,nc,oc=["right","bottom","left","top"];f=kc.prototype;
f.redraw_=function(a){var b=this;this.scopeDestroy_(a);a.data&&a.data.length&&lc.applyGViz(function(c){var d=c.arrayToDataTable(a.data);b.replaceChartDataValues_(d,-1,null);b.setCertaintyForMinorChangePoints_(d);c.events.removeListener(a.selectListener_);a.lineChart_=new c.LineChart(a.gvizElement_);c.events.addListener(a.lineChart_,"ready",function(){var e=angular.element(a.gvizElement_).find("path");I.each(e,function(g){g.getAttribute("stroke-dasharray")&&(g.style.strokeDasharray=4)})});a.lineChart_.draw(d,
a.options);a.onSelect?(b.setListenerToTVTooltipSelect_(a,c),a.tooltipRow||a.lineChart_.setSelection([])):a.xaxisLabelsArray&&(a.displayLabels=b.getDisplayLabels_(a),b.setAnnotations_(a));c=I.bindKey(b,"setSelectListener_",a,c);mc(c,100)})};f.setAnnotations_=function(a){a.selectionArr=[];I.forEach(a.widgetCsv.getValues(),function(b,c){for(var d=1;d<=a.options.colors.length;d++)b["tooltip"+d]&&a.selectionArr.push({column:d+2*(d-1),row:c})})};
f.setSelectListener_=function(a,b){var c=I.bind(this.activateSelections_,this,a);a.selectListener_=b.events.addListener(a.lineChart_,"select",c);a.chartRenderWaitTimer_&&mc.cancel(a.chartRenderWaitTimer_);a.chartRenderWaitTimer_=mc(c,0)};f.setListenerToTVTooltipSelect_=function(a,b){a.selectListener_=b.events.addListener(a.lineChart_,"select",function(){a.onSelect(a.lineChart_.getSelection()[0])})};
f.scopeDestroy_=function(a){a.chartRenderWaitTimer_&&mc.cancel(a.chartRenderWaitTimer_);a.lineChart_&&a.lineChart_.clearChart();a.lineChart_=null};
f.drop_=function(a,b){this.draggedTooltipDroppedPosition={x:b.clientX,y:b.clientY};b=this.draggedTooltipDroppedPosition.x-this.draggedTooltipInitialPosition.x;var c=this.draggedTooltipDroppedPosition.y-this.draggedTooltipInitialPosition.y,d=this.draggedTooltipElement.childNodes[1].getAttribute("name").replace("tooltip_","").split("_");a.widgetCsv.items[d[0]].value.draggedPos=[""!==this.draggedTooltipElement.style.left?parseInt(this.draggedTooltipElement.style.left)+b:b,""!==this.draggedTooltipElement.style.top?
parseInt(this.draggedTooltipElement.style.top)+c:c];a.$apply()};f.drag_=function(a,b){this.draggedTooltipElement=b.srcElement;this.draggedTooltipInitialPosition={x:b.clientX,y:b.clientY}};
f.activateSelections_=function(a){a.lineChart_&&(a.tooltipRow?a.lineChart_.setSelection([{column:1,row:a.tooltipRow}]):a.lineChart_.setSelection(a.selectionArr),I.forEach(a.displayLabels,function(b){var c=document.createElement("div"),d=a.element[0].querySelector(".tooltip_"+b.index);if(d){var e=d.parentElement;I.isUndefined(b.tooltipPos)||("string"!==typeof b.tooltipPos||I.isEmpty(b.tooltipPos)||(b.tooltipPos=JSON.parse(b.tooltipPos.replace(";",","))),e.style.left=b.tooltipPos[0]+"px",e.style.top=
b.tooltipPos[1]+"px");b=d.getAttribute("data-position");c.className="triangle "+b;d.appendChild(c)}}))};f.getDisplayLabels_=function(a){var b=a.lineChart_.getChartLayoutInterface(),c=[],d=a.widgetCsv.getValues();I.forEach(a.xaxisLabelsArray,function(e,g){if(e){var h;d[g].tooltip1?h="1":d[g].tooltip2?h="2":d[g].tooltip3?h="3":d[g].tooltip4?h="4":d[g].tooltip5&&(h="5");c.push({left:b.getXLocation(g),top:b.getYLocation(d[g]["y"+h]),text:e,index:g+"_"+h,tooltipPos:d[g].draggedPos})}});return c};
f.setNextPosition_=function(a){3===a.position&&(a.position=-1);var b=oc[a.position+1];a.position+=1;var c="top"===b||"right"===b?1:-1;b="top"===b||"bottom"===b?93:107;a.left+=b*c;a.right+=b*c};
f.handleTooltipClick_=function(a,b){var c=b.getAttribute("name").replace("tooltip_","").split("_"),d=a.widgetCsv.items[c[0]],e=I.indexOf(oc,d.value["tooltipPos"+c[1]]),g=angular.element(a.gvizElement_).find("svg")[0].getBoundingClientRect(),h=b.getBoundingClientRect();b=!1;e={left:h.left,right:h.right,position:e};do this.setNextPosition_(e),g.left<e.left&&g.right>e.right&&(b=!0);while(!b);d.value["tooltipPos"+c[1]]=oc[e.position];a.$apply()};
f.replaceChartDataValues_=function(a,b,c){for(var d=0;d<a.getNumberOfRows();d++)for(var e=0;e<a.getNumberOfColumns();e++)a.getValue(d,e)===b&&a.setValue(d,e,c)};f.setCertaintyForMinorChangePoints_=function(a){var b=a.getNumberOfColumns(),c=7;if(!(c>=b||"certainty"!==a.getColumnProperties(c).role)){b=(b-4)/4;for(var d=4,e=a.getNumberOfRows()-1,g=0;g<b;g++)a.getValue(e,c)||18>Math.abs(a.getValue(e,d)-a.getValue(e-1,d))&&a.setValue(e,c,!0),c+=4,d+=4}};
f.link=function(a,b){var c=this;this.scope_=a;a.element=b;a.gvizElement_=b[0].firstChild;a.chartRenderWaitTimer_=null;a.selectionArr=null;a.redrawBind=I.debounce(I.bindKey(this,"redraw_",a),50);a.$watch("data",a.redrawBind);a.watchOptions&&a.$watch("options",a.redrawBind);var d=function(){return a.redrawBind(a)};nc.on("resize",d);var e=function(){return c.scopeDestroy_(a)};a.$on("$destroy",e);a.handleTooltipClick=I.bind(this.handleTooltipClick_,this,a);a.drop=function(){return c.drop_(a)};a.drag=
function(){return c.drag_(a)};a.allowDrop=function(g){return g.preventDefault()};a.$on("$destroy",function(){e();nc.off("resize",d)})};var pc=function(a,b,c,d){nc=angular.element(a);mc=b;I=c;lc=d;return new kc};t("$jscomp.scope.directiveInjector$jscomp$4",pc,void 0);pc.$inject=["$window","$timeout","lodash","globalsService"];var qc,rc,sc,tc,uc,vc=function(){this.restrict="E";this.scope={item:"=",listItemsV2:"=",listTitle:"<?"};this.templateUrl="/framework/views/list-item-actions.html";this.link=this.link_.bind(this)};vc.prototype.createSearchLink_=function(a){var b=a.listItemsV2.getValues().find(function(c){return c.title===a.item});return encodeURI("https://www.google."+this.domainSuffix+"/search?q="+qc.getItemExploreQuery(b,a.item))};
vc.prototype.link_=function(a){this.domainSuffix=rc.getDomainSuffix(sc.host());a.listActions={};a.globals=rc;a.menuPosition=tc.isPageRtl()?"target-left":"target-right";var b=a.listItemsV2.getValues().find(function(c){return c.title===a.item});a.exploreLink=uc.createExploreLink(qc.getItemExploreQuery(b,a.item));a.searchLink=this.createSearchLink_(a);a.isExploreLinkAvailable=qc.shouldDisplayListsExploreLinks()};var wc=function(a,b,c,d,e){rc=a;sc=b;uc=c;tc=d;qc=e;return new vc};
t("$jscomp.scope.directiveInjector$jscomp$5",wc,void 0);wc.$inject=["globalsService","$location","tpYisService","bidiService","yisService"];var xc,yc,zc,Ac,Bc=function(){this.restrict="E";this.templateUrl="/framework/views/low-search-volume-filter-directive.html";this.scope={filterToggleHandler:"&",isFilterVolumeChecked:"=",shouldDisplayLowFilterCheckbox:"="};this.link=xc.bind(this.link,this)};
Bc.prototype.link=function(a){a.getHeaderDirection=function(){return yc.htmlDir_};a.onVolumeFilterChange=function(b){a.filterToggleHandler()(b);zc._gaq.push(["Low Search Volume Filter","Checkbox",b])};a.globalsService=Ac;a.$watch("globalsService.isMobileMode",function(b){a.isMobileMode=b},!0)};var Cc=function(a,b,c,d){xc=a;yc=b;Ac=c;zc=d;return new Bc};t("$jscomp.scope.directiveInjector$jscomp$6",Cc,void 0);Cc.$inject=["lodash","bidiService","globalsService","$window"];var Dc,Ec,Fc=function(){this.restrict="E";this.scope={colors:"=",legend:"=",isSvgMap:"=",tooltipTextLabel:"@",defaultColor:"@",enableTooltip:"=?",centerTooltip:"=?",isEditor:"=",isColorChart:"=",showLegend:"=",isMultiHeatMap:"=?",columns:"=",data:"=",chartRows:"=",options:"=",onRegionClick:"&?",shouldDisplayLowFilterCheckbox:"=",isSideBySide:"=?",customTooltips:"=?",watchOptions:"=?"};this.template='<ng-include src="dynamicTemplateUrl"></ng-include>';this.link=Dc.bind(this.link,this)};
Fc.prototype.link=function(a){this.formatDataForSVG(a);var b=Dc.bind(this.getTemplate,this,a);a.$watch("isSvgMap",b);a.globalsService=Ec;a.$watch("globalsService.isMobileMode",function(c){a.isMobileMode=c},!0)};Fc.prototype.getTemplate=function(a){a.dynamicTemplateUrl="/framework/views/"+(a.isSvgMap?"svg_map_template.html":"geo_chart_template.html")};Fc.prototype.formatDataForSVG=function(a){Dc.forEach(a.data,function(b){b.value.values=[b.value.value];b.value.code=b.value.geoCode})};
var Gc=function(a,b){Dc=a;Ec=b;return new Fc};t("$jscomp.scope.directiveInjector$jscomp$7",Gc,void 0);Gc.$inject=["lodash","globalsService"];var J,Hc,Ic,K=function(){var a=this,b=this.controller;this.restrict="E";this.template="<ng-transclude></ng-transclude>";this.transclude=!0;this.scope={offset:"=?",onTrigger:"&"};this.controller=function(c){return b.call(a,c)};this.controller.$inject=["$scope"];this.link=J.bind(this.link,this)};K.prototype.calcScrollOffset_=function(a){var b=this.getWindowProperties_("innerHeight"),c=a.element[0].getBoundingClientRect();return Math.max(c.top-b.innerHeight+a.offset,0)};
K.prototype.controller=function(a){J.defaults(a,{offset:0})};K.prototype.controller.$inject=["$scope"];K.prototype.getWindowProperties_=function(a){return J.pick.apply(J,[Hc].concat(arguments))};K.prototype.link=function(a,b){a.element=b;a.onScrollBind=J.throttle(J.bindKey(this,"onScroll_",a),25);Ic.bind("scroll",a.onScrollBind);a.onScrollBind();a.$on("$destroy",function(){Ic.unbind("scroll",a.onScrollBind)})};
K.prototype.onScroll_=function(a){if(0===this.calcScrollOffset_(a)){var b=a.onTrigger();a.$applyAsync();b&&b["finally"]&&b["finally"](a.onScrollBind)}};var Jc=function(a,b,c){Ic=a;Hc=b;J=c;return new K};t("$jscomp.scope.directiveInjector$jscomp$8",Jc,void 0);Jc.$inject=["$document","$window","lodash"];var Kc,Lc=function(){var a=this,b=this.controller;this.restrict="E";this.templateUrl="/framework/views/sparkline-directive.html";this.transclude=!0;this.scope={color:"@?",drawArea:"=",height:"@?",serviceBind:"&?",thickness:"@?",ticks:"=?",width:"@?"};this.controller=function(c){return b.call(a,c)};this.controller.$inject=["$scope"]};
Lc.prototype.controller=function(a){var b=a.serviceBind&&a.serviceBind(),c=Kc.bindKey(this,"generate_",a);Kc.defaults(a,{color:"#4284f3",height:22,thickness:2,width:100});b&&(b.then(c),a.$on("$destroy",b.cancel));a.$watch("ticks",c)};Lc.prototype.controller.$inject=["$scope"];Lc.prototype.createSVGPath_=function(a){var b=parseInt(a[0].time),c=parseInt(a[a.length-1].time);return Kc.map(a,function(d){var e=(parseInt(d.time)-b)/(c-b);return[e?200*e:0,",",100-d.value].join("")}).join("L")};
Lc.prototype.generate_=function(a,b){a.svgPath=Kc.isEmpty(b)?"":this.createSVGPath_(b)};var Mc=function(a){Kc=a;return new Lc};t("$jscomp.scope.directiveInjector$jscomp$9",Mc,void 0);Mc.$inject=["lodash"];var Nc=function(){return{controller:Hb,controllerAs:"ctrl",restrict:"E",templateUrl:"/framework/views/svg_map_directive.html",scope:{mapName:"@",colors:"=",legend:"=",tooltipText:"@",data:"=",defaultColor:"@",enableTooltip:"=?",centerTooltip:"=?",isEditor:"=",onRegionClick:"&?",isMultiHeatMap:"=?",isSvgMultiHeatMap:"=?",customTooltips:"=?",options:"=?"},link:Nc.prototype.link}};
Nc.prototype.link=function(a,b){var c=a.ctrl;c.isFrance="france"===a.mapName;c.documentElement=angular.element(c.document);a.tooltipTemplate=a.isMultiHeatMap?"/framework/views/svg_multi_heat_map_tooltip.html":"/framework/views/"+(c.isFrance?"region_tooltip_geo_chart.html":"region_tooltip.html");a.containerElement=b;a.svgContainerElement=b[0].querySelector(".region-svg-container");a.$watch("mapName",c.loadSvg.bind(c));a.enableTooltip&&c.bindTooltipEvents();a.isEditor&&(b=c.fillColors.bind(c),a.$watchGroup(["data",
"legend","isMultiHeatMap","isSvgMultiHeatMap"],b,!0))};var Oc,Pc,Qc=function(){this.restrict="A";this.priority=1;this.scope={track:"=?",trackType:"@?"};this.link=Oc.bind(this.link,this)};Qc.prototype.link=function(a,b){var c=a.track||[];if("load"==a.trackType)a.$applyAsync(function(){Pc.trackEvent.apply(Pc,a.track)});else{for(var d=Oc.bindKey(this,"onClick_",c,a),e=c.length;4>e;e++)c[e]=void 0;b.bind("click",d)}};
Qc.prototype.onClick_=function(a,b,c){var d=c.currentTarget||c.target,e=!!d.href,g=e?"trackEventAndRedirect":"trackEvent",h=a.concat(c);/A/i.test(d.tagName)&&!e&&console.warn("Due to conflict with htmlAnchorDirective anchor links can't have a track attribute without href attribute.");b.$apply(function(){c.defaultPrevented||Pc[g].apply(Pc,h)})};var Rc=function(a,b){Oc=a;Pc=b;return new Qc};t("$jscomp.scope.directiveInjector$jscomp$10",Rc,void 0);Rc.$inject=["lodash","trackingService"];var Sc,Tc=function(){this.restrict="E";this.templateUrl="/framework/views/tv-broadcast-directive.html";this.transclude=!0;this.scope={mainTitle:"@",subTitle:"@"};this.link=Sc.bind(this.link,this)};Tc.prototype.markBold=function(a){return a.replace(/#([^#]+)#/g,"<b>$1</b>")};Tc.prototype.link=function(a){a.markBold=Sc.bindKey(this,"markBold")};var Uc=function(a){Sc=a;return new Tc};t("$jscomp.scope.directiveInjector$jscomp$11",Uc,void 0);Uc.$inject=["lodash"];var Vc,Wc,Xc=function(){this.restrict="E";this.scope={font:"=",text:"@",displayedText:"="};this.template="<div>{{displayedText}}</div>";this.canvasElement_=null;this.link=Vc.bind(this.link,this)};f=Xc.prototype;f.link=function(a,b){var c=angular.element(Wc);this.scope.displayedText=a.text;this.scope.text=a.text;this.scope.font=a.font;this.canvasElement_=this.createCanvas_();b=Vc.bindKey(this,"setTitleWithEllipsis_",a,b);a.$watchGroup(["text","font"],b,!0);c.bind("resize",b)};
f.setTitleWithEllipsis_=function(a,b){a.displayedText=this.getTitleWithEllipsis_(a,b)};f.createCanvas_=function(){var a=document.createElement("canvas");document.body.appendChild(a);var b=a.getContext("2d");b.font=this.scope.font;document.body.removeChild(a);return b};f.getTextWidth_=function(a,b){this.canvasElement_.font=b.font;return this.canvasElement_.measureText(a).width};
f.getTitleWithEllipsis_=function(a,b){var c=a.text,d=b[0].clientWidth,e=2*d,g=this.getTextWidth_("...",a);b=this.getTextWidth_(c,a);if(b<=d)return c;d=this.calculateFirstLineBreakDelta_(c,d,a);if(b+d<=e)return c;var h=c.length;for(e=e-g-50;b+d>=e&&0<h;)h--,c=c.substring(0,h),b=this.getTextWidth_(c,a);return c+"..."};f.calculateFirstLineBreakDelta_=function(a,b,c){var d=this,e=0,g="";Vc.forEach(a.split(" "),function(h){if(d.getTextWidth_(g+" "+h,c)>b)return e=b-d.getTextWidth_(g,c),!1;g+=h+" "});return e};
var Yc=function(a,b){Wc=b;Vc=a;return new Xc};t("$jscomp.scope.directiveInjector$jscomp$12",Yc,void 0);Yc.$inject=["lodash","$window"];var Zc,$c,ad,bd,cd,dd=function(){var a=this,b=this.controller;this.restrict="E";this.templateUrl="/framework/views/widget-directive.html";this.scope={id:"=?",template:"@",type:"@",version:"@",fields:"=",apis:"=",isEditor:"=",onLoad:"&?",onEvent:"&?",isScrolledInto:"=?",storyId:"=?",yisYear:"=?",isExpandedList:"<?",isPrefetched:"@?",storyTitle:"=?",storyTitleArray:"=?",storyCountry:"=?",storyTimeRange:"=?",storyNumberOfItems:"=?",showModePicker:"=?",widgetIsCurated:"=?",timeRange:"=?",embed:"=",share:"=",
"export":"=",genericAction:"=",palette:"=",forcedColor:"@",helpDialog:"=?",exploreQuery:"=?",exploreUrl:"@",paginationResolutionText:"=?",isFranceMetro:"=?",isSideBySide:"=?",widgetName:"=?",isMultiHeatMap:"=?",showMultiHeatMapMessage:"=?",isMainEditorialItem:"=?"};this.controller=function(c,d){return b.call(a,c,d)};this.controller.$inject=["$scope","$attrs"];this.link=this.link_.bind(this)};
dd.prototype.activateApis_=function(a){return Zc.forIn(a.apis,function(b){return a.ctrl.widget.activateAPI(b.name,b.url,b.params,b.autoRefreshTimeout||b.auto_refresh_timeout)})};dd.prototype.link_=function(a,b){window.embedWidgetGlobals=window.embedWidgetGlobals||{};a.exploreUrl=window.embedWidgetGlobals.exploreUrl;a.widgetDirectiveElement=b;this.onScrollTo(a)};
dd.prototype.controller=function(a,b){"timeline_chart"===a.type?a.type="horserace_chart":"county_chart"===a.type&&(a.type="svg_map");var c=this.getWidgetController_(a);a.ctrl=c;a.widget=c.widget;(a.isPrefetched||a.isScrolledInto)&&this.activateApis_(a);Zc.defaults(a,{isScrolledInto:!1});angular.isUndefined(a.storyNumberOfItems)&&(a.storyNumberOfItems=Infinity);a.getHeaderDirection=this.getHeaderDirection_.bind(this,a);a.getEmbedHeaderText=this.getEmbedHeaderText.bind(this,a);a.getEmbedLogoLink=this.getEmbedLogoLink.bind(this,
a);a.getWidgetTemplate=this.getWidgetTemplate_.bind(this,a);a.onScrollToBind=this.onScrollTo.bind(this,a);a.triggerEvent=this.triggerEvent.bind(this,a);if(b.onLoad)a.onLoad({$scope:a,controller:c});return c};dd.prototype.controller.$inject=["$scope","$attrs"];f=dd.prototype;f.getHeaderDirection_=function(a){if(!a.widget.fields.topic)return"auto";var b=$c.isRtlThreshold(a.widget.fields.topic.value||"");return a.widgetIsCurated?b?"rtl":"ltr":"auto"};
f.getEmbedHeaderText=function(a,b){var c=[];a.widget.fields.topic&&a.widget.fields.topic.value!==a.storyTitle&&c.push(a.widget.fields.topic.value);b&&(a.storyCountry&&c.push(a.storyCountry),a.storyTimeRange&&c.push(a.storyTimeRange));a.exploreUrl&&(a=(a=a.exploreUrl.match(/gprop=(.*)&q=/))?a[1]:"",c.push(this.getProperty(a)));return c.join(". ")+"."};
f.getProperty=function(a){switch(a){case "images":return"Image Search";case "news":return"News Search";case "froogle":return"Google Shopping";case "youtube":return"YouTube Search";default:return"Web Search"}};f.getEmbedLogoLink=function(a){return a.yisYear?"yis/"+a.yisYear:a.storyId?"story/"+a.storyId:a.exploreUrl?"explore?"+a.exploreUrl:""};f.createControllerByName_=function(a,b){return ad(a,{$scope:b})};
f.getWidgetController_=function(a){var b=bd.titleizeString(bd.camelizeString(a.type));b=this.createControllerByName_(b+"V"+(parseInt(a.version)||1)+"Ctrl",a);a.fields&&b.widget.resetFields(a.fields);b.widget.templateUrl=this.getWidgetTemplate_(a);return b};f.getWidgetTemplate_=function(a){var b=a.type.replace(/[^-_a-z0-9]/ig,""),c=parseInt(a.version,10)||1;a=a.template.replace(/[^-_a-z0-9]/ig,"");return bd.underscoreString("/widgets_library/"+b+"_v"+c+"/views/"+a+".html")};
f.loadingContent_=function(){this.scope.isPrefetched?(this.scope.isScrolledInto=!0,this.that.activateApis_(this.scope)):this.that.isWidgetInViewPort_(this.element[0])&&!this.scope.isScrolledInto&&(this.scope.isScrolledInto=!0,this.that.activateApis_(this.scope))};f.onScrollTo=function(a){this.onAfterRendering_(this.loadingContent_.bind({that:this,scope:a,element:a.widgetDirectiveElement}))};f.onAfterRendering_=function(a){"function"===typeof a&&requestAnimationFrame(a)};
f.isWidgetInViewPort_=function(a){var b=a.parentNode.parentNode.getAttribute("template");return!b||/featured/.test(b)||/explore/.test(b)?!0:cd.isInView(a)};f.triggerEvent=function(a,b,c,d){a.onEvent&&(b=Zc.defaults({name:b,widget:Zc.pick(a,"type","version","template"),ctrlKey:d&&d.ctrlKey},c),!1===a.onEvent({event:b})&&d&&d.preventDefault&&d.preventDefault())};var ed=function(a,b,c,d,e){ad=a;Zc=b;bd=c;$c=d;cd=e;return new dd};t("$jscomp.scope.directiveInjector$jscomp$13",ed,void 0);
ed.$inject=["$controller","lodash","helpersFactory","bidiService","globalsService"];var fd,L,gd,hd,id=function(){this.restrict="E";this.MIN_SCREEN_WIDTH_=1024;this.templateUrl=function(a,b){return"/framework/views/"+("false"===b.isActionMenu?"widget-actions-flatten-yis.html":"widget-actions-flatten.html")};this.isTouchDevice=fd.isTouchDevice();this.link=L.bind(this.link,this)};f=id.prototype;f.showActionButton_=function(){return fd.isDesktopMode&&gd.screen.width>=this.MIN_SCREEN_WIDTH_};f.showFlattenMenu_=function(a){return!a||fd.isDesktopMode};
f.setupClickOutside_=function(a){a.widgetActions.menuOpen?this.closeActionsMenu_(a):a.widgetActions.menuSetup||(a.widgetActions.menuOpen=!0,a.widgetActions.menuSetup=!0,hd.bind("click",a.clickOutsideHandler))};f.clickOutsideHandler_=function(a){a.widgetActions.menuSetup?a.widgetActions.menuSetup=!1:(this.closeActionsMenu_(a),a.$digest())};f.closeActionsMenu_=function(a){a.widgetActions.menuOpen=!1;hd.unbind("click",a.clickOutsideHandler)};f.scopeDestroy_=function(a){hd.unbind("click",a.clickOutsideHandler)};
f.link=function(a){a.widgetActions={};a.globals=fd;a.listTitle=a.fields.topic.value;a.setupClickOutside=L.bindKey(this,"setupClickOutside_",a);a.clickOutsideHandler=L.bindKey(this,"clickOutsideHandler_",a);a.showActionButton=L.bindKey(this,"showActionButton_",a);a.showFlattenMenu=L.bindKey(this,"showFlattenMenu_");a.$on("$destroy",L.bindKey(this,"scopeDestroy_",a))};var jd=function(a,b,c,d,e,g,h){hd=a;L=b;fd=h.getYisYear()?c:d;gd=g;return new id};t("$jscomp.scope.directiveInjector$jscomp$14",jd,void 0);
jd.$inject="$document lodash globalsYisService globalsService $timeout $window tpYisService".split(" ");var kd,ld=function(){var a=this,b=this.controller;this.restrict="E";this.templateUrl="/framework/views/widget_loader_template.html";this.scope={templateUrl:"=",identifier:"=",baseURL:"=baseUrl",isEditor:"=",onLoad:"&?",onSuccess:"&?"};this.controller=function(c,d){return b.call(a,c,d)};this.controller.$inject=["$scope","$attrs"]};
ld.prototype.controller=function(a){var b=kd.get(a.identifier,{baseURL:a.baseURL});a.isQuerying=!0;b.then(function(c){c=c.data;a.model=c;if(a.onSuccess)a.onSuccess({model:c})})["finally"](function(){return a.isQuerying=!1})};ld.prototype.controller.$inject=["$scope"];var md=function(a,b,c){kd=c;return new ld};t("$jscomp.scope.directiveInjector$jscomp$15",md,void 0);md.$inject=["$controller","lodash","widgetService"];var M=function(a){this.palette_=a||nd;this.hexValues_=this.paletteDict_=null};t("$jscomp.scope.Colors",M,void 0);M.$inject=["palette"];
M.SOCIAL_PALETTE=[{name:"Blue",hexvalue:"#4285F4"},{name:"Red",hexvalue:"#DB4437"},{name:"Yellow",hexvalue:"#F4B400"},{name:"Green",hexvalue:"#0F9D58"},{name:"Purple",hexvalue:"#AB47BC"},{name:"Teal",hexvalue:"#00ACC1"},{name:"Orange",hexvalue:"#FF7043"},{name:"Olive",hexvalue:"#9E9D24"},{name:"Dark Blue",hexvalue:"#5C6BC0"},{name:"Pink",hexvalue:"#F06292"},{name:"Dark Green",hexvalue:"#00796B"},{name:"Cherry",hexvalue:"#C2185B"},{name:"Grey 1",hexvalue:"#424242"},{name:"Grey 2",hexvalue:"#616161"},
{name:"Grey 3",hexvalue:"#757575"}];M.SOCIAL_PALETTE_12=[{name:"Blue",hexvalue:"#4285F4"},{name:"Red",hexvalue:"#DB4437"},{name:"Yellow",hexvalue:"#F4B400"},{name:"Green",hexvalue:"#0F9D58"},{name:"Purple",hexvalue:"#AB47BC"},{name:"Dark Blue",hexvalue:"#3D4EB8"},{name:"Olive",hexvalue:"#199788"},{name:"Orange",hexvalue:"#FC5608"},{name:"Dark Purple",hexvalue:"#6734BA"},{name:"Light Blue",hexvalue:"#20BCD6"},{name:"Grey",hexvalue:"#898989"},{name:"Black",hexvalue:"#1D1D1D"}];
var nd=[{name:"PALETTE_COLOR_1",caption:"Blue",hexvalue:"#4285F4"},{name:"PALETTE_COLOR_2",caption:"Red",hexvalue:"#DB4437"},{name:"PALETTE_COLOR_3",caption:"Yellow",hexvalue:"#F4B400"},{name:"PALETTE_COLOR_4",caption:"Green",hexvalue:"#0F9D58"},{name:"PALETTE_COLOR_5",caption:"Purple",hexvalue:"#AB47BC"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#E0E0E0"},{name:"PALETTE_COLOR_7",caption:"Blue Grey",hexvalue:"#607D8B"},{name:"PALETTE_COLOR_8",caption:"Deep Orange",hexvalue:"#FF5722"}];
M.DEFAULT_PALETTE=nd;
var od=[{name:"PALETTE_COLOR_1",caption:"Blue",hexvalue:"#2196F3"},{name:"PALETTE_COLOR_2",caption:"Red",hexvalue:"#F44336"},{name:"PALETTE_COLOR_3",caption:"Yellow",hexvalue:"#FFCA28"},{name:"PALETTE_COLOR_4",caption:"Green",hexvalue:"#43A047"},{name:"PALETTE_COLOR_5",caption:"Purple",hexvalue:"#9C27B0"},{name:"PALETTE_COLOR_6",caption:"Indigo",hexvalue:"#303F9F"},{name:"PALETTE_COLOR_7",caption:"Light Blue",hexvalue:"#20BCD6"},{name:"PALETTE_COLOR_8",caption:"Light green",hexvalue:"#8BC34A"},{name:"PALETTE_COLOR_9",
caption:"Orange",hexvalue:"#FB8C00"},{name:"PALETTE_COLOR_10",caption:"Pink",hexvalue:"#FF80AB"},{name:"PALETTE_COLOR_11",caption:"Blue Grey",hexvalue:"#607D8B"},{name:"PALETTE_COLOR_12",caption:"Black",hexvalue:"#000000"},{name:"NO_DATA",caption:"Grey",hexvalue:"#E0E0E0"}];M.DEFAULT_PALETTE_12=od;M.OLYMPICS_PALETTE=[{name:"White",hexvalue:"#FFFFFF"},{name:"Blue",hexvalue:"#4285F4"},{name:"Red",hexvalue:"#EA4335"},{name:"Yellow",hexvalue:"#FABB05"},{name:"Green",hexvalue:"#34A853"}];
M.TV_PALETTE=od;M.WIDGET_BACKGROUND_COLOR="#FDFDFD";M.GEO_MAP_DEFAULT_COLOR="#CFCFCF";
var pd={Blue:"PALETTE_COLOR_1",Red:"PALETTE_COLOR_2",Green:"PALETTE_COLOR_3",Yellow:"PALETTE_COLOR_4",Purple:"PALETTE_COLOR_5",Grey:"PALETTE_COLOR_6","Blue Grey":"PALETTE_COLOR_7"},qd={"#4285F4":["#B2CDF9","#0058EB"],"#DB4437":["#F0C4C0","#C11203"],"#F4B400":["#EFD8A6","#CF8D00"],"#0F9D58":["#81C784","#2E7D32"],"#AB47BC":["#DDC4E1","#751086"],"#3F51B5":["#C5CAE9","#303F9F"],"#FF5722":["#FFCCBC","#E64A19"],"#009688":["#B2DFDB","#00796B"],"#673AB7":["#D1C4E9","#512DA8"],"#00BCD4":["#B2EBF2","#0097A7"],
"#607D8B":["#8FA4AF","#364750"]};M.COLOR_RANGES=qd;f=M.prototype;f.getPaletteDict_=function(){var a=this;this.paletteDict_||(this.paletteDict_={},this.palette_.forEach(function(b){return a.paletteDict_[b.name]=b}));return this.paletteDict_};f.getConfigByName=function(a){var b=this.getPaletteDict_(),c=pd[a];c&&b[c]&&(a=c);return b[a]};f.getHexValue=function(a){return(a=this.getConfigByName(a))&&a.hexvalue};
f.getHexValues=function(a){if(arguments.length)var b=Array.from(arguments).map(this.getHexValue,this);else this.hexValues_||(this.hexValues_=this.palette_.map(function(c){return c.hexvalue})),b=this.hexValues_;return b};f.buildRgbColor_=function(a){a=a.replace("#","");a=parseInt(a,16);return{r:a>>16&255,g:a>>8&255,b:a&255}};f.getColorRange=function(a){a=qd[a];return{startColorObj:this.buildRgbColor_(a[0]),endColorObj:this.buildRgbColor_(a[1])}};
f.getRgbRatio=function(a,b,c){var d=1-c,e=function(h){return Math.round(b[h]-(b[h]-a[h])*d)};c=e("r");var g=e("g");e=e("b");return"rgb("+c+","+g+","+e+")"};var rd=function(){return{Colors:M}};t("$jscomp.scope.factoryInjector",rd,void 0);var N={},sd=function(a,b){this.x=a;this.y=b},td=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d;this.right=a+c;this.bottom=b+d};td.prototype.divide=function(){var a=this.getCenterPoint();return[N.createRectFromCoordinates(this.top,a.x,a.y,this.left),N.createRectFromCoordinates(this.top,this.right,a.y,a.x),N.createRectFromCoordinates(a.y,a.x,this.bottom,this.left),N.createRectFromCoordinates(a.y,this.right,this.bottom,a.x)]};
td.prototype.getCenterPoint=function(){return N.createPoint(this.left+this.width/2,this.top+this.height/2)};td.prototype.isPointInside=function(a){return a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};N.Point=sd;N.Rect=td;N.createPoint=function(a,b){return new sd(a,b)};N.createRect=function(a,b,c,d){return new td(a,b,c,d)};t("$jscomp.scope.GeometryFactory.createRect",N.createRect,void 0);
N.createRectFromDOM=function(a){a=a.getBoundingClientRect();return N.createRect(a.left,a.top,a.width,a.height)};t("$jscomp.scope.GeometryFactory.createRectFromDOM",N.createRectFromDOM,void 0);N.createRectFromCoordinates=function(a,b,c,d){return N.createRect(d,a,b-d,c-a)};t("$jscomp.scope.GeometryFactory.createRectFromCoordinates",N.createRectFromCoordinates,void 0);var ud=function(){return N};t("$jscomp.scope.factoryInjector$jscomp$1",ud,void 0);var vd,wd,xd,O={},yd={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"apos"};O.imagesRegexCreator=function(a){return new RegExp("\\.("+a.join("|")+")$")};O.IMAGE_FORMATS=["png","jpg","jpeg","gif"];O.QUERY_STRINGS_RE_=/[?&]{0,1}([^=&]+)=?([^=&]*)/g;
O.TIME_ZONES=[{name:"GMT-12",value:"720"},{name:"GMT-11",value:"660"},{name:"GMT-10",value:"600"},{name:"GMT-9",value:"540"},{name:"GMT-8",value:"480"},{name:"GMT-7",value:"420"},{name:"GMT-6",value:"360"},{name:"GMT-5",value:"300"},{name:"GMT-4",value:"240"},{name:"GMT-3",value:"180"},{name:"GMT-2",value:"120"},{name:"GMT-1",value:"60"},{name:"GMT-0",value:"0"},{name:"GMT+1",value:"-60"},{name:"GMT+2",value:"-120"},{name:"GMT+3",value:"-180"},{name:"GMT+4",value:"-240"},{name:"GMT+5",value:"-300"},
{name:"GMT+6",value:"-360"},{name:"GMT+7",value:"-420"},{name:"GMT+8",value:"-480"},{name:"GMT+9",value:"-540"},{name:"GMT+10",value:"-600"},{name:"GMT+11",value:"-660"},{name:"GMT+12",value:"-720"},{name:"GMT+13",value:"-780"},{name:"GMT+14",value:"-840"}];
O.FIELD_VALIDATION={isHttps:{pattern:/^(https:\/\/)/,message:"Enter only secured link, please use https:// only."},isGstatic:{pattern:/(gstatic\.com)/,message:"Please use images which were uploaded to gstatic.com only."},isImageFormat:{pattern:O.imagesRegexCreator(O.IMAGE_FORMATS),message:"Insert only allowed image files:"+O.IMAGE_FORMATS.join(", ")}};O.camelizeString=function(a){return a=String(a).replace(/[-_\s]+(.)?/g,function(b,c){return c?c.toUpperCase():""})};
O.domDebounce=function(a,b,c){var d,e=vd.debounce(function(){d=!1;a.apply(this,arguments)},b,c);wd.bind("keydown keypress keyup",function(g){g=g.target.tagName;!d||"INPUT"!=g&&"TEXTAREA"!=g||e()});return function(){d=!0;return e()}};O.escapeChar=function(a){var b=a||"";a in yd&&(b="&"+yd[a]+";");return b};O.escapeHTML=function(a){vd.isNull(a)||vd.isUndefined(a)||""===a||(a=String(a).replace(/[&<>"']/g,O.escapeChar));return a||""};
O.openWindow=function(a,b,c){c||(c={});var d=c.width,e=c.height;c=vd.extend({height:e,left:d?window.screen.width/2-d/2:void 0,location:"no",menubar:"no",status:"no",toolbar:"no",top:e?window.screen.height/2-e/2:void 0,width:d},c);c=vd.map(c,function(h,k){return k+"="+h}).join(",");var g=window.open(a,b,c);g.onLoad=function(h){g.addEventListener?g.addEventListener("load",h,!1):g.attachEvent("load",h)};return g};
O.parseQueryStrings=function(a){for(var b=O.QUERY_STRINGS_RE_,c={},d;null!==(d=b.exec(a));)c[d[1]]=d[2];return c};O.slugifyString=function(a){return a=String(a).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()};O.titleizeString=function(a){return a=String(a).replace(/(?:^|\s|-)\S/g,function(b){return b.toUpperCase()})};O.underscoreString=function(a){return a=String(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()};
O.isBreakLineTitle=function(a,b){var c=document.createElement("canvas");document.body.appendChild(c);var d=c.getContext("2d");d.font="38px Roboto Condensed";b&&(b=(b=b.replace(/#/g,""))?b.toUpperCase():"");d.fillText(b,0,0);a=d.measureText(b).width>a;document.body.removeChild(c);return a};O.isRTL=function(a){return xd.isRtlThreshold(a)};t("$jscomp.scope.helpersFactory.isRTL",O.isRTL,void 0);var zd=function(a,b,c){wd=a;vd=b;xd=c;return O};t("$jscomp.scope.factoryInjector$jscomp$2",zd,void 0);
zd.$inject=["$document","lodash","bidiService"];var Ad=window._.noConflict(),Bd=function(){return Ad};t("$jscomp.scope.factoryInjector$jscomp$3",Bd,void 0);var Cd,P,Dd,Ed=function(a){this.q_=Cd.defer();this.data=a;this.isActive=!0;this.promise=this.q_.promise;this.promise.cancel=P.bindKey(this,"cancel")};Ed.prototype.cancel=function(){this.isActive=!1;return this};Ed.prototype.reject=function(){this.isActive&&this.q_.reject.apply(this,arguments);return this};Ed.prototype.resolve=function(){this.isActive&&this.q_.resolve.apply(this,arguments);return this};
var Fd=function(a,b){b=P.defaults(b||{},{batchSize:1,delayTime:0,isActive:!0,parallelBatches:1});this.batchSize_=Math.max(b.batchSize,1);this.delayPromise_=void 0;this.delayTime_=Math.max(b.delayTime,0);this.isActive=!!b.isActive;this.items_=[];this.iterationCallback_=P.isFunction(a)?a:P.noop;this.parallelBatches_=Math.max(b.parallelBatches,1);this.pendingBatches_={};this.pendingCount_=0;this.processItemsBind_=P.bindKey(this,"processItems_")};f=Fd.prototype;
f.cycle_=function(){this.delayPromise_&&Dd.cancel(this.delayPromise_);this.isActive&&(this.delayPromise_=Dd(this.processItemsBind_,this.delayTime_))};f.next_=function(a){a in this.pendingBatches_&&(delete this.pendingBatches_[a],this.pendingCount_--);this.cycle_()};
f.processItems_=function(){if(this.isActive&&this.pendingCount_<this.parallelBatches_){var a=this.takeBatch_();if(a&&a.length){var b=P.uniqueId(),c=P.bindKey(this,"next_",b);this.pendingBatches_[b]=a;this.pendingCount_++;this.iterationCallback_(a,c);this.processItems_()}}};f.push=function(a){a=new Ed(a);this.items_.push(a);this.cycle_();return a};f.start=function(){this.isActive=!0;this.cycle_();return this};f.stop=function(){this.isActive=!1;return this};
f.takeBatch_=function(){for(var a=[];this.items_.length&&a.length<this.batchSize_;){var b=this.items_.shift();b.isActive&&a.push(b)}return a};var Gd=function(a,b,c){Cd=a;Dd=b;P=c;return{Queue:Fd,QueueItem:Ed}};t("$jscomp.scope.factoryInjector$jscomp$4",Gd,void 0);Gd.$inject=["$q","$timeout","lodash"];var Hd,Q,Id,Jd,Kd=function(a,b){this.isEditor=!!b;this.apis={};this.fields={};this.fieldsList=[];this.isShowLoader=this.isRender=this.displayLoader=this.isQuerying=!1;this.templateUrl="";this.errorTemplateUrl="/framework/views/widget-error.html";this.errorMessage=null;this.isShowErrorMsg=!1;this.offset=Hd.isDesktopMode?-184:-110;Q.forEach(a,this.addFieldData.bind(this))};f=Kd.prototype;
f.addFieldData=function(a){var b=["color","csv"];!this.isEditor&&0>b.indexOf(a.name)&&(Q.isString(a.value)?a.value="":Q.isArray(a.values)&&(a.values=[]));this.addField(a)};f.activateAPI=function(a,b,c,d){if(a=this.apis[a])b&&(a.url=b),c&&(a.isActive=!1,a.setParams(c)),a.isActive=!0,d&&a.setAutoRefreshTimeout(d),a.dispatch(),a.dispatchToggles(!0);return a};f.addField=function(a){a=Q.isPlainObject(a)?Id.create(a):a;this.fields[a.name]=a;this.fieldsList.push(a);return a};
f.reduce=function(a){var b=Q.chain(this.apis).filter("isActive",!0).invokeMap("reduce").value(),c=a?Q.filter(this.fieldsList,function(d){return d.isTemplateSupported(a)}):this.fieldsList;return{apis:b,fields:Q.invokeMap(c,"reduce")}};f.registerAPI=function(a,b,c,d,e,g,h){b=new Jd(this,a,b,c,d,e,g,h);return this.apis[a]=b};f.resetFields=function(a){var b=this;Q.forEach(a,function(c){var d=c.name,e=b.fields[d];e&&(Q.extend(e.config,c.config),b.setFieldValue(d,c.value||c.values))})};f.serialize=function(){return JSON.stringify(this.reduce())};
f.setFieldValue=function(a,b){(a=this.fields[a])&&a["list"==a.type?"setValues":"setValue"].call(a,b);return a};var Ld=function(a,b,c,d){Q=a;Id=b;Jd=c;Hd=d;return Kd};t("$jscomp.scope.factoryInjector$jscomp$5",Ld,void 0);Ld.$inject=["lodash","widgetFieldFactory","widgetAPIFactory","globalsService"];var R,Md,Nd,Od=function(a,b,c,d,e,g,h,k,l,p){this.widget=a;this.name=b;this.url=c;this.params={};this.paramsSettings=R.map(e,function(q){q.path=q.path.split(".");return q});this.paramsSerialized_="";this.isActive=!!g;this.service_=h;this.middlewares_=[];this.runInBackground_=!!l;this.toggles_=[];this.showInEditor=!0;this.autoRefreshTimeout=p;this.dataRefreshTimeoutPromise_=void 0;this.setParams(d);R.forIn(k,R.bindKey(this,"middleware"));this.paramsGetterSetter=R.bind(this.paramsGetterSetter,this)};
f=Od.prototype;
f.dispatch=function(a){if(this.isActive){a=!0===a;var b=this,c=R.clone(this.params);var d=this.service_?this.service_(this.url,c):Md.get(this.url,{params:c});this.widget.errorMessage=null;this.widget.isQuerying=!0;this.runInBackground_||(this.widget.displayLoader=!0,d.then(null,function(){b.widget.errorMessage="Server error"}));d["finally"](function(){b.widget.isQuerying=!1;b.widget.displayLoader=!1});d.then(R.bindKey(this,"onSuccess_",c,a),null);Nd.cancel(this.dataRefreshTimeoutPromise_);R.isNumber(this.autoRefreshTimeout)&&
1<=this.autoRefreshTimeout&&(this.dataRefreshTimeoutPromise_=Nd(R.bindKey(this,"dispatch",!0),6E4*this.autoRefreshTimeout));return d}};f.setCtrl=function(a){this.ctrl=a;return this};f.initialDispatch=function(a){a&&(this.isActive=!0,this.dispatch(),this.isActive=!1);return this};f.dispatchToggles=function(a){R.invoke(this.toggles_,R.call,this,a)};f.middleware=function(a){R.isFunction(a)&&this.middlewares_.push(a);return this};f.toggle=function(a){R.isFunction(a)&&this.toggles_.push(a);return this};
f.setAutoRefreshTimeout=function(a){this.autoRefreshTimeout=a;return this};f.setShowInEditor=function(a){this.showInEditor=a;return this};f.onSuccess_=function(a,b,c){var d=this.widget;c&&c.data&&(c=c.data);R.forIn(this.middlewares_,function(e){c=e(c,a,b)});R.forIn(c,function(e,g){d.setFieldValue(g,e)})};f.paramsGetterSetter=function(a){if(!R.isUndefined(a)){try{var b=JSON.parse(a)}catch(c){}this.setParams(b);this.paramsSerialized_=a}return this.paramsSerialized_};
f.reduce=function(){return{name:this.name,url:this.url,params:this.params,autoRefreshTimeout:this.autoRefreshTimeout}};f.runInBackground=function(){this.runInBackground_=!0;return this};f.setService=function(a){this.service_=a;return this};f.setParams=function(a){a&&!R.isEqual(a,this.params)&&(this.params=a,this.paramsSerialized_=JSON.stringify(a),this.isActive&&this.dispatch());return this};f.onChange=function(){this.dispatch();this.dispatchToggles(this.isActive)};
var Pd=function(a,b,c){Md=a;Nd=b;R=c;return Od};t("$jscomp.scope.factoryInjector$jscomp$6",Pd,void 0);Pd.$inject=["$http","$timeout","lodash"];var S,T={},V=function(a,b,c,d){var e=this;this.name=a;this.type=b||"string";this.value=c;this.config=d||{};this.templatesByKey_={};S.forEach(this.config.templates,function(g){e.templatesByKey_[g]=!0});this.setValue=S.bind(this.setValue,this)};V.prototype.isEmpty=function(){return S.isEmpty(this.value)};V.prototype.isTemplateSupported=function(a){return this.config.templates?!!this.templatesByKey_[a]:!0};V.prototype.reduce=function(){return S.pick(this,"name","type","value","config")};
V.prototype.setValue=function(a){""===a&&(a=void 0);S.isFunction(this.castValue_)&&(a=this.castValue_(a));return this.value=a};var Qd=function(a,b,c){V.call(this,a,"integer",b,c)};ra(Qd,V);Qd.prototype.castValue_=function(a){a=parseInt(a);var b=void 0;S.isNaN(a)||(b=a);return b};var Rd=function(a,b,c){V.call(this,a,"boolean",b,c)};ra(Rd,V);Rd.prototype.castValue_=function(a){return S.isString(a)?"true"==a.toLowerCase():!!a};var Sd=function(a,b,c){V.call(this,a,"map",b||{},c)};ra(Sd,V);
Sd.prototype.isEmpty=function(){var a=S.without(this.config.keys,"index");a=this.config.keys?S.pick(this.value,a):this.value;return!S.values(a).join("")};Sd.prototype.getKeyConfig=function(a){var b=this.config,c=S.clone(b);S.has(b.keysConfig,a)&&S.extend(c,b.keysConfig[a]);return c};Sd.prototype.focus=function(a,b){a.field.config.isFocused=!0;b.target.onblur=function(){a.field.config.isFocused=!1;a.$apply()};b.target.onchange=function(){a.field.config.isFocused=!0;a.$apply()}};
Sd.prototype.setValue=function(a){if(S.isPlainObject(a))this.value=a;else try{this.value=JSON.parse(a)}catch(b){this.value={text:a}}return this.value};var Td=function(a,b,c,d,e){V.call(this,a,"list",void 0,e);this.subtype=b||"string";this.maxLimit=d;this.items=[];this.setValues(c)};ra(Td,V);f=Td.prototype;
f.exportAsCSV=function(){var a=this.reduce();"map"!==this.subtype&&(a.values=S.map(a.values,function(b){return{value:b}}),a.config.keys=["value"]);S.isFunction(this.config.csvSetter)&&(a=this.config.csvSetter(a));return a};f.getItem=function(a){if(0<=a&&(!this.maxLimit||a<this.maxLimit)){var b=this.items[a];b||(b=this.items[a]=T.create(S.extend({name:this.name,type:this.subtype},this.config)),b.value&&(b.value.index=a+1))}return b};f.getValue=function(a){return(a=this.getItem(a))&&a.value};
f.getValues=function(){var a=[];S.forEachRight(this.items,function(b){!a.length&&b.isEmpty()||a.unshift(b.value)});return a};f.importAsCSV=function(a){"map"!==this.subtype&&(a=S.map(a,function(b){return b.value}));S.isFunction(this.config.csvGetter)&&(a=this.config.csvGetter(a));this.setValues(a)};f.reduce=function(){var a=S.pick(this,"name","type","subtype","maxLimit","config");a.values=this.getValues();return a};f.setValue=function(a,b){a=this.getItem(a);var c;a&&(c=a.setValue(b));return c};
f.setValues=function(a){var b=this;this.items=[];S.forEach(a,function(c,d){b.setValue(d,c)})};T.Base=V;T.Integer=Qd;T.Map=Sd;T.List=Td;T.Boolean=Rd;
T.create=function(a){a||(a={});var b=S.pick(a,"csvGetter csvKeys csvSetter editable gridSpan keys keysConfig options placeholder textarea visible notification translation validation colorPalette templates imageUpload maxLength".split(" ")),c=a.name;switch(a.type){case "integer":a=new T.Integer(c,a.value,b);break;case "map":a=new T.Map(c,a.value,b);break;case "list":a=new T.List(c,a.subtype,a.values,a.maxLimit,b);break;case "boolean":a=new T.Boolean(c,a.value,b);break;default:a=new T.Base(c,"string",
a.value,b)}return a};var Ud=function(a){S=a;return T};t("$jscomp.scope.factoryInjector$jscomp$7",Ud,void 0);Ud.$inject=["lodash"];var Vd=function(a,b){return"M"+a.map(function(c,d){return d*b+","+c}).join(" L")},Wd=function(){return Vd};t("$jscomp.scope.filterInjector",Wd,void 0);Wd.$inject=["lodash"];var Yd=function(a,b,c,d){b=Xd.range(b,c,d);a.push.apply(a,b);return a},Xd,Zd=function(a){Xd=a;return Yd};t("$jscomp.scope.filterInjector$jscomp$1",Zd,void 0);Zd.$inject=["lodash"];var ae=function(a){return $d.titleizeString(a)},$d,be=function(a){$d=a;return ae};t("$jscomp.scope.filterInjector$jscomp$2",be,void 0);be.$inject=["helpersFactory"];var ce=function(a){return a?a.replace(/\s([^\s]+)$/,"\u00a0$1"):a},de=function(){return ce};t("$jscomp.scope.filterInjector$jscomp$3",de,void 0);var ee=function(a){this.htmlDir_=a[0].documentElement.getAttribute("dir")};f=ee.prototype;f.arrayToWrappedTextHelper=function(a,b){var c=this;a=Array.from(a,function(d){return c.wrapTextUnicode_(d)}).join(b||", ");return this.wrapTextUnicodeByPageDirection(a)};f.wrapTextUnicode_=function(a){return this.isRtlThreshold(a)?this.wrapRtlUnicode_(a)+(this.isPageRtl()?"":"\u200e"):this.wrapLtrUnicode_(a)+(this.isPageRtl()?"\u200f":"")};f.wrapRtlUnicode_=function(a){return"\u202b"+a+"\u202c"};
f.wrapLtrUnicode_=function(a){return"\u202a"+a+"\u202c"};f.wrapTextUnicodeByPageDirection=function(a){return this.isPageRtl()?this.wrapRtlUnicode_(a):this.wrapLtrUnicode_(a)};f.isTextRtl=function(a){return fe.test(a)};f.isTextInOppositeTextDirectionContext=function(a){return this.isTextRtl(a)&&!this.isPageRtl()||!this.isTextRtl(a)&&this.isPageRtl()};f.isNeutralText_=function(a){return ge.test(a)};f.isPageRtl=function(){return"rtl"===this.htmlDir_};
f.rtlWordRatio_=function(a){var b=this,c=0,d=0;a.split(" ").forEach(function(e){b.isTextRtl(e)?(c++,d++):b.isNeutralText_(e)||d++});return 0==d?0:c/d};f.isRtlThreshold=function(a){return.4<this.rtlWordRatio_(a||"")};f.hasAnyRtl=function(a,b){return Fa.test(Ea(a,b))};ee.$inject=["$document"];var fe=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/,ge=/^[\x00- !-@[-`{-\u00bf\u00d7\u00f7\u02b9-\u02ff\u2000-\u2bff]*$|^http:\/\//;var he=function(){this.json_={max_bucket:897,stories:[{subtitle:"Remembering the ones we lost in 2015",name:"Farewell",color:"#3F51B5",bucket:123,date:"Jan 04 2015",peak_index:2,data:[5.1621354555679995,29.114195047392,1.1346299910816,.6389360483791999,.5078963894576,.5730408603296,.4674564404432,1.4338401756432,25.543678786912,7.457387373695999,1.4137848320959998,.8148606922352,.6775946904064,.5669429295712,.6116106016384,.4959408891424,.525353856456,1.008002441888,4.093976860895999,1.3055926578032,
.730253549272,.6363743906416,8.543655373968,2.128052715152,.6075475095455999,.561836077192,.5472234331824,.5592579563584,.8269511899376,.6004617930271999,.5854573273328,.6048903658512,14.574910593568,4.282841498208,.917208467448,13.831865218704,1.5895744785648,1.0810426136015998,8.419260220592,1.3831404252016,.8352584681792,.7112419660112,.9197075654208,1.6210947221663998,1.2333558851744,.60765287336,.5332396794400001,1.1203531942304,.6628602194864,.7124404794],max_volume:8.84226,link:"/trends/story/US_cu_ZQp2IVEBAABCqM_en"},
{subtitle:"The world doubts its eyes",name:"The Dress",color:"#009688",bucket:73,date:"Feb 28 2015",peak_index:9,data:[.306058178136,.32204907036,.320037006312,.326324046336,.328111667544,.307436521224,.335050912056,.349370365248,44.8719328248,16.382267726880002,3.70861427304,1.714051485552,1.071189100704,1.002541277712,.943853435808,.7817713787760001,.709469098248,.6880308462720001,.646173576864,.665821567128,.624568973136,.586286946144,.569018049984,.56832887844,.601512092208,.519820179456,.519233987568,
.522592708656,.5004916901759999,.49160111320800004,.485200531512,.4882291896,.479481199848,.48296666512799996,.481556635992,.490439291448,.474720371136,.47436918410400003,.512566714968,.50976249972,.48881010048,.534488179176,.526339583832,.52408723392,.5031982067759999,.584536291992,.57059971188,.63894915792,.6631520175839999,.670698578016],max_volume:16.9937,link:"/trends/story/US_cu_9wXO1FABAABpUM_en"},{subtitle:"Hollywood honors the cinematic achievements of the past year in film",name:"Oscars 2015",
color:"#FF5722",bucket:406,date:"Feb 22 2015",peak_index:8,data:[2.2458869999999997,2.041893,7.156683,4.356333,3.3620310000000004,3.225105,3.789927,7.161435000000001,47.33055,4.424841,2.7147959999999998,2.117772,1.919691,1.8066239999999998,1.754298,1.549062,1.540116,1.4548230000000002,1.413504,1.3795469999999999,1.392678,1.386819,1.3445909999999999,1.328859,1.340874,1.329723,1.265481,1.239012,1.286469,1.256634,1.198611,1.209402,1.238625,1.248993,1.2678660000000002,1.252593,1.2761280000000002,1.384452,
1.4114790000000002,1.250559,1.274337,1.291617,1.304181,1.263069,1.253232,1.354932,1.26108,1.3523580000000002,1.419642,1.501956],max_volume:52.5895,link:"/trends/story/US_cu__pK4HFEBAAAXDM_en"},{subtitle:"The 11th Cricket World Cup: jointly hosted by Australia and New Zealand",name:"Cricket World Cup",color:"#9C27B0",bucket:323,date:"Mar 15 2015",peak_index:11,data:[2.33668327572,5.4882913671999995,4.6196622604,4.1351325088,4.1918608615999995,7.7736607748,26.157182405999997,39.669870604,36.77008908,
34.564318852,43.050456192,43.529356619999994,33.06751706,12.4740915912,1.78780518836,1.44797080912,1.27177298044,1.13349014192,1.12943539724,1.15819117876,1.1505847932,1.150000105,1.2956826486,2.210801266,1.74062221036,1.9177256258799997,1.89171923864,2.2851246544,1.01931821308,.8480562406,.66908454232,.58872934728,.59950120756,.5631526378799999,.66735767252,.72263110352,.72625888984,1.0343406205999999,1.04534907564,.92218654592,.9056194737599998,.90971229116,.91320954244,.94062462032,.71296063264,
.5975703767599999,.5104028843199999,.5693095405999999,.52519413604,.6843462640799999],max_volume:16.0065,link:"/trends/story/US_cu_Lh5L2lABAAA1RM_en"},{subtitle:"How the world wanted to help",name:"Nepal earthquake",color:"#0F9D58",bucket:85,date:"Apr 26 2015",peak_index:17,data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8.900909782400001,41.802637539200006,6.991954325280001,11.55974679856,3.4215312996800007,2.5780297478880003,1.9120040988000004,1.755051033728,1.5266108335200002,1.3242006946240001,1.1419256398560003,
.79894080672,.6197031544,.72686923152,.50818187488,.49912024408,.5925660287360001,.45183398524800006,.394800502464,.37163925512,.33723034635200005,.37376066016000004,.30284672585600003,.23397215019840004,.24034676160800003,.19501388129760003,.2008959333648,.430218132304,.19664413189920002,.17831715921920002,.2569552557152,.19407175267520002,.1939897062816,.21593852147360001],max_volume:14.8774,link:"/trends/story/US_cu_nmOD1lABAABNNM_en"},{subtitle:"World football's governing body rocked by scandal",
name:"FIFA in crisis",color:"#F4B400",bucket:42,date:"May 31 2015",peak_index:22,data:[.32181510128800006,.3921462382848,.6004213326528,.36403445228864,.5362742275648,.37311248564160004,.36096107516512005,.3903081912,.3854325683104,.36121463708224,.3752458013344,.4016280514592,.444859066528,.37591384656,.4367613249536,.488282006192,.5179380470080001,.5391309513472,.6310296147296001,.7104421068512,.7554521152832,11.989529462144,14.262507206528001,2.4853681449760003,1.2494623324704002,.9385850876800002,
.8655836152096,.8748735037888,.6673365809408001,2.5515636760320004,.8146608529024001,.6587553370208,.607256800928,.5189050516992,.5200676718432,.5190157774272001,.49489602301120006,.6071054757664001,1.0416633587328,.9982182739232001,1.3395377121984,.7906333699264,.7439071127104001,.8304171239968,.6847574288128,.6564116424448001,.4872005849152001,.5362963727104,.4759988320992,.47482883024],max_volume:3.86428,link:"/trends/story/US_cu_jHQFBVEBAADY8M_en"},{subtitle:"The world's best fight it out in Canada",
name:"Women's World Cup",color:"#673AB7",bucket:113,date:"Jun 07 2015",peak_index:23,data:[.8466001544671999,.8670017381088,1.0416678673408,.8725990602784001,.7873382471808,.7953373796032001,.9137197082272,.8970071118848,.9697515948288,1.0700961904192,1.1265594366208,.9676707161184,1.0125804267936,1.0811804067008,1.1578623400736001,1.0132878565376,1.030949444,1.2079138571808,1.0976824995584,1.3534718406047999,1.3637243955776,2.269520890672,6.794120752608,23.686956390272,15.823408917344,19.150606292832,
18.335440175136,14.9276303176,1.6150759090592002,1.5642479446720001,1.320702314512,1.273735881264,1.1186983392704002,1.2229251712608,1.4043274120064,1.438463485312,1.3756299205376,1.3289568118176,1.3216064442336,1.1805829129248,1.1887683926944,1.178112085136,1.2277184391359999,1.1800790849120002,1.0488871016064,1.1169970570080001,.9830616266464,.9533495773984,.94459125208,1.2652156664448],max_volume:6.86404,link:"/trends/story/US_cu_J7446VABAABP1M_en"},{subtitle:"An economy nears collapse",name:"Greece on the brink",
color:"#4285F4",bucket:35,date:"Jun 28 2015",peak_index:26,data:[.17761747697936,.505316877052,.32955363711288,.35846237417312,.7187395986232,.5964264908296,.6855438226976,1.0014600798216,.5054239478648,.38184855166744,.4968238672224,.4949845436168,.4251781976288,.36706245481551997,.4515635050688,.5208689126111999,.6316298444952,.5097106043344,.50294602334,.5345472089464,.4425810286664,.5930805279296001,.7541456220416,.8562758816224,2.4131925705471997,2.7246003816608,8.414733417528,8.106063560056,
4.33617672052,1.1864707964248,.7014438383984001,.5700450073472,.5050759677232,.5263715875975999,.5463211743968,.9452173114408,.939775819776,.872875681564,.6966753632711999,.5290407100023999,.4684998132792,.4392809532576,.4486572972928,.4654980065632,.4332391002496,.4547297419616,.4345315979184,.35129015929856,.35119532515008,.30116687026504],max_volume:2.20053,link:"/trends/story/US_cu_jEuM21ABAABQEM_en"},{subtitle:"An agreement reached",name:"Iran Nuclear deal",color:"#00BCD4",bucket:20,date:"Jul 12 2015",
peak_index:28,data:[0,.06909669359712,.091345627248,.11190132488160001,.11807702411360001,.11200842245056,.11481211172847999,.13491987573424002,.22394570709984002,.5970142255663999,.4254470470288,.3463980968592,.38980818118864,2.1755815793216,1.1414724689344,.5075447601104,.29887413693376,.23839058943008,.25070915506272,.22235956865152,.18287222593552002,.15083402726784,.14689995051024002,.14092554780384,.12847291477648,.23504046803024,.38767170194800005,.8039783232464001,4.462216302048001,1.71268165252,
1.1422151163104,1.3517393931024,1.0709874156112,.9613140328576,.7865065665584,1.4779738123408,2.2939517537152,1.2198100410912,.5182740603584,.433061136968,.30736572337775997,.36074448069536,.27451882080432,.21746982198112,.19505750590752,.18818762681248,.21452932923919998,.15419157514144,.16961753374208002,0],max_volume:1.14162,link:"/trends/story/US_cu_owaCAlEBAABwhM_en"},{subtitle:"Death of an icon",name:"Cecil the Lion",color:"#009688",bucket:32,date:"Jul 26 2015",peak_index:30,data:[.11080501903072,
.097776906848,.10197380324079999,.09742154412112,.09239813383223999,.09094330247288,.09882630480272,.09345761546512,.0890249696312,.09154797544944,.10284204270168,.09459046454944,.10482192075143999,.10188305013736,.09711764292416,.10010971363336,.09770666881392001,.10181350752936,.08944987496608,.09883847475912,.09305913632128,.08488822759431999,.7236986272824001,.28777530930392,.13611713749056,.10826775697784001,.10590122202760001,.1133388039532,.11321049784144001,.155636356704,22.726072267448,6.391452473456001,
1.8849836840135998,.9861732926568001,.6921123747288,.495612781564,.9163525142248001,.4148355652416,.3705438782064,.3541213913272,.505192275816,.5456869364544,.34975063841439996,.39821835906,.28715568466664,.22791164148536003,.20770429816576,.20080880086952,.22107490769288002,0],max_volume:6.53587,link:"/trends/story/US_cu_yfLOAlEBAABWcM_en"},{subtitle:"The Shanghai stock market falls 30%",name:"China crisis",color:"#DB4437",bucket:12,date:"Jul 12 2015",peak_index:27,data:[0,.053659819195359997,.07478658954424,
.09591296684424,0,0,0,0,0,0,0,0,0,0,.058572537146479996,.08745298275112,.0803568782716,.04866456097944,.07441869579256001,.066022385618,.05748968748208,.11610663915200001,.08554276519432,.0773362976288,.11317331536056,.24016937373296,.5916918534632001,2.9654398154248,.7994771438752,.34348541623199996,1.277428512444,.5272357676320001,.4493295491272,.6559710672984,3.415162413432,1.1049822468328,.8717942073064,.6136554248775999,.4154801795816,.3596240032448,.28379347587528003,.24747182887447997,.22610176126888,
.17916504316592002,.15084783660632,.15881611655056002,.13934329588872,.14196886240712,.16406882178288,0],max_volume:.86889,link:"/trends/story/US_cu_N83g21ABAACHlM_en"},{subtitle:"A human tragedy",name:"Migrant crisis",color:"#FF5722",bucket:23,date:"Sep 01 2015",peak_index:35,data:[.11485488389040001,.14650412473896,.16112433389232,.13954482526656,.13044818056920002,.13711053948432,.14907904595664,.1619912592924,.13788893115623999,.13778746993680002,.14709996456432,.13850279112096,.14353354393968,
.11539470458688,.131223830046,.17567011203528002,.40985631747839996,.25039414557096,.23167905561912,.2632252682796,.2668371309948,.24639249940656,.22274811785544,.23594238554639999,.27472172544912,.25211311016904,.18441771446808,.16531597500432,.15742237048031998,.1796568719976,.2549242519092,.29783686334208,.28357039735920003,.4328476648488,.7612764569496,3.409175321616,4.043680098168,3.5448826406831997,2.3959969035216,1.5591416316432,1.1960710803336,1.0954834459104,1.2834570039648,1.2981199130136,
1.1666708312256,1.3353980969591999,1.6648571709408,.9301839240768,.902730633504,.7029264622176],max_volume:1.03223,link:"/trends/story/US_cu_iQ-fCFEBAABHhM_en"},{subtitle:"Elizabeth II reaches a special milestone",name:"The longest reigning Queen",color:"#9C27B0",bucket:100,date:"Sep 06 2015",peak_index:36,data:[2.703510438464,2.4986764845328002,2.4073175711024,2.5602562765823995,2.5800334522336,2.4333823318288,2.3681373008831996,2.2814638474848,2.3471585314495997,2.5637779288,2.5406264662063998,
2.458846295664,2.5356500542208,2.3443963771888,2.4718786760272,2.3858173553104,3.7093955782048,3.8720037128960003,5.70813725592,3.1399119186864,2.759055811424,3.1326570128304,3.5097685306639996,3.5596460084239996,3.0263008487008,4.144893973792,2.5731677418479997,2.8754970504128,2.9119416165488,3.0451824969104,2.3288852373248,2.4388121754304,2.8782289758992,2.5196968185312,2.3685340535472,2.9941978902879995,10.457417787872,3.5220262986832,2.8774127989904,2.4562315066784,2.4618276085392,2.4549959055248,
2.6285959783072,2.4457270075744,2.5591831550912,3.1459198875984002,2.559073575784,2.6861137787967997,2.5356160468496,2.3145643554528],max_volume:2.76754,link:"/trends/story/US_cu_oBs23FABAADGRM_en"},{subtitle:"The popular auto brand under fire",name:"Volkswagen emissions scandal",color:"#3F51B5",bucket:13,date:"Sep 20 2015",peak_index:38,data:[.15687901121759998,.0618353952048,.051129988398719996,.07309533952224,.056628796331519994,.055496437718399995,.0488101666752,.045569090891519996,.05481306434015999,
.052465302308159996,.05173070503104,.05451231796416,.04990915214208,.04754703189599999,.054662109062399995,.04997124171648,.05869870751807999,.04360085138304,.04629088219392,.041775805955519996,.07693790805792,.053151004045439994,.049897898406719994,.04564437450048,.050588256862079996,.04959754009055999,.04090693997375999,.047168673551999996,.050599510597439994,.05437028806272,.053062914461759994,.054766497159359995,.12401267112864,.10408114162656,.06100494714719999,.04568395660416,.05049162996192,
.37180750584096,5.791870723968,2.899117452672,2.05662013704,1.2962983731264,.6839515874015999,.562279305168,.9061468905887999,.6100145460863999,.4491132946272,.4329079157088,.3922470056736,.2987148827376],max_volume:1.49252,link:"/trends/story/US_cu_dJrG-FABAADi4M_en"},{subtitle:"20 teams slug it out for victory",name:"Rugby World Cup",color:"#0F9D58",bucket:246,date:"Sep 18 2015",peak_index:37,data:[.685017118968,.655417201296,.690456507,.737519417232,.732117802728,1.421644499808,1.1804198443440002,
.99842698644,.9612520235759999,1.203758073336,1.127356754472,1.5781111697519998,1.399613816016,1.3056913914719999,.6750623415120001,.620348839032,.6948353305920001,.88241867064,.7271462253119999,.7701354058319999,.956998143192,1.203848148672,1.304180450352,1.640701905648,1.54620125556,1.50581263716,1.1885091906479999,1.3410328854,1.41021655476,1.617924468264,1.981517920512,2.104677055728,2.82083990136,3.08592289824,3.3954043188,4.587304410000001,5.895314514960001,28.907964752159998,39.7473401208,
30.364105199999997,26.041128316320002,22.162339065359998,20.77026833232,24.635575339440003,5.13042962952,1.0642546231199999,.8890726228799999,.644657557128,.579381995088,.602717318424],max_volume:13.6793,link:"/trends/story/US_cu_ggT_ElEBAAAslM_en"},{subtitle:"Life on the Red Planet?",name:"Water on Mars",color:"#F4B400",bucket:10,date:"Sep 27 2015",peak_index:39,data:[0,.05981480315616,.061591419847680004,.05783955138,.05995756016304,.05184069527856,.05887941944352,.08794635349584,.08608936422671999,
.0991223517744,.08861229771024,.07280454260256,.07463665464527999,.060676320642719994,.065274014808,.21250394699472,.0885763214136,.07291515057839999,.06545159993184,.06785435727552,.06851264695872,.05830992232224,.04671522118704,.05117015834544,.043949256337920004,.0548332342512,.04473346305936,.15340713886512,.07058893854672,.06324058859472,.04540361726592,.05924875057392,.06177704222928,.060111416240160004,.06422840584608,.05391009778848,.05085593983968,.05775573426336,.08388677287391999,8.263755338208,
1.131186620736,.5057884581024,.31769863837008,.24228007336272003,.20935372467936,.16996542075696,.15815371366224001,.11084947629936,.11730454246032,0],max_volume:2.15918,link:"/trends/story/US_cu_smvIDlEBAAAr5M_en"},{subtitle:"The epic saga continues with Episode VII: The Force Awakens in December",name:"Star Wars",color:"#DB4437",bucket:155,date:"Oct 18 2015",peak_index:42,data:[3.153382572424,2.388438578184,2.12830606308,2.0363750721439997,1.925903890216,2.092718122376,2.02470011104,2.210614199672,
1.9134589650879998,2.043138544672,2.324796133328,1.944983395216,1.966671280544,2.0009499432160003,2.145821896648,11.15874601672,5.68623519592,3.1346286909759997,4.05594661224,2.429867391352,2.138149391704,2.1040776356640003,1.9766842047679998,1.992361622032,2.125324572432,2.094814323992,1.957991377736,2.709808672536,2.984655301896,2.228157168536,2.070402733328,2.150475599912,3.59990404384,3.6745600269599996,3.8092867716000005,5.24827151848,4.883132191680001,3.84340940632,3.7140758017600004,3.63490857568,
3.87827826168,4.29599222448,25.7822623032,7.98425557592,8.02641704208,8.553011380080001,7.72318010928,10.04545266008,11.90818897312,15.7187985904],max_volume:7.6011,link:"/trends/story/US_cu_mahWFlEBAACePM_en"},{subtitle:"Terror in the heart of Europe",name:"Paris under attack",color:"#4285F4",bucket:897,date:"Nov 08 2015",peak_index:45,data:[.04684608,62.56548,40.59792,9.9864,1.485036,.8767107,.6298704,.6552027,.7423704000000001,.5158250999999999,.4447962,.4364289,.3930741,.3652587,.3503493,.3509559,
.34877430000000004,.3071646,.30344760000000004,.249372,.2899737,.2192598,.18459720000000002,.1834308,.238221,.48332159999999996,.2763,.1524024,.1494549,.1462428,.12381750000000001,.1174581,.1286361,.1740978,.283644,.1536606,.29288430000000004,.5895549,.22527450000000002,.2183418,.24130260000000003,.1844316,.1869372,.2006505,.4359888,90,66.33261,10.34667,1.310526,.9755370000000001],max_volume:100,link:"/trends/story/US_cu_j1EhJ1EBAAD_9M_en"}],max_volume:100}};t("$jscomp.scope.BubbleService",he,void 0);
he.prototype.getBubbleData=function(){return this.json_};var ie=function(a,b){this.http_=a;this.lodash_=b};t("$jscomp.scope.DriveService",ie,void 0);ie.$inject=["$http","lodash"];ie.prototype.getSpreadsheet=function(a,b){b=this.lodash_.template("<%= basePath %>sheets/<%= fileID %>/")({basePath:"/api/v1/drive/",fileID:b});return this.http_.get(b,{params:{access_token:a}})};
ie.prototype.updateSpreadsheet=function(a,b,c,d){b=this.lodash_.template("<%= basePath %>sheets/<%= fileID %>/")({basePath:"/api/v1/drive/",fileID:b});return this.http_.put(b,{access_token:a,keys:d,rows:c})};var je=function(a){this.globalsService_=a};je.prototype.getFeaturedHomePageWidgetHeight=function(a){return ke[""+this.globalsService_.getBreakpointRange().toUpperCase()+(a?"_MAIN":"")]};je.$inject=["globalsService"];var ke={SMALL:182,MEDIUM:230,LARGE:192,SMALL_MAIN:173,MEDIUM_MAIN:252,LARGE_MAIN:301};var re=function(a,b,c,d){var e=this;this.rootScope_=c;c=d.throttle(function(){return e.onResize_()},50);this.window_=a;this.document_=b;this.utilsService_=d;this.mobileWidth=640;this.tabletWidth=960;this.testStoryID="US_lnk_e95d0c16_e75c_41e8_8b40_a48ad76863bc";this.responsiveMode="desktop";this.isDesktopMode=!0;this.isMobileMode=!1;this.isIOSDevice=/iPad|iPhone|iPod/.test(navigator.userAgent||navigator.vendor||window.opera);this.isIOS=this.testUserAgent_(le);this.isAndroid=this.testUserAgent_(me);
this.isWindowsPhone=this.testUserAgent_(ne);this.isIE10=this.testUserAgent_(oe)&&10===document.documentMode;this.viewportMinimalDimensionSize_=this.getViewportMinimalDimensionSize_(a);this.isGvizLoading_=!1;this.gvizOnReadyCallbackArr_=[];this.windowInnerWidth=0;this.screenSizes=pe;this.isSmallDisplayWidth="small"===this.getBreakpointRange();this.isLargeDisplayWidth="large"===this.getBreakpointRange();this.geoPickerOptions=qe;angular.element(a).on("resize",c);this.onResize_()};f=re.prototype;
f.getGeoPicker=function(a){switch(a){case "allCountries":return this.window_.allCountriesGeoPicker;default:return this.window_.geoPicker}};f.isYisPage=function(a){return/(\/yis\/)\d{4}\/.*/.test(a)};f.getViewportMinimalDimensionSize_=function(a){return Math.min(a.innerWidth,a.innerHeight)};
f.getResponsiveMode=function(){return/forceMobileMode=true/.test(window.location.search)?"mobile":/forceMobileMode=false/.test(window.location.search)?"desktop":this.isMobileOS()?this.getViewportMinimalDimensionSize_(this.window_):this.window_.innerWidth>this.mobileWidth?"desktop":"mobile"};f.getIECssClass=function(){return 0<navigator.userAgent.indexOf("Trident")||0<navigator.userAgent.indexOf("MSIE")?"ie-class":""};
f.isTabletMode_=function(){return this.window_.innerWidth>this.mobileWidth&&this.window_.innerWidth<=this.tabletWidth};f.isValidColor_=function(a){var b=document.getElementById("divValidColor");b||(b=document.createElement("div"),b.id="divValidColor");b.style.borderColor=a;a=b.style.borderColor;b.remove();return 0!==a.length};f.testUserAgent_=function(a){return a.test((navigator.userAgent||navigator.vendor||window.opera).toLowerCase())};
f.applyGViz=function(a){var b=this,c=function(){b.gvizOnReadyCallbackArr_.forEach(function(d){d(google.visualization)});b.gvizOnReadyCallbackArr_=[]};google.visualization&&google.visualization.DataTable?a(google.visualization):(this.gvizOnReadyCallbackArr_.push(a),this.isGvizLoading_||(this.isGvizLoading_=!0,google.charts.load("44",{callback:c,packages:["corechart"]})))};
f.isTouchDevice=function(){return!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&document instanceof window.DocumentTouch)};f.isSmallTouchDevice_=function(){return this.isMobileOS()?!0:this.isTouchDevice()&&this.viewportMinimalDimensionSize_<=this.tabletWidth};f.isMobileOS=function(){return this.isIOS||this.isAndroid||this.isWindowsPhone};f.getDomainSuffix=function(a){a=a.split(".");a.splice(0,a.indexOf("google")+1);return a.join(".")};
f.getCurrentDateString=function(){var a=new Date;return a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear()};f.onResize_=function(){var a=this.getResponsiveMode();this.responsiveMode=a;this.isDesktopMode="desktop"===a;this.isMobileMode="mobile"===a;this.isTabletMode=this.isTabletMode_();this.isSmallTouchDeviceMode=this.isSmallTouchDevice_();this.isSmallDisplayWidth="small"===this.getBreakpointRange();this.isLargeDisplayWidth="large"===this.getBreakpointRange();this.rootScope_.$applyAsync()};
f.isInView=function(a){a=a.getBoundingClientRect();var b=this.window_.innerWidth||this.document_.documentElement.clientWidth;b=a.bottom<=(this.window_.innerHeight||this.document_.documentElement.clientHeight)&&a.right<=b;return 0<=a.top&&0<=a.left&&b};f.immutableMerge=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;return b.reduce(function(e,g){return d.utilsService_.merge(e,d.utilsService_.cloneDeep(g))},{})};
f.getBreakpointRange=function(){var a=this.window_.innerWidth;return 776>a?"small":776<=a&&1025>a?"medium":"large"};re.$inject=["$window","$document","$rootScope","utilsService"];var pe={SMALL:"small",MEDIUM:"medium",LARGE:"large"},qe={ALL_COUNTRIES:"allCountries",TRENDING_SEARCHES:"trendingSearches"},le=/\/iPad|iPhone|iPod\//,me=/\/android\/i/,ne=/\/windows phone\/i/,oe=/\/msie\/gi/;var we=function(a,b,c,d){c=d.bind(this.onResize_,this,c);var e=d.throttle(c,50,{trailing:!0});this.isGlobalsYisService=!0;this.window_=a;this.document_=b;this.lodash_=d;this.mobileWidth=640;this.tabletWidth=960;this.testStoryID="US_lnk_e95d0c16_e75c_41e8_8b40_a48ad76863bc";this.responsiveMode="desktop";this.isDesktopMode=!0;this.isMobileMode=!1;this.isIOSDevice=/iPad|iPhone|iPod/.test(navigator.userAgent||navigator.vendor||window.opera);this.isIOS=this.testUserAgent_(se);this.isAndroid=this.testUserAgent_(te);
this.isWindowsPhone=this.testUserAgent_(ue);this.isIE10=this.testUserAgent_(ve)&&10===document.documentMode;this.viewportMinimalDimensionSize_=Math.min(a.innerWidth,a.innerHeight);this.isGvizLoading_=!1;this.gvizOnReadyCallbackArr_=[];this.windowInnerWidth=0;angular.element(a).bind("resize",e);c()};t("$jscomp.scope.GlobalsYisService",we,void 0);we.$inject=["$window","$document","$rootScope","lodash"];var xe=/iPad|Tablet/,se=/iPad|iPhone|iPod/i,te=/android/i,ue=/windows phone/i,ve=/msie/gi;f=we.prototype;
f.getResponsiveMode=function(){return/forceMobileMode=true/.test(window.location.search)?"mobile":/forceMobileMode=false/.test(window.location.search)?"desktop":this.isMobileOS()?"mobile":this.window_.innerWidth>this.mobileWidth?"desktop":"mobile"};f.getIECssClass=function(){return 0<navigator.userAgent.indexOf("Trident")||0<navigator.userAgent.indexOf("MSIE")?"ie-class":""};
f.isTabletMode_=function(){return this.testUserAgent_(xe)||this.window_.innerWidth>this.mobileWidth&&this.window_.innerWidth<=this.tabletWidth};f.isValidColor_=function(a){var b=document.getElementById("divValidColor");b||(b=document.createElement("div"),b.id="divValidColor");b.style.borderColor=a;a=b.style.borderColor;b.remove();return 0!==a.length};f.testUserAgent_=function(a){var b=a===se;return a.test(navigator.userAgent||navigator.vendor||window.opera)&&!(b&&window.MSStream)};
f.applyGViz=function(a){var b=this,c=function(){b.gvizOnReadyCallbackArr_.forEach(function(d){d(google.visualization)});b.gvizOnReadyCallbackArr_=[]};google.visualization&&google.visualization.DataTable?a(google.visualization):(this.gvizOnReadyCallbackArr_.push(a),this.isGvizLoading_||(this.isGvizLoading_=!0,google.charts.load("44",{callback:c,packages:["corechart"]})))};
f.isTouchDevice=function(){return!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&document instanceof window.DocumentTouch)};f.isSmallTouchDevice_=function(){return this.isMobileOS()?!0:this.isTouchDevice()&&this.viewportMinimalDimensionSize_<=this.tabletWidth};f.isMobileOS=function(){return this.isIOS||this.isAndroid||this.isWindowsPhone};f.getDomainSuffix=function(a){if(a.match(/localhost|corp\.google/))return"com";a=a.split(".");a.splice(0,a.indexOf("google")+1);return a.join(".")};
f.getCurrentDateString=function(){var a=new Date;return a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear()};f.onResize_=function(a){var b=this.getResponsiveMode();this.responsiveMode=b;this.isDesktopMode="desktop"===b;this.isMobileMode="mobile"===b;this.isTabletMode=this.isTabletMode_();this.isSmallTouchDeviceMode=this.isSmallTouchDevice_();a.$applyAsync()};f.isYisPage=function(a){return/(\/yis\/)\d{4}\/.*/.test(a)};
f.isInView_=function(a){a=a.getBoundingClientRect();var b=this.window_.innerWidth||this.document_.documentElement.clientWidth;b=a.bottom<=(this.window_.innerHeight||this.document_.documentElement.clientHeight)&&a.right<=b;return 0<=a.top&&0<=a.left&&b};f.immutableMerge=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;return b.reduce(function(e,g){return d.lodash_.merge(e,d.lodash_.cloneDeep(g))},{})};var ye=function(){};ye.prototype.getFieldIfKeepState=function(a,b){if(a){var c=this.findFieldByName_(a,"keepState");if(c&&c.value)return this.findFieldByName_(a,b)}};ye.prototype.findFieldByName_=function(a,b){return a.find(function(c){return c.name===b})};var Ae=function(){this.franceSvgMapDataMock=ze};t("$jscomp.scope.MocksService",Ae,void 0);
var ze=[{value:{code:"FR-21",values:[10],formattedValues:[10],name:"france1"}},{value:{code:"FR-70",values:[90],formattedValues:[90],name:"france2"}},{value:{code:"FR-18",values:[70],formattedValues:[70],name:"france3"}},{value:{code:"FR-36",values:[50],formattedValues:[50],name:"france4"}},{value:{code:"FR-53",values:[5],formattedValues:[5],name:"france5"}},{value:{code:"FR-72",values:[65],formattedValues:[65],name:"france6"}},{value:{code:"FR-49",values:[20],formattedValues:[20],name:"france7"}},
{value:{code:"FR-44",values:[10],formattedValues:[10],name:"france8"}},{value:{code:"FR-90",values:[10],formattedValues:[10],name:"france9"}},{value:{code:"FR-58",values:[90],formattedValues:[90],name:"france10"}},{value:{code:"FR-10",values:[70],formattedValues:[70],name:"france11"}},{value:{code:"FR-89",values:[50],formattedValues:[50],name:"france12"}},{value:{code:"FR-88",values:[5],formattedValues:[5],name:"france13"}},{value:{code:"FR-25",values:[65],formattedValues:[65],name:"france14"}},{value:{code:"FR-68",
values:[20],formattedValues:[20],name:"france15"}},{value:{code:"FR-67",values:[10],formattedValues:[10],name:"france16"}}];var Be=function(a,b,c){this.http_=a;this.lodash_=b;this.helpers_=c};t("$jscomp.scope.OAuthService",Be,void 0);Be.$inject=["$http","lodash","helpersFactory"];var Ce={drive:{width:450,height:600}};Be.prototype.login=function(a,b){var c="/oauth/"+a;a=Ce[a]||{};this.popupWindow_&&this.popupWindow_.close();window.oauthLoginBind=b;return this.popupWindow_=this.helpers_.openWindow(c,"oauth",a)};var De=function(a,b){this.window_=a;this.location_=b};f=De.prototype;f.shouldDisplayListsExploreLinks=function(){return 2004<=this.getYisYear()};f.getYisYear=function(){var a=this.location_.path().match(/yis\/(\d{4})(.*)/);return a?a[1]:""};f.createExploreLink=function(a){var b=this.getYisYear(),c=b+"-01-01";b+="-12-31";var d=this.getSafeGeo_();d="GLOBAL"!==d?"&geo="+d:"";a=this.encode_(a);return"/trends/explore?date="+c+"%20"+b+"&q="+a+d};f.createExploreStringForTooltip=function(a){return(new wb("Explore {itemText}")).format({itemText:a})};
f.getSafeGeo_=function(){var a=this.getYisYear();a=new RegExp("/yis/"+a+"/(GLOBAL|[A-Za-z]{2})","i");a=this.location_.path().match(a);var b=this.window_.defaultGeo||"GLOBAL";return a?a[1]:b};f.encode_=function(a){a=a.replace(/\?/g,"");return encodeURIComponent(String(a))};f.getItemExploreQuery=function(a,b){return a?a.exploreQuery||a.title:b};De.$inject=["$window","$location"];var Ee=function(a,b,c,d,e){this.window_=a;this.location_=b;this.injector_=c;this.q_=d;this.tpYisService_=e};t("$jscomp.scope.TrackingService",Ee,void 0);Ee.$inject=["$window","$location","$injector","$q","tpYisService"];f=Ee.prototype;
f.changeWindowLocation_=function(a){var b=this.window_.location;a:{try{var c=b&&b.ownerDocument,d=c&&(c.defaultView||c.parentWindow);d=d||na;if(d.Element&&d.Location){var e=d;break a}}catch(h){}e=null}if(e&&(!b||!(b instanceof e.Location)&&b instanceof e.Element)){e=typeof b;if("object"==e&&null!=b||"function"==e)try{var g=b.constructor.displayName||b.constructor.name||Object.prototype.toString.call(b)}catch(h){g="<object could not be stringified>"}else g=void 0===b?"undefined":null===b?"null":typeof b;
y("Argument is not a Location (or a non-Element mock); got: %s",g)}a=a instanceof A?a:Ya(a);b.href=Ta(a)};f.eventCallback_=function(a){if(a.isNewWindow){var b=a.url;a=this.window_;var c=new za(xa,"_blank");b=b instanceof A?b:Ya(b);(a||na).open(Ta(b),c?Aa(c):"",void 0,void 0)}else this.changeWindowLocation_(a.url)};
f.isInternalURL_=function(a){var b=this.injector_.get("$route"),c=a.match(/trends(\/?.*)$/);c&&(a=c[1]||"/");return!!Object.keys(b.routes).find(function(d){return(d=b.routes[d].regexp)&&d.test(a)})};f.parseUrl_=function(a){return(a=a.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]?[^?#]*)(\?[^#]*|)(#.*|)$/))&&{protocol:a[1],host:a[2],hostname:a[3],port:a[4],pathname:a[5],search:a[6],hash:a[7]}};
f.parseEvent_=function(a){var b=a.currentTarget||a.target,c=b.href||"";a=!("_blank"!=b.target&&!a.ctrlKey&&!a.metaKey&&2!==a.which);try{var d=this.parseUrl_(c),e=d.pathname.match(/^\/trends/),g="support.google.com"===d.hostname,h=d.pathname.match(/^\/trends\/correlate/);!e||h||g||(c=d.pathname+d.search+d.hash)}catch(k){}return{url:c,isNewWindow:a}};f.trackPageview=function(a){this.window_._gaq&&this.window_._gaq.push(["_trackPageview",a])};
f.trackEvent=function(a,b,c,d){var e=this.tpYisService_.getYisYear();e&&(a="Yis "+e+" "+a);e=this.q_.defer();this.window_._gaq&&(a=["_trackEvent",a,b,c],angular.isUndefined(d)||a.push(d),this.window_._gaq.push(a),this.window_._gaq.push(e.resolve));return e.promise};
f.trackEventAndRedirect=function(a,b,c,d,e){a=this.trackEvent(a,b,c,d);this.window_._gaq&&this.window_._gaq._getAsyncTracker&&(b=this.parseEvent_(e),this.isInternalURL_(b.url)||(b=this.eventCallback_.bind(this,b),a.then(b),e.preventDefault()));return a};var Fe=function(a){this.debounce=a.debounce;this.cloneDeep=a.cloneDeep;this.throttle=a.throttle;this.defaults=a.defaults;this.zip=a.zip;this.remove=a.remove;this.uniq=a.uniq;this.zip=a.zip;this.zipWith=a.zipWith;this.merge=a.merge};Fe.prototype.flatten=function(a){return a.reduce(function(b,c){return a.concat(c)},[])};Fe.$inject=["lodash"];var Ge=function(a,b){this.http_=a;this.lodash_=b};t("$jscomp.scope.WidgetService",Ge,void 0);Ge.$inject=["$http","lodash"];f=Ge.prototype;f.convertParams_=function(a,b,c,d,e){e||(e={});return{type:a,version:b,template:c,fields:d,external_apis:this.lodash_.map(e.apis,function(g){return{name:g.name,url:g.url,params:g.params,auto_refresh_timeout:g.autoRefreshTimeout}}),name:e.name,is_active:e.isActive,is_public:e.isPublic,expires_on:e.expiresOn,short_url:e.shortUrl}};
f.create=function(a,b,c,d,e){a=this.convertParams_(a,b,c,d,e);return this.http_.post("/api/v1/widgets/",a)};f.get=function(a,b){b||(b={});a=this.lodash_.template("<%= baseURL %><%= widgetID %>/")({baseURL:b.baseURL||"/api/v1/widgets/",widgetID:a});return this.http_(this.lodash_.extend({method:"GET",url:a},b))};
f.getWidgetList=function(a){a||(a={});return this.http_.get("/api/v1/widgets/",{params:{is_active:a.isActive,is_public:a.isPublic,owner_email:a.ownerEmail,type:a.widgetType,template:a.template,order_by:a.orderBy,offset:a.offset,batch_size:a.batchSize,name:a.searchText,short_url:a.shortUrlSearchText}})};f.getOwnerList=function(a){a||(a={});return this.http_.get("/api/v1/widgets/owners/",{params:{is_active:a.isActive,is_public:a.isPublic}})};
f.download=function(a,b,c){a=this.lodash_.template("<%= baseURL %><%= widgetID %>/?mimetype=<%= mimetype %>&scale=<%= scale %>&as_attachment=true")({baseURL:"/api/v1/widgets/",mimetype:b,scale:c,widgetID:a});window.location=a};f.remove=function(a){a=this.lodash_.template("<%= baseURL %><%= widgetID %>/")({baseURL:"/api/v1/widgets/",widgetID:a});return this.http_["delete"](a)};
f.update=function(a,b,c,d,e,g){a=this.lodash_.template("<%= baseURL %><%= widgetID %>/")({baseURL:"/api/v1/widgets/",widgetID:a});b=this.convertParams_(b,c,d,e,g);return this.http_.put(a,b)};var W=angular.module("publishAppFramework",["ngSanitize","publishAppFrameworkViews"]),He=function(a){var b=function(c){var d=(c=c[0].getElementById("tpt-csrf-token"))&&c.getAttribute("data-token");return{request:function(e){d&&/^(?!http)/.test(e.url)&&(e.headers["X-CSRF-Token"]=d);return e}}};b.$inject=["$document"];a.interceptors.push(b)};t("$jscomp.scope.csrfMiddleware",He,void 0);He.$inject=["$httpProvider"];var Ie=function(a,b,c,d){a.globals=d.getYisYear()?c:b};
t("$jscomp.scope.rootScopeConfig",Ie,void 0);Ie.$inject=["$rootScope","globalsService","globalsYisService","tpYisService"];W.config(He);W.config(["$locationProvider",function(a){a.hashPrefix("")}]);W.run(Ie);W.controller("DonutChartDirectiveCtrl",Cb);W.controller("GeoChartCtrl",Db);W.controller("HeightAdjustableEditorialWidgetCtrl",G);W.controller("LineChartLegendsCtrl",Fb);W.controller("PaginationDirectiveCtrl",Gb);W.controller("SvgMapCtrl",Hb);W.directive("barChart",Pb);W.directive("bidi",Tb);
W.directive("bindHtmlCompile",Wb);W.directive("carousel",bc);W.directive("donutChartDirective",function(){return{controller:Cb,controllerAs:"ctrl",restrict:"E",scope:{columns:"=",chartData:"=data",options:"=",updateOnResize:"<?"},template:'<div class="donut-directive"></div>',link:function(a,b){return a.element=b}}});W.directive("geoChart",cc);W.directive("heightAdjustableEditorialWidget",dc);W.directive("helpDialog",ic);W.directive("lineChartDirective",pc);W.directive("lineChartLegends",jc);
W.directive("listItemActions",wc);W.directive("lowSearchVolumeFilter",Cc);W.directive("mapAdapter",Gc);W.directive("pagination",function(){return{controller:Gb,controllerAs:"ctrl",restrict:"E",scope:{maxItemsPerPage:"=",totalNumberOfItems:"=",paginationText:"=?",currentPage:"=",carouselBehavior:"<?"},templateUrl:"/framework/views/pagination-directive.html"}});W.directive("scrollTo",Jc);W.directive("sparkline",Mc);W.directive("svgMap",Nc);W.directive("track",Rc);W.directive("tvBroadcast",Uc);
W.directive("widget",ed);W.directive("widgetActions",jd);W.directive("widgetLoader",md);W.directive("widgetTitleEllipsis",Yc);W.factory("colorsFactory",rd);W.factory("geometryFactory",ud);W.factory("helpersFactory",zd);W.factory("lodash",Bd);W.factory("queueFactory",Gd);W.factory("widgetAPIFactory",Pd);W.factory("widgetFactory",Ld);W.factory("widgetFieldFactory",Ud);W.filter("path",Wd);W.filter("range",Zd);W.filter("titleize",be);W.filter("typography",de);W.service("bidiService",ee);
W.service("bubbleService",he);W.service("driveService",ie);W.service("editorialsService",je);W.service("globalsService",re);W.service("globalsYisService",we);W.service("keepWidgetStateService",ye);W.service("mocksService",Ae);W.service("oauthService",Be);W.service("tpYisService",De);W.service("trackingService",Ee);W.service("utilsService",Fe);W.service("widgetService",Ge);angular.module("publishAppWidgetsFeLineChartV1Views",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/widgets_library/fe_line_chart_v1/views/annotation_markup.html",'<div class="fe-line-chart-annotation">\n  <div class="fe-line-chart-annotation-title">\n    <img src="{{annotationIcon}}"/>\n    <span> {{annotationTitle}} </span></div>\n  <div>{{annotationSubtitle}}</div>\n</div>\n'),
a.put("/widgets_library/fe_line_chart_v1/views/charts.html",'<div class="line-chart-body-wrapper">\n    <bar-chart ng-if="ctrl.showBarChart"\n            class="fe-bar-chart-directive"\n            ng-class="{\'no-legend\': !ctrl.widget.fields.showLegend.value}"\n            options="ctrl.barChartOptions"\n            watch-options="::isEditor"\n            data="ctrl.barChartData">\n    </bar-chart>\n    <line-chart-directive class="fe-line-chart-directive"\n                        tooltip-row="true"\n                        ng-class="{\'no-legend\':\n                            !ctrl.widget.fields.showLegend.value,\n                            \'bar-chart\': ctrl.showBarChart}"\n                        watch-options="::isEditor"\n                        data="ctrl.chartData"\n                        options="ctrl.chartOptions">\n    </line-chart-directive>\n</div>\n'),
a.put("/widgets_library/fe_line_chart_v1/views/content.html",'<div class="fe-atoms-generic-content-container fe-line-chart-content-container"\n     ng-class="{\'has-error\' : ctrl.errorClass}">\n  <line-chart-legends\n      ng-if="ctrl.widget.fields.showLegend.value && !ctrl.errorClass && ctrl.chartOptions.colors"\n      colors="ctrl.chartOptions.colors"\n      items="fields.bullets.items"\n      top-indexes="ctrl.topIndexes">\n  </line-chart-legends>\n  <ng-include src="\'/widgets_library/fe_line_chart_v1/views/error_message.html\'"\n              ng-if="ctrl.errorClass"></ng-include>\n  <ng-include src="\'/widgets_library/fe_line_chart_v1/views/charts.html\'"\n              ng-if="!ctrl.errorClass"></ng-include>\n</div>\n'),
a.put("/widgets_library/fe_line_chart_v1/views/error_message.html",'<div class="widget-error">\n  <i class="material-icons-extended size-80-40 gray-alert">warning</i>\n  <p class="widget-error-title">\n    Hmm, your search doesn\'t have enough data to show here.\n  </p>\n  <p class="widget-error-desc">\n    Please make sure everything is spelled correctly, or try a more general term.\n  </p>\n</div>\n'),a.put("/widgets_library/fe_line_chart_v1/views/fe.html",'<div class="fe-atoms-generic-container fe-line-chart"\n     ng-init="fields = ctrl.widget.fields">\n  <div class="fe-atoms-generic-header-container fe-line-chart-header-container fe-atoms-generic-separator"\n       dir="{{getHeaderDirection()}}">\n    <div class="fe-line-chart-header-title">{{fields.topic.value | typography}}\n      <help-dialog ng-show="$root.globals.isDesktopMode && helpDialog"\n                   data="helpDialog"></help-dialog>\n    </div>\n    <widget-actions></widget-actions>\n  </div>\n  <ng-include class="fe-line-chart-content"\n              ng-class="{\'no-legend\': !ctrl.widget.fields.showLegend.value}"\n              src="\'/widgets_library/fe_line_chart_v1/views/content.html\'">\n  </ng-include>\n</div>\n'),
a.put("/widgets_library/fe_line_chart_v1/views/fe_embed.html",'<div class="fe-line-chart embed-container"\n     ng-init="fields = ctrl.widget.fields">\n  <ng-include src="\'/framework/views/embed-header.html\'"></ng-include>\n\n  <ng-include class="fe-line-chart-content embed-content"\n              src="\'/widgets_library/fe_line_chart_v1/views/content.html\'">\n  </ng-include>\n\n  <ng-include src="\'/framework/views/embed-footer.html\'"></ng-include>\n</div>\n'),a.put("/widgets_library/fe_line_chart_v1/views/fe_explore_example.html",
'<div class="fe-explore-example-legend">\n  <div class="fe-explore-example-legend-item-wrapper"\n       ng-repeat="title in storyTitleArray">\n    <div class="fe-explore-example-legend-circle circle"\n         ng-style="{\'background-color\': ctrl.barChartOptions.colors[$index]}">\n    </div>\n    <div class="fe-explore-example-legend-text">\n      {{ title }}\n    </div>\n  </div>\n</div>\n<ng-include src="\'/widgets_library/fe_line_chart_v1/views/fe_featured.html\'">\n</ng-include>\n'),a.put("/widgets_library/fe_line_chart_v1/views/fe_featured.html",
'<div class="fe-featured-atoms-generic-container"\n     ng-init="fields = ctrl.widget.fields">\n  <line-chart-directive class="fe-featured-generic-container-content"\n              watch-options="::isEditor"\n              data="ctrl.chartData"\n              options="ctrl.chartOptions">\n  </line-chart-directive>\n  <div class="fe-featured-atoms-generic-container-title">{{fields.topic.value | typography}}</div>\n</div>\n'),a.put("/widgets_library/fe_line_chart_v1/views/fe_featured_homepage.html",
'<div class="fe-featured-homepage-container"\n     ng-if="ctrl.widget.fields.showLegend.value && !ctrl.errorClass && ctrl.chartOptions.colors"\n     height-adjustable-editorial-widget\n     graph-options="ctrl.chartOptions"\n     is-main-editorial-item="isMainEditorialItem">\n  <line-chart-legends class="fe-line-chart-featured-legends"\n                      colors="ctrl.chartOptions.colors"\n                      items="ctrl.widget.fields.bullets.items"\n                      top-indexes="ctrl.topIndexes"\n                      max-lines="ctrl.widget.fields.bullets.items.length > 5 ? 3 : 2">\n  </line-chart-legends>\n  <line-chart-directive class="fe-featured-generic-container-content"\n                        watch-options="true"\n                        data="ctrl.chartData"\n                        options="ctrl.chartOptions">\n  </line-chart-directive>\n  <div class="fe-featured-homepage-container-title">\n    {{ctrl.widget.fields.topic.value | typography}}\n  </div>\n</div>\n'),
a.put("/widgets_library/fe_line_chart_v1/views/now_card.html",'<div class="fe-line-chart now-card-fe-line"\n     ng-init="fields = ctrl.widget.fields">\n  <ng-include class="fe-line-chart-content"\n              ng-class="{\'no-legend\': !ctrl.widget.fields.showLegend.value}"\n              src="\'/widgets_library/fe_line_chart_v1/views/content.html\'">\n  </ng-include>\n</div>\n'),a.put("/widgets_library/fe_line_chart_v1/views/tv_broadcast.html",'<tv-broadcast main-title="{{ctrl.widget.fields.topic.value}}" sub-title="{{ctrl.widget.fields.subTopic.value}}">\n  <div class="tv-line-chart-bg">\n    <line-chart-directive class="fe-line-chart-directive"\n                watch-options="::isEditor"\n                data="ctrl.chartData"\n                options="ctrl.chartOptions"\n                tooltip-row="ctrl.tooltipXAxisIndexValue"\n                on-select="ctrl.selectHandlerBind(row)">\n    </line-chart-directive>\n  </div>\n</tv-broadcast>\n'),
a.put("/widgets_library/fe_line_chart_v1/views/tv_broadcast_tooltip.html",'<div class="tv-line-chart-tooltip-wrapper">\n  <div class="tv-line-chart-tooltip-container position-{{tooltipPosition}}">\n    <div class="tv-line-chart-tooltip">\n      {{tooltipAnnotation}}\n    </div>\n  </div>\n</div>\n'))}]);var Je=function(a,b,c,d,e,g,h,k,l,p,q,u){var x=this;this.window_=b;this.utilsService_=e;this.defaultLineChartDataService_=p;b=a.palette||p.DEFAULT_PALETTE;this.colors_=new h.Colors(b);this.template_=a.template;this.scope_=a;this.globalsService_=g;this.bidiService_=l;this.templateCache_=c;this.interpolate_=d;this.timeout_=u;this.tooltipXAxisIndexValue=null;this.defaultWidgetData_=p.fillDefaultData(this.scope_.template,b,15);this.widget=new k(this.defaultWidgetData_,a.isEditor);this.lineChartWidgetApisService_=
q;this.csvField=this.widget.fields.csv;this.terms=[];this.topIndexes=[];this.setBulletsTextAndColor_=!0;this.bulletsColors_=[];this.MAXIMUM_BULLET_ITEMS=7;this.onCSVChangeBind_=this.utilsService_.debounce(function(){return x.onCSVChange_()},50);this.numberOfLines=2;this.chartOptions=this.utilsService_.cloneDeep(p.DEFAULT_CHART_OPTIONS);this.barChartOptions=this.utilsService_.cloneDeep(p.DEFAULT_BAR_CHART_OPTIONS);this.barChartOptions.colors=this.colors_.getHexValues();this.chartData=[];this.showBarChart=
!1;this.selectHandlerBind=function(){return x.selectHandler_()};this.init()};f=Je.prototype;f.init=function(){this.fillChartOptions_();var a=!!Object.keys(this.widget.fields).length;this.initWatchers(a);a&&this.initApi()};
f.initWatchers=function(a){var b=this;this.scope_.$watchGroup(["ctrl.widget.fields.csv.items","isScrolledInto"],this.onCSVChangeBind_);this.scope_.isEditor&&this.scope_.$watch("ctrl.widget.fields.bullets.items",this.onCSVChangeBind_,!0);"tv_broadcast"===this.scope_.template&&a&&(this.scope_.$watchGroup(["ctrl.widget.fields.tooltipAnnotation.value","ctrl.widget.fields.tooltipPosition.value","ctrl.widget.fields.XAxisLines.value"],this.onCSVChangeBind_),this.widget.fields.bullets.config.visible=!1,this.widget.fields.tooltipXValue.config.visible=
!1,this.widget.fields.tooltipXValue.value=this.widget.fields.csv.items[3].value.formattedXAxis,this.scope_.$watch("ctrl.widget.fields.tooltipXValue.value",function(){return b.onTooltipXChange_()}))};
f.initApi=function(){var a=this,b=this.middleware_.bind(this),c=function(e){e&&(self.chartData=[]);a.widget.fields.bullets.config.translation.translate=!0},d=this.utilsService_.cloneDeep(this.lineChartWidgetApisService_.MULTI_RANGE_API);this.widget.registerAPI("fe_line_multi_range","/trends/api/widgetdata/multirange/"+this.globalsService_.testStoryID,d.params,d.settings).middleware(b).toggle(c).setShowInEditor(!1);d=this.utilsService_.cloneDeep(this.lineChartWidgetApisService_.FE_LINE_API);this.widget.registerAPI("fe_line",
"/trends/api/widgetdata/multiline/"+this.globalsService_.testStoryID,d.params,d.settings).middleware(b).toggle(c).setShowInEditor(!1);d=this.utilsService_.cloneDeep(this.lineChartWidgetApisService_.TOP_FE_LINE_API);this.widget.registerAPI("fe_line_top_multi_line","/trends/api/widgetdata/topmultiline/"+this.globalsService_.testStoryID,d.params,d.settings).setCtrl(this).middleware(b).toggle(c).initialDispatch(this.widget.isEditor)};
f.parseMultiRangeLineData_=function(a){var b={x:a.columnData[0].time,formattedX:this.bidiService_.wrapTextUnicodeByPageDirection(a.columnData[0].formattedTime),formattedXAxis:null};a.columnData.forEach(function(c,d){d+=1;b["y"+d]=c.value;b["formattedY"+d]=c.formattedValue;b["formattedTime"+d]=c.formattedTime});return b};
f.parseLineData_=function(a){var b=this.bidiService_.wrapTextUnicodeByPageDirection(a.formattedTime),c=this.bidiService_.wrapTextUnicodeByPageDirection(a.formattedAxisTime),d={x:a.time,formattedX:b,formattedXAxis:c,note:a.axisNote};a.value.forEach(function(e,g){var h=g+1;d["y"+h]=e;d["formattedY"+h]=a.formattedValue[g];d["certaintyY"+h]=!a.isPartial});return d};f.getTopIndexes_=function(a){var b=[];if(!a.length)return[0];a.forEach(function(c,d){return b.push(d)});return b};
f.middleware_=function(a){var b=a["default"].multilineResponse?a["default"].multilineResponse:a["default"],c=b.timelineData;b=b.averages;this.topIndexes=a["default"].topIndex?a["default"].topIndex:this.getTopIndexes_(b);this.setBulletsTextAndColor_=!0;return this.getTimeLineMapData_(c,b)};
f.getTimeLineMapData_=function(a,b){this.errorClass=a&&1>=a.length;this.barChartData=this.widget.fields.showAverages.value?this.setBarChartDataTable_(b):[];b=a[0]&&a[0].columnData?this.parseMultiRangeLineData_.bind(this):this.parseLineData_.bind(this);a=a.map(b);this.widget.fields.tooltipXValue&&this.tooltipXAxisIndexValue&&(a.length<=this.tooltipXAxisIndexValue?this.tooltipXAxisIndexValue=null:this.widget.fields.tooltipXValue.value=a[this.tooltipXAxisIndexValue].formattedXAxis);return{csv:a,showAverages:this.widget.fields.showAverages.value}};
f.loadTvBrodcastToolTipTemplate_=function(a,b){b.tooltipPosition=this.widget.fields.tooltipPosition.value;b.tooltipAnnotation=this.widget.fields.tooltipAnnotation.value;a.push(["x","y",{type:"string",role:"style"},{type:"string",role:"tooltip",p:{html:!0}}]);return this.interpolate_(this.templateCache_.get("/widgets_library/fe_line_chart_v1/views/tv_broadcast_tooltip.html"))};
f.loadAnnotationsTemplate_=function(a){a.push(["x",{role:"annotation",type:"string"},{role:"annotationText",type:"string",p:{html:!0}},{type:"string",role:"tooltip",p:{html:!0}}]);return this.interpolate_(this.templateCache_.get("/widgets_library/fe_line_chart_v1/views/annotation_markup.html"))};
f.fillLineWithEmptyData_=function(a){for(var b=1;b<=this.numberOfLines;b++)a.push("y"+b),a.push({type:"string",role:"annotation"}),a.push({type:"string",role:"annotationText",p:{html:!0}}),a.push({type:"boolean",role:"certainty"})};
f.getLineData_=function(a){var b=this,c=[],d=this.widget.fields.bullets.items,e,g,h=null,k=null;this.topIndexes.length||(this.topIndexes=this.getTopIndexes_(d));"tv_broadcast"===this.template_?h=this.loadTvBrodcastToolTipTemplate_(c,this.scope_):k=this.loadAnnotationsTemplate_(c);a.forEach(function(l,p){if("tv_broadcast"===b.template_){var q=[l.formattedXAxis,parseFloat(l.y1),"point { size: 0; }",""];l.formattedXAxis===b.widget.fields.tooltipXValue.value&&(q[2]=null,q[3]=h(b.scope_))}else for(q=[l.formattedXAxis,
l.note?"Note":null,l.note?b.getNoteTipTemplate_(l.note.text):null,b.getTipTemplate_(p)],e=1,g=[];(l["y"+e]||0===l["y"+e])&&e<=b.MAXIMUM_BULLET_ITEMS;)q.push(parseFloat(l["y"+e])),q.push(l["annotation"+e]||null),q.push(b.getAnnotationTemplate_(p,e,k)),q.push(l["certaintyY"+e]),d[b.topIndexes[e-1]]&&g.push(b.colors_.getHexValues(d[b.topIndexes[e-1]].value.color)),e++;c.push(q)});this.numberOfLines=e-1;this.fillLineWithEmptyData_(c[0]);"tv_broadcast"!==this.template_||h||(this.tooltipXAxisIndexValue=
null);a={lineWidth:this.calcLineWidth_(),colors:g};this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,a);return c};
f.setBulletTextAndColor_=function(){var a=this,b=this.terms.length-1,c=this.scope_.widget.fields.bullets.items;c.forEach(function(d,e){angular.isUndefined(d.value.text)&&(d.value.text=a.terms[e]);angular.isUndefined(d.value.color)&&(d.value.color="PALETTE_COLOR_"+(e+1));a.bulletsColors_[e]=a.colors_.getHexValues(d.value.color)});angular.isUndefined(c[b])||angular.isUndefined(c[b].value.text)||(this.shouldSetBulletTextAndColor_=!1)};
f.onCSVChange_=function(){this.setBulletsTextAndColor_&&this.setBulletTextAndColor_();if(!this.widget.isQuerying&&this.scope_.isScrolledInto&&this.widget.fields.XAxisLines){this.widget.fields.XAxisLines&&(this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,{hAxis:{maxTextLines:this.widget.fields.XAxisLines.value}}));var a=this.widget.fields.csv.getValues();this.chartData=this.getLineData_(a);this.scope_.$applyAsync()}};
f.calcLineWidth_=function(){return["fe_featured","fe_explore_example","fe_featured_homepage"].includes(this.scope_.template)?3:2<this.numberOfLines?3:4};f.selectHandler_=function(a){if(a){var b=this.widget.fields.csv.getValues();this.widget.fields.tooltipXValue.value=b[a].formattedXAxis;this.scope_.$apply()}};
f.onTooltipXChange_=function(){var a=this;this.tooltipXAxisIndexValue=null;var b=this.widget.fields.tooltipXValue.value;this.widget.fields.csv.getValues().forEach(function(c,d){c.formattedXAxis===b&&(a.tooltipXAxisIndexValue=d)});this.onCSVChangeBind_()};f.hasBulletTextAtIndex_=function(a,b){return a[b]&&a[b].value?!!a[b].value.text:!1};
f.getTipTemplate_=function(a){var b=this.widget.fields,c=b.bullets.items;a=b.csv.items[a].value;b='<div class="fe-line-chart-tooltip">';a.formattedXAxis&&(b+='<div class="fe-line-chart-tooltip-title">'+D(a.formattedX)+"</div>");for(var d=1,e,g=!1;!isNaN(parseFloat(a["y"+d]))&&8>d;)-1!==a["y"+d]&&(!1===a["certaintyY"+d]&&(g=!0),e=a.formattedXAxis?"":D(a["formattedTime"+d]),d<=c.length&&this.hasBulletTextAtIndex_(c,this.topIndexes[d-1])&&(e+=e?", ":"",e+=D(c[this.topIndexes[d-1]].value.text)),e='\n          <div class="fe-line-chart-tooltip-item-wrapper">\n            <span class="fe-line-chart-tooltip-label fe-atoms-generic-elipssis">\n              '+
e+'\n            </span>\n            <span class="fe-line-chart-tooltip-value"\n                  style="color:'+this.bulletsColors_[this.topIndexes[d-1]]+'">\n              '+D(a["formattedY"+d])+"\n            </span>\n          </div>",b+=e),d++;g&&(b+='<div class="partial-data">Values for this point have partial (incomplete) data available</div>');return b+"</div>"};f.getNoteTipTemplate_=function(a){return'<div class="fe-line-chart-tooltip note-tooltip" ng-non-bindable>'+D(a)+"</div>"};
f.getAnnotationTemplate_=function(a,b,c){a=this.widget.fields.csv.items[a].value;this.scope_.annotationIcon=a["annotationIcon"+b];this.scope_.annotationTitle=D(a["annotationTitle"+b]);this.scope_.annotationSubtitle=D(a["annotationSubtitle{seriesLineIndex}"]);return c(this.scope_)};f.shouldShowAvgsBars_=function(){return this.widget.fields.showAverages.value&&530<=this.window_.innerWidth};
f.getOptionsForDesktop_=function(){var a=this.shouldShowAvgsBars_();return{hAxis:{minTextSpacing:250,textStyle:{fontSize:12}},vAxis:{textPosition:"out"},height:220,chartArea:{left:a?32:30,right:a?8:6,width:"100%",height:this.widget.fields.showLegend.value?180:186},lineWidth:this.calcLineWidth_()}};f.getOptionsForNonDesktop_=function(){return{hAxis:{minTextSpacing:60,textStyle:{fontSize:10}},height:180,chartArea:{left:30,width:"100%",height:150},lineWidth:this.calcLineWidth_()}};
f.getOptionsForBarChartDesktop_=function(){return{width:112,height:220,chartArea:{left:0,bottom:20,width:112,height:this.widget.fields.showLegend.value?180:186},vAxis:{textStyle:{fontSize:12}},hAxis:{textStyle:{fontSize:12}}}};f.getOptionsForBarChartNonDesktop_=function(){return{width:60,height:180,chartArea:{left:0,bottom:20,width:"100%",height:150},vAxis:{textStyle:{fontSize:10}},hAxis:{textStyle:{fontSize:10}}}};
f.updateOptions_=function(){if(Object.keys(this.widget.fields).length){this.showBarChart=this.shouldShowAvgsBars_();var a=this.globalsService_.isDesktopMode?this.getOptionsForDesktop_():this.getOptionsForNonDesktop_();this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,a);this.showBarChart&&(this.barChartOptions=this.globalsService_.immutableMerge(this.barChartOptions,this.globalsService_.isDesktopMode?this.getOptionsForBarChartDesktop_():this.getOptionsForBarChartNonDesktop_()))}};
f.setBarChartDataTable_=function(a){var b=this;if(this.widget.fields.bullets){var c={type:"string",role:"tooltip",p:{html:!0}},d=[],e=[];d.push("x1");e.push("Average");var g=this.widget.fields.bullets.getValues();if(g.length){var h=[];a.forEach(function(k,l){h.push({name:g[b.topIndexes[l]].text,value:a[b.topIndexes[l]]})});h.forEach(function(k,l){d.push(k.name);d.push(c);e.push(k.value);e.push(b.createBarChartToolTip_(k,l))});return[d,e]}}};
f.createBarChartToolTip_=function(a,b){return'\n        <div class="fe-bar-chart-tooltip">\n          <div class="fe-bar-chart-tooltip-title">\n            Average\n          </div>\n          <div class="fe-bar-chart-tooltip-item-wrapper">\n            <span class="fe-bar-chart-tooltip-label">'+a.name+'</span>\n            <span class="fe-bar-chart-tooltip-value"\n                  style="color:'+this.colors_.getHexValues()[b]+'">\n              '+a.value+"\n            </span>\n          </div>\n        </div>"};
f.fillFeOrFeEmbedChartOptions_=function(){var a=this;this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,this.defaultLineChartDataService_.FE_OR_EMBED_OPTIONS);var b=angular.element(this.window_),c=function(){return a.updateOptions_(a.scope_)},d=this.utilsService_.throttle(c,50,{trailing:!0});this.scope_.$watchGroup(["ctrl.widget.fields.showAverages.value","ctrl.widget.fields.showLegend.value"],c,!0);c();b.bind("resize",d);this.scope_.$on("$destroy",function(){b.unbind("resize",
d)})};
f.fillChartOptions_=function(){switch(this.scope_.template){case "fe":case "fe_embed":this.fillFeOrFeEmbedChartOptions_();break;case "fe_featured":case "fe_explore_example":this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,this.defaultLineChartDataService_.FEATURED_OR_EXAMPLE_OPTIONS);break;case "fe_featured_homepage":this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,this.defaultLineChartDataService_.FEATURED_HOMEPAGE_OPTIONS);break;case "now_card":this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,
this.defaultLineChartDataService_.NOW_CARD_OPTIONS);break;case "tv_broadcast":this.chartOptions=this.globalsService_.immutableMerge(this.chartOptions,this.defaultLineChartDataService_.TV_BROADCAST_OPTIONS)}};
m.Object.defineProperties(Je,{TYPE:{configurable:!0,enumerable:!0,get:function(){return"fe_line_chart"}},DISPLAY_TYPE:{configurable:!0,enumerable:!0,get:function(){return"Multi Line"}},VERSION:{configurable:!0,enumerable:!0,get:function(){return 1}},TEMPLATES:{configurable:!0,enumerable:!0,get:function(){return"fe fe_featured fe_featured_homepage fe_embed now_card tv_broadcast".split(" ")}},FULL_WIDTH_BY_TEMPLATE:{configurable:!0,enumerable:!0,get:function(){return{"*":!0,now_card:!1}}},HIDE_IN_EDITOR:{configurable:!0,
enumerable:!0,get:function(){return!1}},GROUP_TYPE:{configurable:!0,enumerable:!0,get:function(){return{FE:["fe","fe_featured","fe_featured_homepage","fe_embed"],NOW_CARD:["now_card"],TV:["tv_broadcast"]}}}});Je.$inject="$scope $window $templateCache $interpolate utilsService globalsService colorsFactory widgetFactory bidiService defaultLineChartDataService lineChartWidgetApisService $timeout".split(" ");var Ke=function(a,b){this.lodash_=b;this.DEFAULT_PALETTE=a.Colors.DEFAULT_PALETTE_12;this.colorsFactory_=a;this.defaultWidgetData=[{name:"topic",type:"string",placeholder:"Title",value:"Interest over time hour after attack",translation:{translate:!0,description:"Title of the widget. http://goo.gl/aH9hb6"}},{name:"subTopic",type:"string",placeholder:"Sub Title",value:"Binders of woman spiked by 300%",templates:["tv_broadcast"]},{name:"tooltipPosition",type:"string",placeholder:"Tooltip Position",options:["top",
"right","bottom","left"],value:"bottom",templates:["tv_broadcast"]},{name:"tooltipAnnotation",type:"string",placeholder:"Tooltip Annotation",value:"97%",templates:["tv_broadcast"]},{name:"tooltipXValue",type:"string",placeholder:"Tooltip X Value",value:"",templates:["tv_broadcast"]},{name:"XAxisLines",type:"number",value:2,options:[{value:1,name:"One line X axis"},{value:2,name:"Two lines X axis"}],templates:["tv_broadcast"]},{name:"bullets",type:"list",subtype:"map",keys:["index","text","color"],
keysConfig:{index:{gridSpan:2,label:!0},text:{placeholder:"Legend text",gridSpan:10},color:{gridSpan:12}},values:[{index:1,text:"Charlie Hebdo",color:"PALETTE_COLOR_1"},{index:2,text:"Paris",color:"PALETTE_COLOR_2"}],translation:{translate:!0,keys:[{name:"text",description:"The text of the tooltip and legend. http://goo.gl/aH9hb6"}]}},{name:"csv",type:"list",subtype:"map",visible:!1,keys:"x formattedXAxis formattedX y1 formattedY1 annotation1 annotationIcon1 annotationTitle1 annotationSubtitle1 y2 formattedY2 annotation2 annotationIcon2 annotationTitle2 annotationSubtitle2 annotationSubtitle2 y3 formattedY3 annotation3 annotationIcon3 annotationTitle3 annotationSubtitle3 y4 formattedY4 annotation4 annotationIcon4 annotationTitle4 annotationSubtitle4 y5 formattedY5 annotation5 annotationIcon5 annotationTitle5 annotationSubtitle5 y6 formattedY6 annotation6 annotationIcon6 annotationTitle6 annotationSubtitle6 y7 formattedY7 annotation7 annotationIcon7 annotationTitle7 annotationSubtitle7 certaintyY1 certaintyY2 certaintyY3 certaintyY4 certaintyY5 certaintyY6 certaintyY7".split(" "),
values:[]},{name:"showLegend",type:"boolean",value:!0,visible:!1},{name:"showAverages",type:"boolean",value:!1,visible:!1}];this.DEFAULT_CHART_OPTIONS={backgroundColor:{fill:"transparent"},pointsVisible:!1,legend:"none",vAxis:{viewWindow:{max:100,min:.01},baseline:.01},hAxis:{gridlines:{color:"transparent"},baselineColor:"white"}};this.DEFAULT_BAR_CHART_OPTIONS={legend:"none",vAxis:{textStyle:{color:"#BDBDBD",fontName:"Roboto, Arial, sans-serif"},gridlines:{color:"white"},baselineColor:"#9E9E9E",
viewWindow:{max:100,min:.01},baseline:.01},hAxis:{textStyle:{color:"#9E9E9E",fontName:"Roboto, Arial, sans-serif"},gridlines:{color:"#E0E0E0"},baselineColor:"#9E9E9E"},tooltip:{isHtml:!0}};this.FE_OR_EMBED_OPTIONS={tooltip:{isHtml:!0,showTitle:!1},vAxis:{gridlines:{color:"#E0E0E0"},baselineColor:"#9E9E9E",textStyle:{fontSize:12,color:"#BDBDBD",fontName:"Roboto, Arial, sans-serif"}},hAxis:{maxAlternation:1,maxTextLines:1,slantedText:!1,textStyle:{color:"#9E9E9E",fontName:"Roboto, Arial, sans-serif"}},
crosshair:{color:"#E0E0E0",orientation:"vertical",trigger:"focus",opacity:.3},focusTarget:"category"};this.FEATURED_OR_EXAMPLE_OPTIONS={enableInteractivity:!1,vAxis:{baselineColor:"transparent",gridlines:{color:"transparent"}},height:168,chartArea:{width:"100%",height:168}};this.FEATURED_HOMEPAGE_OPTIONS={enableInteractivity:!1,vAxis:{baselineColor:"transparent",gridlines:{color:"transparent"},textPosition:"none"},hAxis:{textPosition:"none"},chartArea:{width:"100%"}};this.NOW_CARD_OPTIONS={crosshair:{color:"#E0E0E0",
opacity:.3,orientation:"vertical",trigger:"focus"},focusTarget:"category",hAxis:{minTextSpacing:80,textStyle:{color:"#BDBDBD",fontName:"Roboto, Arial, sans-serif",fontSize:10},maxAlternation:1,maxTextLines:1,slantedText:!1},vAxis:{baselineColor:"#9E9E9E",gridlines:{color:"#E0E0E0",count:3},textPosition:"none"},height:103,width:312,enableInteractivity:!1,annotations:{stemColor:"none",textStyle:{opacity:0}},chartArea:{left:0,right:0,width:"100%"}};this.TV_BROADCAST_OPTIONS={tooltip:{isHtml:!0,showTitle:!1,
trigger:"selection"},enableInteractivity:!0,pointsVisible:!0,pointSize:30,series:{0:{type:"linear",color:"#4285F4",lineWidth:10}},height:760,width:1600,chartArea:{left:90,top:80,width:1353,height:462},vAxis:{gridlines:{color:"transparent"},baselineColor:"transparent",textStyle:{fontSize:35,color:"transparent",fontName:"FuturaBold",bold:!0},viewWindow:{max:101,min:-1}},hAxis:{maxAlternation:1,slantedText:!1,textStyle:{fontSize:24,color:"#434343",fontName:"FuturaBold",bold:!0}}}};
Ke.prototype.fillDefaultData=function(a,b,c){var d=this.lodash_.findIndex(this.defaultWidgetData,{name:"bullets"});this.defaultWidgetData[d].maxLimit=c;this.defaultWidgetData[d].colorPalette=new this.colorsFactory_.Colors(b);this.defaultWidgetData[d].keysConfig.color.options=this.lodash_.map(b,function(e){return{name:e.caption,value:e.name}});"tv_broadcast"===a&&(a=this.lodash_.findIndex(this.defaultWidgetData,{name:"csv"}),this.defaultWidgetData[a].values=Le);return this.defaultWidgetData};
Ke.$inject=["colorsFactory","lodash"];
var Le=[{x:"7:00",formattedXAxis:"7:00 AM",formattedX:"7:00 AM",y1:"0",formattedY1:"0"},{x:"8:00",formattedXAxis:"8:00 AM",formattedX:"8:00 AM",y1:"5",formattedY1:"5"},{x:"9:00",formattedXAxis:"9:00 AM",formattedX:"9:00 AM",y1:"20",formattedY1:"20"},{x:"10:00",formattedXAxis:"10:00 AM",formattedX:"10:00 AM",y1:"100",formattedY1:"100"},{x:"11:00",formattedXAxis:"11:00 AM",formattedX:"11:00 AM",y1:"40",formattedY1:"40"},{x:"12:00",formattedXAxis:"12:00 AM",formattedX:"12:00 AM",y1:"32",formattedY1:"32"},
{x:"13:00",formattedXAxis:"1:00 PM",formattedX:"1:00 PM",y1:"30",formattedY1:"30"},{x:"14:00",formattedXAxis:"2:00 PM",formattedX:"2:00 PM",y1:"30",formattedY1:"30"},{x:"15:00",formattedXAxis:"3:00 PM",formattedX:"3:00 PM",y1:"40",formattedY1:"40"}];var Me=function(a){this.MULTI_RANGE_API={params:{req:{requestOptions:{backend:"IZG"},comparisonItem:[{phrase:"OBAMA",time:"2013-05-18 2015-05-18"},{phrase:"CLINTON",time:"2011-05-18 2013-05-18"}],resolution:"WEEK",locale:"en-US"},tz:"300"},settings:[{path:"req.resolution",title:"Resolution",type:"select",invalidMessage:"Resolution is required.",options:"MINUTE EIGHT_MINUTE SIXTEEN_MINUTE HOUR FOUR_HOUR DAY WEEK MONTH YEAR".split(" ")},{path:"req.requestOptions.backend",title:"Backend",type:"select",
invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.comparisonItem.0.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.comparisonItem.0.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.comparisonItem",title:"Phrase",type:"list",invalidMessage:"Phrase is required.",getValue:function(b){for(var c=
[],d=0;d<b.length;d++)c.push(b[d].phrase);return c},setValue:function(b,c){for(var d=[],e=0;e<b.length;e++)d.push({geo:c.req.comparisonItem[0].geo,phrase:b[e],time:c.req.comparisonItem[0].time});return d}},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."},{path:"tz",title:"Timezone",type:"select",options:a.TIME_ZONES,invalidMessage:"Timezone is required."}]};this.FE_LINE_API={params:{req:{requestOptions:{backend:"CM"},geo:{country:"US"},time:"2015-06-14T17\\:00\\:00 2015-06-18T11\\:25\\:00",
resolution:"FOUR_HOUR",term:["Benedict Cumberbatch"],locale:"en-US"},tz:"300"},settings:[{path:"req.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.resolution",title:"Resolution",type:"select",invalidMessage:"Resolution is required.",options:"MINUTE EIGHT_MINUTE SIXTEEN_MINUTE HOUR FOUR_HOUR DAY WEEK MONTH YEAR".split(" ")},
{path:"req.requestOptions.backend",title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.term",title:"Terms",type:"list",invalidMessage:"Terms is required.",maxLimit:7},{path:"req.locale",title:"Locale",type:"text",invalidMessage:"Locale is required."},{path:"tz",title:"Timezone",type:"select",options:a.TIME_ZONES,invalidMessage:"Timezone is required."}]};this.TOP_FE_LINE_API={params:{req:{multilineRequest:{requestOptions:{backend:"CM"},geo:{country:"US"},
time:"2015-06-14T17\\:00\\:00 2015-06-18T11\\:25\\:00",resolution:"FOUR_HOUR",term:["London","Paris"],locale:"en-US"},topLimit:2},tz:"300"},settings:[{path:"req.multilineRequest.geo.country",title:"Country",type:"text",matchValidation:/^([A-Z]{2})?$/,optional:!0,invalidMessage:"Country must contain exactly 2 uppercase english letters or set empty for worldwide."},{path:"req.multilineRequest.time",title:"Time",type:"text",invalidMessage:"Time is required."},{path:"req.multilineRequest.resolution",
title:"Resolution",type:"select",invalidMessage:"Resolution is required.",options:"MINUTE EIGHT_MINUTE SIXTEEN_MINUTE HOUR FOUR_HOUR DAY WEEK MONTH YEAR".split(" ")},{path:"req.multilineRequest.requestOptions.backend",title:"Backend",type:"select",invalidMessage:"Backend is required.",options:["IZG","CM","FRESH"]},{path:"req.multilineRequest.term",title:"Terms",type:"list",invalidMessage:"Terms is required.",maxLimit:15,setValue:function(b,c,d){return d.api.ctrl.terms=b}},{path:"req.multilineRequest.locale",
title:"Locale",type:"text",invalidMessage:"Locale is required."},{path:"tz",title:"Timezone",type:"select",options:a.TIME_ZONES,invalidMessage:"Timezone is required."},{path:"req.topLimit",setValue:function(b,c,d){d=d.api.ctrl.MAXIMUM_BULLET_ITEMS;return c.req.multilineRequest.term.length>d?d:c.req.multilineRequest.term.length}}]}};Me.$inject=["helpersFactory"];var Ne=angular.module("publishAppFeLineChartV1",["publishAppFramework","publishAppWidgetsFeLineChartV1Views"]);Ne.controller("FeLineChartV1Ctrl",Je);Ne.service("defaultLineChartDataService",Ke);Ne.service("lineChartWidgetApisService",Me);var Oe=angular.module("embedModuleViews",[]).value("forceCachedTemplates",!1).value("forceUncachedTemplates",!1).factory("html2JsTemplatesCached",["forceCachedTemplates","forceUncachedTemplates",function(a,b){return function(){return!b&&!0}}]).run(["$templateCache","html2JsTemplatesCached",function(a,b){b()&&(a.put("/components/widgets/types/fe-expandable-list.html",'<widget\n    type="{{type}}"\n    version="{{version}}"\n    template="{{template}}"\n    on-event="onEvent({\'event\': event})"\n    id="anchorName"\n    embed="embed"\n    share="share"\n    is-expanded-list="isExpandedList"\n    is-prefetched="true"\n    generic-action="genericAction"\n    fields="[\n        {\'name\': \'topic\', \'value\': listTitle},\n        {\'name\': \'bullets\', \'values\': listItems},\n        {\'name\': \'listItemsV2\', \'values\': listItemsV2},\n    ]"\n    story-id="storyId"\n    yis-year="yisYear"\n    story-title="storyTitle"\n    story-title-array="storyTitleArray"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    story-number-of-items="storyNumberOfItems"\n    palette="widgetPalette"\n    forced-color="{{::forcedColor}}">\n</widget>\n'),
a.put("/components/widgets/types/fe-generic.html",'<widget\n    type="{{widgetType}}"\n    version="{{version}}"\n    template="{{template}}"\n    fields="widgetFields"\n    apis="widgetExternalApis"\n    on-event="onEvent({\'event\': event})"\n    story-id="storyId"\n    story-title="storyTitle"\n    story-title-array="storyTitleArray"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    story-number-of-items="storyNumberOfItems"\n    show-mode-picker="false"\n    widget-is-curated="data.isCurated"\n    embed="embed"\n    share="share"\n    generic-action="genericAction"\n    palette="widgetPalette"\n    forced-color="{{::forcedColor}}"\n    is-main-editorial-item="isMainEditorialItem">\n</widget>\n'),
a.put("/components/widgets/types/fe-geo-chart-explore.html","<widget\n    type=\"fe_geo_chart\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    export=\"export\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'region', 'value': geo},\n        {'name': 'resolution', 'value': resolution},\n        {'name': 'searchVolumeIndexLabel', 'value': searchInterestLabel},\n        {'name': 'color', 'value': color},\n        {'name': 'displayMode', 'value': displayMode}\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_geo_compared_map',\n          'url': config.pathPrefix + '/api/widgetdata/comparedgeo',\n          'params': {'req': request, 'token': token}\n        }\n    ]\"\n    story-title=\"storyTitle\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\"\n    time-range=\"timeRange\"\n    help-dialog=\"helpDialog\"\n    ve-tracking\n    jslog=\"39384; track:impression\">\n</widget>\n"),
a.put("/components/widgets/types/fe-geo-chart.html","<widget\n    type=\"{{type}}\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'region', 'value': geo},\n        {'name': 'resolution', 'value': resolution},\n        {'name': 'searchVolumeIndexLabel', 'value': searchInterestLabel},\n        {'name': 'displayMode', 'value': displayMode}\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_geomap',\n          'url': config.pathPrefix + '/api/widgetdata/geomap',\n          'params': {'req': request, 'token': token}\n        }\n    ]\"\n    story-id=\"storyId\"\n    story-title=\"storyTitle\"\n    story-title-array=\"storyTitleArray\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    story-number-of-items=\"storyNumberOfItems\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\">\n</widget>\n"),
a.put("/components/widgets/types/fe-geo-color-chart.html","<widget\n    type=\"{{type}}\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    export=\"export\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'region', 'value': geo},\n        {'name': 'resolution', 'value': resolution},\n        {'name': 'searchVolumeIndexLabel', 'value': searchInterestLabel},\n        {'name': 'displayMode', 'value': displayMode},\n        {'name': 'showLegend', 'value': showLegend},\n        {'name': 'bullets', 'value': bullets}\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_geo_color_map',\n          'url': config.pathPrefix + '/api/widgetdata/comparedgeo',\n          'params': {'req': request, 'token': token}\n        }\n    ]\"\n    story-title=\"storyTitle\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\"\n    help-dialog=\"helpDialog\">\n</widget>\n"),
a.put("/components/widgets/types/fe-int-over-time.html","<widget\n    type=\"{{type}}\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'barAnnotationText', 'value': barAnnotationText},\n        {'name': 'lineAnnotationText', 'value': lineAnnotationText},\n        {'name': 'sumAnnotationText', 'value': sumAnnotationText},\n        {'name': 'barData', 'value': barData}\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_intovertime',\n          'url': config.pathPrefix + '/api/widgetdata/timeline',\n          'params': {'req': request, 'tz': config.userTimezoneOffset, 'token': token}\n        }\n    ]\"\n    story-id=\"storyId\"\n    story-title=\"storyTitle\"\n    story-title-array=\"storyTitleArray\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    story-number-of-items=\"storyNumberOfItems\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\">\n</widget>\n"),
a.put("/components/widgets/types/fe-line-chart.html","<widget\n    type=\"fe_line_chart\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    export=\"export\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'lineAnnotationText', 'value': lineAnnotationText},\n        {'name': 'bullets', 'value': bullets},\n        {'name': 'showLegend', 'value': showLegend},\n        {'name': 'showAverages', 'value': showAverages},\n        {'name': 'color', 'value': color},\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_line',\n          'url': config.pathPrefix + '/api/widgetdata/multiline',\n          'params': {'req': request, 'tz': config.userTimezoneOffset, 'token': token}\n        }\n    ]\"\n    story-title=\"storyTitle\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\"\n    help-dialog=\"helpDialog\"\n    ve-tracking\n    jslog=\"39385; track:impression\">\n</widget>\n\n"),
a.put("/components/widgets/types/fe-list.html",'<widget\n    type="{{type}}"\n    version="{{version}}"\n    template="{{template}}"\n    on-event="onEvent({\'event\': event})"\n    embed="embed"\n    share="share"\n    fields="[\n        {\'name\': \'topic\', \'value\': list.title},\n        {\'name\': \'subTopic\', \'value\': list.subtitle},\n        {\'name\': \'bullets\', \'values\': list.item}\n    ]"\n    story-id="storyId"\n    story-title="storyTitle"\n    story-title-array="storyTitleArray"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    story-number-of-items="storyNumberOfItems"\n    palette="widgetPalette"\n    forced-color="{{::forcedColor}}">\n</widget>\n'),
a.put("/components/widgets/types/fe-multi-heat-map.html","<widget\n    class=\"multi-heat-map-widget\"\n    type=\"{{type}}\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    export=\"export\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'bullets', 'value': bullets},\n        {'name': 'geo', 'value': geo},\n        {'name': 'resolution', 'value': resolution},\n        {'name': 'searchInterestLabel', 'value': searchInterestLabel},\n        {'name': 'displayMode', 'value': displayMode},\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_multiheatmap',\n          'url': config.pathPrefix + '/api/widgetdata/comparedgeo',\n          'params': {'req': request, 'token': token},\n        },\n    ]\"\n    story-id=\"storyId\"\n    story-title=\"storyTitle\"\n    story-title-array=\"storyTitleArray\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    story-number-of-items=\"storyNumberOfItems\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\"\n    show-multi-heat-map-message=\"showMultiHeatMapMessage\">\n</widget>\n"),
a.put("/components/widgets/types/fe-multi-range-chart.html","<widget\n    type=\"fe_line_chart\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    embed=\"embed\"\n    share=\"share\"\n    export=\"export\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'lineAnnotationText', 'value': lineAnnotationText},\n        {'name': 'bullets', 'value': bullets},\n        {'name': 'showLegend', 'value': showLegend},\n        {'name': 'showAverages', 'value': showAverages},\n    ]\"\n    apis=\"[\n        {\n          'name': 'fe_line_multi_range',\n          'url': config.pathPrefix + '/api/widgetdata/multirange',\n          'params': {'req': request, 'tz': config.userTimezoneOffset, 'token': token}\n        }\n    ]\"\n    story-title=\"storyTitle\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    palette=\"widgetPalette\"\n    forced-color=\"{{::forcedColor}}\"\n    help-dialog=\"helpDialog\">\n</widget>\n\n"),
a.put("/components/widgets/types/fe-related-queries.html",'<widget\n    type="{{type}}"\n    version="{{version}}"\n    template="{{template}}"\n    on-event="onEvent({\'event\': event})"\n    embed="embed"\n    share="share"\n    export="export"\n    fields="[\n        {\'name\': \'topic\', \'value\': title},\n    ]"\n    apis="[\n        {\n          \'name\': \'fe_relatedqueries\',\n          \'url\': config.pathPrefix + \'/api/widgetdata/relatedqueries\' + \'?token=\' + token,\n          \'params\': request\n        }\n    ]"\n    story-id="storyId"\n    story-title="storyTitle"\n    story-title-array="storyTitleArray"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    story-number-of-items="storyNumberOfItems"\n    show-mode-picker="false"\n    palette="palette"\n    forced-color="{{::forcedColor}}">\n</widget>\n'),
a.put("/components/widgets/types/fe-related-searches.html",'<widget\n    type="fe_related_queries"\n    version="{{version}}"\n    template="{{template}}"\n    on-event="onEvent({\'event\': event})"\n    embed="embed"\n    share="share"\n    export="export"\n    explore-query="exploreQuery"\n    fields="[\n        {\'name\': \'topic\', \'value\': title},\n        {\'name\': \'color\', \'value\': color}\n    ]"\n    apis="[\n        {\n          \'name\': \'fe_relatedsearches\',\n          \'url\': config.pathPrefix + \'/api/widgetdata/relatedsearches\',\n          \'params\': {\'req\': request, \'token\': token}\n        }\n    ]"\n    story-title="storyTitle"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    show-mode-picker="true"\n    palette="palette"\n    forced-color="{{::forcedColor}}"\n    help-dialog="helpDialog"\n    widget-name="widgetName"\n    ve-tracking\n    jslog="{{widgetName === \'RELATED_TOPICS\' ? \'39387\' : \'39386\'}}; track:impression">\n</widget>\n'),
a.put("/components/widgets/types/fe-related-topics.html",'<widget\n    type="{{type}}"\n    version="{{version}}"\n    template="{{template}}"\n    on-event="onEvent({\'event\': event})"\n    fields="[\n        {\'name\': \'topic\', \'value\': title}\n    ]"\n    apis="[\n        {\n          \'name\': \'fe_relatedtopics\',\n          \'url\': config.pathPrefix + \'/api/widgetdata/relatedtopics\',\n          \'params\': {\'req\': request, \'token\': token}\n        }\n    ]"\n    story-id="storyId"\n    story-title="storyTitle"\n    story-title-array="storyTitleArray"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    story-number-of-items="storyNumberOfItems">\n</widget>\n'),
a.put("/components/widgets/types/fe-text.html",'<widget\n    id="id"\n    type="{{type}}"\n    version="{{version}}"\n    template="{{template}}"\n    on-event="onEvent({\'event\': event})"\n    fields="[\n        {\'name\': \'content\', \'value\': text.text},\n        {\'name\': \'url\', \'value\': url},\n    ]"\n    story-id="storyId"\n    story-title="storyTitle"\n    story-title-array="storyTitleArray"\n    story-country="storyCountry"\n    story-time-range="storyTimeRange"\n    story-number-of-items="storyNumberOfItems">\n</widget>\n'),
a.put("/components/widgets/types/fe-top-news.html","<widget\n    type=\"{{type}}\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'more_articles_link', 'value': newsClusterLinkUrl},\n        {'name': 'bullets', 'values': arrayMap(articles, {\n            'title': 'title',\n            'imageUrl': 'image',\n            'source': 'source',\n            'time': 'time',\n            'url': 'link'\n        })}\n    ]\"\n    story-id=\"storyId\"\n    story-title=\"storyTitle\"\n    story-title-array=\"storyTitleArray\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    story-number-of-items=\"storyNumberOfItems\">\n</widget>\n"),
a.put("/components/widgets/types/fe-trending-searches.html","<widget\n  type=\"fe_trending_searches\"\n  version=\"1\"\n  template=\"fe_embed\"\n  fields=\"[\n    {'name': 'bullets', 'values': listItems},\n    {'name': 'geo', 'value': countryName},\n  ]\">\n</widget>\n"),a.put("/components/widgets/types/fe-video.html","<widget\n    type=\"{{type}}\"\n    version=\"{{version}}\"\n    template=\"{{template}}\"\n    on-event=\"onEvent({'event': event})\"\n    fields=\"[\n        {'name': 'topic', 'value': title},\n        {'name': 'description', 'value': videoTitle},\n        {'name': 'videoUrl', 'value': embedUrl},\n        {'name': 'imageUrl', 'values': imageUrl},\n        {'name': 'owner', 'values': owner},\n        {'name': 'ownerUrl', 'values': ownerUrl},\n        {'name': 'localViews', 'values': localViews},\n        {'name': 'date', 'values': date},\n        {'name': 'globalViews', 'values': globalViews}\n    ]\"\n    story-id=\"storyId\"\n    story-title=\"storyTitle\"\n    story-title-array=\"storyTitleArray\"\n    story-country=\"storyCountry\"\n    story-time-range=\"storyTimeRange\"\n    story-number-of-items=\"storyNumberOfItems\">\n</widget>\n"))}]);var Pe=function(a,b){this.lodash_=a;this.timeout_=b};t("$jscomp.scope.ClipboardService",Pe,void 0);Pe.$inject=["lodash","$timeout"];Pe.prototype.copyWidgetData=function(a){a=a||[];this.copyToClipboard_(this.parseWidgetData_(a))};Pe.prototype.parseWidgetData_=function(a){var b=a[1].values,c=[];c.push(a[0].value);b.forEach(function(d,e){return c.push(e+1+") "+d)});return c};
Pe.prototype.copyToClipboard_=function(a){var b=a.join("\r\n"),c=document.createElement("div");c.textContent=b;c.style.opacity="0";document.body.appendChild(c);var d=document.createRange();d.selectNode(c);window.getSelection().removeAllRanges();window.getSelection().addRange(d);var e=function(g){document.removeEventListener("copy",e);void 0!==g.clipboardData&&(g.clipboardData.setData("text/plain",b),g.clipboardData.setData("text/html",a.join("<br>")),g.preventDefault())};document.addEventListener("copy",
e);document.execCommand("copy");c.remove();this.onCopyNotify_()};Pe.prototype.onCopyNotify_=function(){if(0===document.getElementsByClassName("copy-notification").length){var a=document.createElement("div");a.textContent=document.getElementsByClassName("translate-patch")[0].textContent;a.className="copy-notification";document.body.appendChild(a);this.timeout_(this.lodash_.bind(function(){a.remove()},a),2E3)}};var Qe=function(a,b,c,d,e,g,h){this.yisGeoPickerPerYear=a.yisGeoPickerPerYear;this.yisYearPickerPerGeo=a.yisYearPickerPerGeo;this.location_=h;this.injector_=c;this.enableWidgetShare=!!a.enableWidgetShare;this.pathPrefix=a.pathPrefix||"/trends";this.staticPathPrefix=a.staticPathPrefix||"/trends/static";this.staticResourceVersion=a.staticResourceVersion||"1";this.countiesStaticPathPrefix=a.countiesStaticPathPrefix||"/trends/static";this.jsResourcePathPrefix=a.jsResourcePathPrefix||"/trends/js";this.cssResourcePathPrefix=
a.cssResourcePathPrefix||"/trends/css";this.searchApiPath=a.searchApiPath||"/trends/api/autocomplete/";this.locale=a.locale||"en-US";this.userTimezoneOffset=(new Date).getTimezoneOffset();this.userEmail=a.userEmail;this.yisDefaultGeo=a.yisDefaultGeo||"GLOBAL";this.defaultGeoId=a.defaultGeo||"US";this.defaultCategoryId="all";this.dialogOpen=!1;this.docElement=angular.element(b[0].documentElement);this.availableYisYears=this.getAvailableYisYearsByGeoId_(this.getYisGeo());aa=e;var k=g.translate("MSG_GOOGLE_TRENDS");
d.$watch("pageTitle",function(l){return b[0].title=l?l+" - "+k:k})};t("$jscomp.scope.ConfigService",Qe,void 0);Qe.$inject="$window $document $injector $rootScope $log translationService $location".split(" ");f=Qe.prototype;f.updateAvailableYisYearsByGeo=function(a){this.availableYisYears=this.getAvailableYisYearsByGeoId_(a.id)};f.getAvailableYisYearsByGeoId_=function(a){return this.yisYearPickerPerGeo&&this.yisYearPickerPerGeo[a]};f.toggleDocClass=function(a,b){this.docElement.toggleClass(a,b)};
f.appendLocaleToURI=function(a){return this.appendQueryStringToURI(a,"hl",this.locale)};f.appendQueryStringToURI=function(a,b,c){var d=/\?([^#]*)(#.*)?$/;return d.test(a)?a.replace(d,"?$1&"+b+"="+c+"$2"):a+"?"+b+"="+c};f.requestInterceptor=function(a){-1<a.url.indexOf("/api/")&&(a.url=this.appendLocaleToURI(a.url),a.url=this.appendQueryStringToURI(a.url,"tz",this.userTimezoneOffset));return a};
f.embedRequestInterceptor=function(a,b){-1<b.url.indexOf("/api/")&&(a=this.injector_.get("helpersFactory").parseQueryStrings(a.location.search).ts)&&(b.url+="?ts="+a);return b};f.getCurrentGeoIdFromUrlParams=function(){return this.location_.search().geo};f.getYisParams_=function(a){a=void 0===a?this.location_.path():a;return(a=a.match(/\/yis\/(\d{4})\/?(GLOBAL|[A-Za-z]{2})?/i))?{yisYear:a[1],yisGeo:a[2]}:null};f.getYisYear=function(a){return(a=this.getYisParams_(a))?a.yisYear:void 0};
f.getYisGeoOptions=function(){var a=this.getYisYear();return this.yisGeoPickerPerYear[a]};f.getYisLocale=function(){return window.locale||"en"};f.getCurrentYisGeoIdFromPathParams=function(){var a=this.getYisParams_(this.location_.path());a=a&&a.yisGeo;return this.getAvailableYisYearsByGeoId_(a)?a:null};f.getYisGeo=function(){return this.getCurrentYisGeoIdFromPathParams()||this.yisDefaultGeo};
f.getYisGeoName=function(){var a=this.getYisGeo();if("GLOBAL"===a)return null;var b=this.getYisGeoOptions().find(function(c){return c.id===a});return b?b.name:""};var Re=function(a,b){b=void 0===b?{}:b;this.logger_={log:aa,allow:{nameSpace:!1,storeParams:!1,showLogs:!!window.location.hostname.match(/localhost|ws.tlv.corp.google.com/),log:!1,info:!1,warn:!0,error:!0,debug:!1}};this.scope=a;this.logger_.allow.showLogs&&(b.debug=!0,b.storeParams=!0);this.update(b)};
Re.prototype.update=function(a){function b(d,e){return"undefined"===typeof d?e:d}a=a||{};var c=this.logger_.allow;c.nameSpace=a.nameSpace||c.nameSpace;!c.nameSpace instanceof RegExp&&(c.nameSpace=!1);c.log=b(a.log,c.log);c.info=b(a.info,c.info);c.warn=b(a.warn,c.warn);c.error=b(a.error,c.error);c.debug=b(a.debug,c.debug);c.showLogs=b(a.showLogs,c.showLogs);c.storeParams=b(a.storeParams,c.storeParams)};
Re.prototype.puts=function(a,b){b=Array.isArray(b)?b:[b];var c=this.puts.caller,d=this.scope.constructor.name,e=Math.floor(Date.now()/1E3);b=Object.assign([],b);b.push(c);b.push(e);b.unshift(this.scope);var g=this.logger_.allow;c=g.showLogs&&g[a]&&na.console;g=g.nameSpace;var h=g instanceof RegExp&&d.match(g);if(c&&(h||!g))this.logger_.log[a](b);this.logger_.allow.storeParams&&(window.putsLogger=window.putsLogger||{},window.putsLogger[d]=window.putsLogger[d]||{},window.putsLogger[d][e]=window.putsLogger[d][e]||
[],window.putsLogger[d][e].push(b))};Qe.prototype.DebugLogger=Re;var Se=function(a,b,c,d,e,g,h){this.scope_=a;this.configService_=d;this.modalService_=b;this.lodash_=c;this.selectedGeo=e;this.onFiltersPick_=g;this.location_=h};t("$jscomp.scope.YisFilterDialogCtrl",Se,void 0);Se.$inject="$scope $mdDialog lodash configService currentSelectedGeo onFiltersPick $location $window".split(" ");Se.prototype.hideModal=function(){this.modalService_.hide();this.scope_.$destroy()};
Se.prototype.setSelectedGeo=function(a){a.supported&&(this.selectedGeo=a,this.onFiltersPick_(a),this.hideModal())};Se.prototype.isSelectedGeo=function(a){return this.selectedGeo===a};Se.prototype.showModal=function(){this.yisGeoOptions=this.configService_.getYisGeoOptions();this.modalService_.show({controller:this.lodash_.constant(this),controllerAs:"ctrl",scope:this.scope_,templateUrl:"/components/filter/yis-filter-dialog.html",clickOutsideToClose:!0,preserveScope:!0})};var Te,Ue,Ve,We,Xe=function(){this.restrict="E";this.templateUrl="/components/filter/yis-filter-directive.html";this.scope={selectedGeo:"="};this.yisDefaultGeoId=window.yisDefaultGeo||"GLOBAL";this.logger_=new Te.DebugLogger(this);this.link=this.link_.bind(this)};
Xe.prototype.link_=function(a){a.globalsService=Ue;a.staticPathPrefix=Te.staticPathPrefix;a.selectedGeo=this.getSelectedGeoById_(a.selectedGeo.id||this.yisDefaultGeoId);a.showYisCountryFilterDialogBind=Ve.bindKey(this,"showYisCountryFilterDialog",a)};Xe.prototype.getSelectedGeoById_=function(a){var b=Te.getYisGeoOptions().find(function(c){return c.id===a});this.logger_.puts("debug",[b]);return b};
Xe.prototype.showYisCountryFilterDialog=function(a){We("YisFilterDialogCtrl",{$scope:a.$new(),onFiltersPick:function(b){a.selectedGeo=b},currentSelectedGeo:a.selectedGeo}).showModal()};var Ye=function(a,b,c,d,e,g){We=a;Ve=b;Te=e;Ue=g;return new Xe};t("$jscomp.scope.directiveInjector$jscomp$16",Ye,void 0);Ye.$inject="$controller lodash $mdDialog $location configService globalsService".split(" ");var Ze,$e,af,bf=function(){this.restrict="E";this.templateUrl="/components/layout/grid-directive.html";this.scope={gridContentArray:"=",storyTimestamp:"=",storyId:"=",fadingOut:"="};this.numberOfColumns=3;this.link=this.link_.bind(this)};
bf.prototype.generateYisWidgetShareTitle=function(a){var b=Ze.getYisGeoName(),c=Ze.getYisYear();c={widgetShareTitle:a,date:c};b?(a=$e.isCurrentYearShowingTrendingSearches()?"See the top trending {widgetShareTitle} in {geoName} for {date}, from Google Trends":"See the most searched {widgetShareTitle} in {geoName} for {date}, from Google Trends",c.geoName=b):a=$e.isCurrentYearShowingTrendingSearches()?"See the top trending {widgetShareTitle} globally for {date}, from Google Trends":"See the most searched {widgetShareTitle} globally for {date}, from Google Trends";
return(new wb(a)).format(c)};bf.prototype.link_=function(a){a.generateYisWidgetShareTitleBind=this.generateYisWidgetShareTitle.bind(this);var b=this.updateNumberOfColumnsByScreenWidth_.bind(this,a);angular.element(af).bind("resize",b);this.updateNumberOfColumnsByScreenWidth_(a);a.$watch("gridContentArray",this.createGridContentMatrix_.bind(this,a),!0)};bf.prototype.updateNumberOfColumnsByScreenWidth_=function(a){var b=af.innerWidth,c=3;808>b?c=1:808<=b&&1211>=b&&(c=2);this.numberOfColumns=c;this.createGridContentMatrix_(a)};
bf.prototype.createGridContentMatrix_=function(a){var b=this,c=[];(a.gridContentArray||[]).forEach(function(d,e){e%=b.numberOfColumns;c[e]=c[e]||[];c[e].push(d)});a.gridContentMatrix=c};var cf=function(a,b,c){af=a;Ze=b;$e=c;return new bf};t("$jscomp.scope.directiveInjector$jscomp$17",cf,void 0);cf.$inject=["$window","configService","yisService"];var X=function(){};t("$jscomp.scope.PaletteService",X,void 0);X.$inject=["$window","lodash"];X.COLOR_PALETTE_1_=[{name:"PALETTE_COLOR_1",caption:"Blue",hexvalue:"#4285F4"},{name:"PALETTE_COLOR_2",caption:"Red",hexvalue:"#DB4437"},{name:"PALETTE_COLOR_3",caption:"Yellow",hexvalue:"#F4B400"},{name:"PALETTE_COLOR_4",caption:"Green",hexvalue:"#0F9D58"},{name:"PALETTE_COLOR_5",caption:"Purple",hexvalue:"#AB47BC"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
X.COLOR_PALETTE_2_=[{name:"PALETTE_COLOR_1",caption:"Red",hexvalue:"#DB4437"},{name:"PALETTE_COLOR_2",caption:"Blue",hexvalue:"#4285F4"},{name:"PALETTE_COLOR_3",caption:"Green",hexvalue:"#0F9D58"},{name:"PALETTE_COLOR_4",caption:"Yellow",hexvalue:"#F4B400"},{name:"PALETTE_COLOR_5",caption:"Purple",hexvalue:"#AB47BC"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
X.COLOR_PALETTE_3_=[{name:"PALETTE_COLOR_1",caption:"Yellow",hexvalue:"#F4B400"},{name:"PALETTE_COLOR_2",caption:"Blue",hexvalue:"#4285F4"},{name:"PALETTE_COLOR_3",caption:"Red",hexvalue:"#DB4437"},{name:"PALETTE_COLOR_4",caption:"Green",hexvalue:"#0F9D58"},{name:"PALETTE_COLOR_5",caption:"Purple",hexvalue:"#AB47BC"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
X.COLOR_PALETTE_4_=[{name:"PALETTE_COLOR_1",caption:"Green",hexvalue:"#0F9D58"},{name:"PALETTE_COLOR_2",caption:"Yellow",hexvalue:"#F4B400"},{name:"PALETTE_COLOR_3",caption:"Red",hexvalue:"#DB4437"},{name:"PALETTE_COLOR_4",caption:"Blue",hexvalue:"#4285F4"},{name:"PALETTE_COLOR_5",caption:"Purple",hexvalue:"#AB47BC"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
X.COLOR_PALETTE_5_=[{name:"PALETTE_COLOR_1",caption:"Purple",hexvalue:"#AB47BC"},{name:"PALETTE_COLOR_2",caption:"Yellow",hexvalue:"#F4B400"},{name:"PALETTE_COLOR_3",caption:"Blue",hexvalue:"#4285F4"},{name:"PALETTE_COLOR_4",caption:"Green",hexvalue:"#0F9D58"},{name:"PALETTE_COLOR_5",caption:"Red",hexvalue:"#DB4437"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
X.COLOR_PALETTE_6_=[{name:"PALETTE_COLOR_1",caption:"Indigo",hexvalue:"#3F51B5"},{name:"PALETTE_COLOR_2",caption:"DeepOrange",hexvalue:"#FF5722"},{name:"PALETTE_COLOR_3",caption:"Teal",hexvalue:"#009688"},{name:"PALETTE_COLOR_4",caption:"DeepPurple",hexvalue:"#673AB7"},{name:"PALETTE_COLOR_5",caption:"Cyan",hexvalue:"#00BCD4"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
X.COLOR_PALETTE_7_=[{name:"PALETTE_COLOR_1",caption:"DeepOrange",hexvalue:"#FF5722"},{name:"PALETTE_COLOR_2",caption:"Indigo",hexvalue:"#3F51B5"},{name:"PALETTE_COLOR_3",caption:"Teal",hexvalue:"#009688"},{name:"PALETTE_COLOR_4",caption:"DeepPurple",hexvalue:"#673AB7"},{name:"PALETTE_COLOR_5",caption:"Cyan",hexvalue:"#00BCD4"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
X.COLOR_PALETTE_8_=[{name:"PALETTE_COLOR_1",caption:"Teal",hexvalue:"#009688"},{name:"PALETTE_COLOR_2",caption:"Indigo",hexvalue:"#3F51B5"},{name:"PALETTE_COLOR_3",caption:"DeepOrange",hexvalue:"#FF5722"},{name:"PALETTE_COLOR_4",caption:"DeepPurple",hexvalue:"#673AB7"},{name:"PALETTE_COLOR_5",caption:"Cyan",hexvalue:"#00BCD4"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
X.COLOR_PALETTE_9_=[{name:"PALETTE_COLOR_1",caption:"DeepPurple",hexvalue:"#673AB7"},{name:"PALETTE_COLOR_2",caption:"Teal",hexvalue:"#009688"},{name:"PALETTE_COLOR_3",caption:"DeepOrange",hexvalue:"#FF5722"},{name:"PALETTE_COLOR_4",caption:"Indigo",hexvalue:"#3F51B5"},{name:"PALETTE_COLOR_5",caption:"Cyan",hexvalue:"#00BCD4"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
X.COLOR_PALETTE_10_=[{name:"PALETTE_COLOR_1",caption:"Cyan",hexvalue:"#00BCD4"},{name:"PALETTE_COLOR_2",caption:"Teal",hexvalue:"#009688"},{name:"PALETTE_COLOR_3",caption:"Indigo",hexvalue:"#3F51B5"},{name:"PALETTE_COLOR_4",caption:"DeepPurple",hexvalue:"#673AB7"},{name:"PALETTE_COLOR_5",caption:"DeepOrange",hexvalue:"#FF5722"},{name:"PALETTE_COLOR_6",caption:"Grey",hexvalue:"#9E9E9E"}];
X.prototype.getByThemeName=function(a){a=(a||"").match(/^Color([0-9]{1,2})$/);var b;a&&(b=X["COLOR_PALETTE_"+a[1]+"_"]);return b};var df=function(){var a=this;this.messages_={};this.dynamicPlaceholdersMessages_={};this.messages_.MSG_GOOGLE_TRENDS="Google Trends";this.messages_.MSG_RELATED_QUERIES="Related Queries";this.messages_.MSG_RELATED_NEWS="Related News";this.messages_.MSG_SAVE_BUTTON="Save";this.messages_.MSG_SUBSCRIPTIONS_HEADER_TITLE="Subscriptions";this.messages_.MSG_SUBSCRIBE_BUTTON="Subscribe";this.messages_.MSG_UNSUBSCRIBE_BUTTON="Unsubscribe";this.messages_.MSG_ADD_SUBSCRIPTION_TITLE="Add subscription";this.messages_.MSG_EDIT_SUBSCRIPTION_TITLE=
"Edit subscription";this.messages_.MSG_SUBSCRIPTION_ADDED="Subscription added";this.messages_.MSG_SUBSCRIPTION_EDITED="Subscription edited";this.messages_.MSG_SUBSCRIPTION_DELETED="Subscription deleted";this.messages_.MSG_SUBSCRIPTION_TOPIC_TAB="TOPIC";this.messages_.MSG_TRENDING_SEARCHES_TITLE_SMALL="Trends";this.messages_.MSG_TRENDING_SEARCHES_TITLE="Trending Searches";this.messages_.MSG_SUBSCRIPTION_TRENDING_SEARCHES_TAB="TRENDING SEARCHES";this.messages_.MSG_SUBSCRIPTIONS_DAILY_SEARCH_TRENDS=
"Daily Search Trends";this.messages_.MSG_SUBSCRIPTION_ITEM="Item";this.messages_.MSG_SUBSCRIPTION_REGION="Region";this.messages_.MSG_SUBSCRIPTION_TYPE="Type";this.messages_.MSG_SUBSCRIPTION_HOW_OFTEN="How Often";this.messages_.MSG_SUBSCRIPTION_TOPIC="Topic";this.messages_.MSG_SUBSCRIPTION_LEVEL_TYPE="Type";this.messages_.MSG_SUBSCRIPTION_DIALOG_TERM="Subscribe to receive updates about noteworthy events.";this.messages_.MSG_SUBSCRIPTION_DIALOG_TRENDING="Notify me about Trending Searches.";this.messages_.MSG_ABOUT_ONCE_A_WEEK=
"About once a week";this.messages_.MSG_ABOUT_ONCE_A_MONTH="About once a month";this.messages_.MSG_AS_IT_HAPPENS="As it happens";this.messages_.MSG_ONCE_A_DAY="Once a day";this.messages_.MSG_ONCE_A_WEEK="Once a week";this.messages_.MSG_LEVEL_HOTTEST="Top Daily Search Trends";this.messages_.MSG_LEVEL_HOTTER="Majority of Daily Search Trends";this.messages_.MSG_LEVEL_HOT="All Daily Search Trends";this.messages_.MSG_SUBSCRIPTION_TERM_TYPE="Search term";this.messages_.MSG_START_WITH_EXAMPLE="Or start with an example";
this.messages_.MSG_NO_DAILY_TRENDS_FOR_REGION_ERROR="<div>Daily search trends</div><div>are not available for this region.</div><div>Try a different region</div>";this.messages_.MSG_REALTIME_HEADER_TITLE_MOBILE="Past 24h";this.messages_.MSG_REALTIME_HEADER_TITLE_DESKTOP="Past 24 hours";this.messages_.MSG_SEARCH_BAR_PLACEHOLDER="Enter a search term or a topic";this.messages_.MSG_READ_MORE="Read more";this.messages_.MSG_VISIT_WEBSITE="Visit website";this.messages_.MSG_SHOW_MORE="Show more";this.messages_.MSG_HOMEPAGE_WELCOME_MESSAGE_TITLE=
"We are excited to announce a fresh new redesign of Google Trends!";this.messages_.MSG_HOMEPAGE_WELCOME_MESSAGE_BODY="We have added new features and simplified our navigation to make it easier to explore data based stories.";this.messages_.MSG_DAILY_SEARCHES_DESKTOP_TITLE="daily search trends";this.messages_.MSG_DAILY_SEARCHES_MOBILE_TITLE="daily";this.messages_.MSG_REALTIME_SEARCHES_DESKTOP_TITLE="realtime search trends";this.messages_.MSG_REALTIME_SEARCHES_MOBILE_TITLE="realtime";this.messages_.MSG_REAL_TIME_HELP_DIALOG_TITLE=
"Realtime Search Trends";this.messages_.MSG_REAL_TIME_HELP_DIALOG_DESCRIPTION="Realtime Search Trends highlight stories that are trending across Google surfaces within the last 24 hours, and are updated in realtime. These stories are a collection of Knowledge Graph topics, Search interest, trending YouTube videos, and/or Google News articles detected by our algorithms.";this.messages_.MSG_DAILY_HELP_DIALOG_TITLE="Daily Search Trends";this.messages_.MSG_DAILY_HELP_DIALOG_DESCRIPTION="Daily Search Trends highlights searches that jumped significantly in traffic among all searches over the past 24 hours and updates hourly. These search trends show the specific queries that were searched, and the absolute number of searches made.";
this.messages_.MSG_RECENTLY_TRENDING_TITLE="Recently trending";this.messages_.MSG_RECENTLY_TRENDING_TITLE_GLOBAL="Recently trending - Global";this.messages_.MSG_AUTOCOMPLETE_PLACEHOLDER="Type in a search term or a topic";this.messages_.MSG_WORLDWIDE_GEO="Worldwide";this.messages_.MSG_COMPARE_NEW="Compare";this.messages_.MSG_EXPLORE_NEW="Explore";this.messages_.MSG_ADVANCED_COMPARISON="Advanced Comparison";this.dynamicPlaceholdersMessages_.YIS_INTERACTIVE_MESSAGE=function(b){return a.formatYisInteractiveMessage_(b)};
this.dynamicPlaceholdersMessages_.YIS_TITLE=function(b){return a.formatYisTitle_(b)};this.dynamicPlaceholdersMessages_.YIS_TRENDING_GEO_PICKER_TITLE=function(b){return a.formatYisTrendingGeoPickerTitle_(b)};this.dynamicPlaceholdersMessages_.YIS_MOST_SEARCHED_GEO_PICKER_TITLE=function(b){return a.formatYisMostSearchedGeoPickerTitle_(b)};this.dynamicPlaceholdersMessages_.SEARCH_COUNT=function(b){return a.formatSearchCount_(b)};this.dynamicPlaceholdersMessages_.USER_EMAIL=function(b){return a.formatUserEmail_(b)};
this.dynamicPlaceholdersMessages_.SOURCE_AND_TIME=function(b){return a.formatSourceAndTime_(b)};this.dynamicPlaceholdersMessages_.EXPLORE_TOPIC=function(b){return a.formatExploreTopic_(b)};this.dynamicPlaceholdersMessages_.NO_REALTIME_TRENDS_FOR_REGION_ERROR=function(b){return a.formatNoRealtimeTrendsForRegionError_(b)};this.dynamicPlaceholdersMessages_.SUBSCRIPTION_TITLE=function(b){return a.formatSubscriptionTitle_(b)};this.dynamicPlaceholdersMessages_.WIDGET_SHARE_WITH_DATA=function(b){return a.formatWidgetShareWithData_(b)};
this.dynamicPlaceholdersMessages_.WIDGET_SHARE_NO_KEYWORDS=function(b){return a.formatWidgetShareNoKeywords_(b)};this.dynamicPlaceholdersMessages_.WIDGET_SHARE_NO_GEO_AND_PERIOD=function(b){return a.formatWidgetShareNoGeoAndPeriod_(b)};this.dynamicPlaceholdersMessages_.SEARCH_RANGE_WAS_ADJUSTED_NEW=function(b){return a.formatSearchRangeWasAdjusted_(b)}};f=df.prototype;f.formatYisInteractiveMessage_=function(a){return"Experience the Year in Search "+(a.year+" interactive visualization")};
f.formatYisTitle_=function(a){return"Year in Search "+a.year};f.formatYisTrendingGeoPickerTitle_=function(a){return"See what was trending in "+(a.year+" - ")};f.formatYisMostSearchedGeoPickerTitle_=function(a){return"See what was most searched in "+(a.year+" - ")};f.formatSearchCount_=function(a){return a.count+" searches"};f.formatUserEmail_=function(a){return"Email address: "+a.userEmail};f.formatSourceAndTime_=function(a){return a.source+(" \u2022 "+a.timeAgo)};
f.formatExploreTopic_=function(a){return"Explore "+a.topic};f.formatNoRealtimeTrendsForRegionError_=function(a){return"<div>Realtime search trends</div><div>are not available for this region.</div><div>Try a different region or</div>"+(a.startLink+"SEE DAILY TRENDS</a>")};f.formatSubscriptionTitle_=function(a){return a.term+(" ("+(a.type+")"))};f.formatWidgetShareWithData_=function(a){return"See "+(a.widgetTitle+(" on Google Trends for "+(a.keywords+(" - "+(a.geo+(", "+a.time))))))};
f.formatWidgetShareNoKeywords_=function(a){return"See "+(a.widgetTitle+(" on Google Trends for "+(a.geo+(", "+a.time))))};f.formatWidgetShareNoGeoAndPeriod_=function(a){return"See "+(a.widgetTitle+(" on Google Trends for "+a.keywords))};f.formatSearchRangeWasAdjusted_=function(a){return a.property+" data is not available prior to 2008. Time range was adjusted to 2008-present."};f.translate=function(a,b){b=void 0===b?{}:b;return this.messages_[a]?(new wb(this.messages_[a])).format(b):this.dynamicPlaceholdersMessages_[a](b)};var Y,ef,ff,gf,hf,jf,kf,lf,mf,nf,of=function(){var a=this,b=this.controller;this.restrict="E";this.template='<ng-include src="widgetTemplate"></ng-include>';this.yisYear=void 0;this.scope={type:"@",version:"@",template:"@",onEvent:"&?",exploreParamsGetter:"&?",shareTitleGetter:"&?",storyId:"@",yisYear:"@",storyParentId:"@",storyTitle:"@",storyTitleArray:"=?",storyCountry:"@",storyTimeRange:"@",timeRange:"=?",storyNumberOfItems:"@",storyTimestamp:"@",widgetIsCurated:"@",colorTheme:"@",palette:"=?",
data:"=?",showLegend:"=?",showModePicker:"=?","export":"&?",helpDialog:"=?",exploreQuery:"=?",anchorName:"=?",exploreUrl:"@",widgetName:"@",showMultiHeatMapMessage:"=?",isMainEditorialItem:"=?"};this.controller=function(c){b.call(a,c)};this.controller.$inject=["$scope"];this.link=function(c){c.getTemplate()}};f=of.prototype;f.arrayMap_=function(a,b){b||(b={});return Y.map(a,function(c){var d={};Y.forIn(c,function(e,g){d[b[g]||g]=e});return d})};
f.controller=function(a){this.yisYear=ef.getYisYear();var b=this.getColorPalette_(a);ff.embedWidgetGlobals&&Y.assign(a,ff.embedWidgetGlobals);Y.defaults(a,a.data,{});a.config=ef;a.widgetPalette=b;a.forcedColor=b?b[0].hexvalue:"";a.arrayMap=Y.bindKey(this,"arrayMap_");a.getTemplate=Y.bindKey(this,"getTemplate_",a);a.embed=Y.bindKey(this,"showEmbedDialog_",a);this.yisYear&&(this.adaptSharingOptionsForYis(a),this.updateWidgetAnchorNameForYis(a));ef.enableWidgetShare&&(a.share=Y.bindKey(this,"showShareDialog_",
a));Y.forEach(a.widgetExternalApis,Y.bindKey(this,"updateApiConfig_",a.token))};f.updateWidgetAnchorNameForYis=function(a){a.anchorName=a.id;a.id===gf.hash()&&setTimeout(function(){hf()},0)};
f.adaptSharingOptionsForYis=function(a){a.genericAction=Y.bindKey(this,"fireGenericAction_",a);a.widgetFields||(a.widgetFields=[],a.widgetFields[0]={name:"topic",type:"string",value:a.listTitle},a.widgetFields[1]={name:"bullets",subtype:"string",type:"list",values:a.listItems},a.widgetFields[2]={name:"listItemsV2",subtype:"string",type:"list",values:a.listItemsV2})};f.getSiteBasePath_=function(){return window.location.protocol+"//"+window.location.host+ef.pathPrefix};
f.generateExploreShareURI_=function(a){return this.getSiteBasePath_()+"/explore/"+a+window.location.search};f.generateStoryShareURI_=function(a,b){a=this.getSiteBasePath_()+"/story/"+a;b&&(a+="/"+b);return a};f.generateTopChartsShareURI_=function(a){var b=this.getSiteBasePath_(),c=ef.getYisGeo();b=b+"/yis/"+this.yisYear+"/"+c;a&&(b+="/"+a);return b};f.getColorPalette_=function(a){var b=a.palette;a.colorTheme&&(b=jf.get("paletteService").getByThemeName(a.colorTheme));return b};
f.getDefaultShareTitle_=function(a,b){return a.storyTitle?[a.storyTitle,b].join(", "):b};f.getTemplate_=function(a){var b=kf.slugifyString(a.type).replace(/[^-_a-z0-9]/ig,"");a.widgetTemplate=b?"/components/widgets/types/"+b+".html":""};f.fireGenericAction_=function(a,b,c){var d=lf.isSmallTouchDeviceMode,e=lf.isMobileMode;switch(b){case "openYisModal":e&&this.showShareDialogYis_(a);break;case "openListItemModal":d&&this.showListItemModal_(a,c);break;case "copy":mf.copyWidgetData(a.widgetFields)}};
f.showEmbedDialog_=function(a){var b=!(!a.widgetExternalApis||!a.widgetExternalApis.length);nf.show({controller:"EmbedDialogCtrl",controllerAs:"ctrl",templateUrl:"/components/embed/embed-dialog.html",clickOutsideToClose:!0,locals:{storyId:a.storyId,widgetId:a.id,exploreParams:a.exploreParamsGetter&&a.exploreParamsGetter(),timestamp:a.storyTimestamp,timeRange:a.timeRange,exploreQuery:a.exploreQuery,hasExternalApi:b,showLiveDataCheckbox:!0,isCurated:a.isCurated,geo:"",wideView:!1},onComplete:function(c){c.isDialogComplete=
!0;c.$applyAsync()}})};f.getWidgetFields_=function(){return this.widgetFields?this.widgetFields:[]};f.showShareDialogYis_=function(a){var b=jf.get("shareService"),c=a.storyId,d=a.id,e=this.generateTopChartsShareURI_(d),g=a.widgetFields?Y.find(a.widgetFields,{name:"topic"}).value:a.title;b.openYisBottomSheet(e,{title:a.shareTitleGetter&&a.shareTitleGetter({widgetTitle:g})||g,exploreParams:a.exploreParamsGetter&&a.exploreParamsGetter(),storyID:c,widgetID:d,widgetData:a.widgetFields})};
f.showListItemModal_=function(a,b){var c=jf.get("shareService"),d=a.storyId,e=a.id,g=d?this.generateStoryShareURI_(d,e):this.generateExploreShareURI_(e),h=this.getWidgetFields_.bind(a)();h=h[1]?h[1].values:[];c.openListItemBottomSheet(g,{exploreParams:a.exploreParamsGetter&&a.exploreParamsGetter(),storyID:d,widgetID:e,widgetItem:h.length?h[b]:"",widgetData:a.widgetFields})};
f.showShareDialog_=function(a){var b=jf.get("shareService"),c=a.storyId,d=a.id,e=a.widgetFields?Y.find(a.widgetFields,{name:"topic"}).value:a.title;if("fe_yis_story_card"===a.widgetType&&a.storyParentId&&"fe_goober"!==a.template){var g=Y.find(a.widgetFields,function(h){return"storyLinkURL"===h.name});g&&(c=g.value.match(/story\/(.+)/)[1],d=null)}g="";g=this.yisYear?this.generateTopChartsShareURI_(d):c?this.generateStoryShareURI_(c,d):this.generateExploreShareURI_(d);b.openModal(g,{title:a.shareTitleGetter&&
a.shareTitleGetter({widgetTitle:e})||this.getDefaultShareTitle_(a,e),exploreParams:a.exploreParamsGetter&&a.exploreParamsGetter(),storyID:c,widgetID:d,widgetType:a.widgetType,widgetData:a.widgetFields})};f.updateApiConfig_=function(a,b){Y.isObject(b.params)&&(b.params.tz=ef.userTimezoneOffset,b.params.token=a)};var pf=function(a,b,c,d,e,g,h,k,l,p,q,u){jf=a;ff=b;nf=c;Y=d;kf=e;ef=g;lf=g.getYisYear()?k:l;mf=p;hf=q;gf=u;return new of};t("$jscomp.scope.directiveInjector$jscomp$18",pf,void 0);
pf.$inject="$injector $window $mdDialog lodash helpersFactory configService bidiService globalsYisService globalsService clipboardService $anchorScroll $location".split(" ");var Z=angular.module("trendsEmbed",["ddmLocalization","ngMaterial","publishAppFramework",window.embedWidgetModule,Oe.name]),qf=function(a){var b=function(c,d,e){return{request:d.bindKey(e,"embedRequestInterceptor",c)}};b.$inject=["$window","lodash","configService","clipboardService"];a.interceptors.push(b)};t("$jscomp.scope.interceptorConfig",qf,void 0);qf.$inject=["$httpProvider"];var rf=function(a,b){a.config=b};t("$jscomp.scope.runCallback",rf,void 0);rf.$inject=["$rootScope","configService"];
var sf=function(){var a=window.navigator.userAgent;return-1<a.indexOf("MSIE")||-1<a.indexOf("Trident")};Z.value("forceCachedTemplates",!0);Z.run(rf);Z.config(qf);
window.addEventListener("message",function(a){var b=document.getElementsByClassName("trends-wrapper")[0],c=a.currentTarget.embedWidgetModule,d=0,e=!1;sf()&&"publishAppFeLineChartV1"===c&&(e=!0,b.className+=" ie");var g=function(){var h=b.clientHeight;d!=h&&(a.source.postMessage({uniqueID:a.data.uniqueID,height:h,isIeAndLineChart:e},a.origin),d=h);setTimeout(g,50)};a.source.postMessage({uniqueID:a.data.uniqueID,isReady:!0},a.origin);g()},!1);Z.directive("trendsWidget",pf);
Z.service("configService",Qe);Z.service("clipboardService",Pe);Z.service("paletteService",X);Z.service("translationService",df);
